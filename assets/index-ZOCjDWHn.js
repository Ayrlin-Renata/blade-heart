var Mc=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var E=(t,e,n)=>(Mc(t,e,"read from private field"),n?n.call(t):e.get(t)),z=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},$=(t,e,n,r)=>(Mc(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var Ba=(t,e,n,r)=>({set _(i){$(t,e,i,n)},get _(){return E(t,e,r)}}),re=(t,e,n)=>(Mc(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ua,k,Ny,jr,cm,Fy,wh,$y,Eo={},Uy=[],Hw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ml=Array.isArray;function Wn(t,e){for(var n in e)t[n]=e[n];return t}function zy(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?ua.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return lo(t,o,r,i,null)}function lo(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Ny,__i:-1,__u:0};return i==null&&k.vnode!=null&&k.vnode(s),s}function gn(){return{current:null}}function N(t){return t.children}function ht(t,e){this.props=t,this.context=e}function ds(t,e){if(e==null)return t.__?ds(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?ds(t):null}function jy(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return jy(t)}}function Th(t){(!t.__d&&(t.__d=!0)&&jr.push(t)&&!Pu.__r++||cm!==k.debounceRendering)&&((cm=k.debounceRendering)||Fy)(Pu)}function Pu(){var t,e,n,r,i,s,o,u,a;for(jr.sort(wh);t=jr.shift();)t.__d&&(e=jr.length,r=void 0,s=(i=(n=t).__v).__e,u=[],a=[],(o=n.__P)&&((r=Wn({},i)).__v=i.__v+1,k.vnode&&k.vnode(r),Vd(o,r,i,n.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,u,s??ds(i),!!(32&i.__u),a),r.__.__k[r.__i]=r,Wy(u,r,a),r.__e!=s&&jy(r)),jr.length>e&&jr.sort(wh));Pu.__r=0}function By(t,e,n,r,i,s,o,u,a,l,c){var h,f,d,m,g,p=r&&r.__k||Uy,y=e.length;for(n.__d=a,Ww(n,e,p),a=n.__d,h=0;h<y;h++)(d=n.__k[h])!=null&&typeof d!="boolean"&&typeof d!="function"&&(f=d.__i===-1?Eo:p[d.__i]||Eo,d.__i=h,Vd(t,d,f,i,s,o,u,a,l,c),m=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Ld(f.ref,null,d),c.push(d.ref,d.__c||m,d)),g==null&&m!=null&&(g=m),65536&d.__u||f.__k===d.__k?a=Hy(d,a,t):typeof d.type=="function"&&d.__d!==void 0?a=d.__d:m&&(a=m.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=a,n.__e=g}function Ww(t,e,n){var r,i,s,o,u,a=e.length,l=n.length,c=l,h=0;for(t.__k=[],r=0;r<a;r++)(i=t.__k[r]=(i=e[r])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?lo(null,i,null,null,i):ml(i)?lo(N,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?lo(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,u=qw(i,n,o=r+h,c),i.__i=u,s=null,u!==-1&&(c--,(s=n[u])&&(s.__u|=131072)),s==null||s.__v===null?(u==-1&&h--,typeof i.type!="function"&&(i.__u|=65536)):u!==o&&(u===o+1?h++:u>o?c>a-o?h+=u-o:h--:h=u<o&&u==o-1?u-o:0,u!==r+h&&(i.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==t.__d&&(t.__d=ds(s)),Ih(s,s,!1),n[r]=null,c--);if(c)for(r=0;r<l;r++)(s=n[r])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=ds(s)),Ih(s,s))}function Hy(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=Hy(r[i],e,n));return e}return t.__e!=e&&(n.insertBefore(t.__e,e||null),e=t.__e),e&&e.nextSibling}function Qn(t,e){return e=e||[],t==null||typeof t=="boolean"||(ml(t)?t.some(function(n){Qn(n,e)}):e.push(t)),e}function qw(t,e,n,r){var i=t.key,s=t.type,o=n-1,u=n+1,a=e[n];if(a===null||a&&i==a.key&&s===a.type)return n;if(r>(a!=null&&!(131072&a.__u)?1:0))for(;o>=0||u<e.length;){if(o>=0){if((a=e[o])&&!(131072&a.__u)&&i==a.key&&s===a.type)return o;o--}if(u<e.length){if((a=e[u])&&!(131072&a.__u)&&i==a.key&&s===a.type)return u;u++}}return-1}function hm(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Hw.test(e)?n:n+"px"}function Ha(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||hm(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||hm(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=Date.now(),t.addEventListener(e,s?fm:dm,s)):t.removeEventListener(e,s?fm:dm,s);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function dm(t){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(k.event?k.event(t):t)}function fm(t){return this.l[t.type+!0](k.event?k.event(t):t)}function Vd(t,e,n,r,i,s,o,u,a,l){var c,h,f,d,m,g,p,y,_,w,T,A,b,S,P,x=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(a=!!(32&n.__u),s=[u=e.__e=n.__e]),(c=k.__b)&&c(e);e:if(typeof x=="function")try{if(y=e.props,_=(c=x.contextType)&&r[c.__c],w=c?_?_.props.value:c.__:r,n.__c?p=(h=e.__c=n.__c).__=h.__E:("prototype"in x&&x.prototype.render?e.__c=h=new x(y,w):(e.__c=h=new ht(y,w),h.constructor=x,h.render=Gw),_&&_.sub(h),h.props=y,h.state||(h.state={}),h.context=w,h.__n=r,f=h.__d=!0,h.__h=[],h._sb=[]),h.__s==null&&(h.__s=h.state),x.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=Wn({},h.__s)),Wn(h.__s,x.getDerivedStateFromProps(y,h.__s))),d=h.props,m=h.state,h.__v=e,f)x.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(x.getDerivedStateFromProps==null&&y!==d&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(y,w),!h.__e&&(h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(y,h.__s,w)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(h.props=y,h.state=h.__s,h.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(V){V&&(V.__=e)}),T=0;T<h._sb.length;T++)h.__h.push(h._sb[T]);h._sb=[],h.__h.length&&o.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(y,h.__s,w),h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(d,m,g)})}if(h.context=w,h.props=y,h.__P=t,h.__e=!1,A=k.__r,b=0,"prototype"in x&&x.prototype.render){for(h.state=h.__s,h.__d=!1,A&&A(e),c=h.render(h.props,h.state,h.context),S=0;S<h._sb.length;S++)h.__h.push(h._sb[S]);h._sb=[]}else do h.__d=!1,A&&A(e),c=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++b<25);h.state=h.__s,h.getChildContext!=null&&(r=Wn(Wn({},r),h.getChildContext())),f||h.getSnapshotBeforeUpdate==null||(g=h.getSnapshotBeforeUpdate(d,m)),By(t,ml(P=c!=null&&c.type===N&&c.key==null?c.props.children:c)?P:[P],e,n,r,i,s,o,u,a,l),h.base=e.__e,e.__u&=-161,h.__h.length&&o.push(h),p&&(h.__E=h.__=null)}catch(V){e.__v=null,a||s!=null?(e.__e=u,e.__u|=a?160:32,s[s.indexOf(u)]=null):(e.__e=n.__e,e.__k=n.__k),k.__e(V,e,n)}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Kw(n.__e,e,n,r,i,s,o,a,l);(c=k.diffed)&&c(e)}function Wy(t,e,n){e.__d=void 0;for(var r=0;r<n.length;r++)Ld(n[r],n[++r],n[++r]);k.__c&&k.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){k.__e(s,i.__v)}})}function Kw(t,e,n,r,i,s,o,u,a){var l,c,h,f,d,m,g,p=n.props,y=e.props,_=e.type;if(_==="svg"&&(i=!0),s!=null){for(l=0;l<s.length;l++)if((d=s[l])&&"setAttribute"in d==!!_&&(_?d.localName===_:d.nodeType===3)){t=d,s[l]=null;break}}if(t==null){if(_===null)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",_):document.createElement(_,y.is&&y),s=null,u=!1}if(_===null)p===y||u&&t.data===y||(t.data=y);else{if(s=s&&ua.call(t.childNodes),p=n.props||Eo,!u&&s!=null)for(p={},l=0;l<t.attributes.length;l++)p[(d=t.attributes[l]).name]=d.value;for(l in p)d=p[l],l=="children"||(l=="dangerouslySetInnerHTML"?h=d:l==="key"||l in y||Ha(t,l,null,d,i));for(l in y)d=y[l],l=="children"?f=d:l=="dangerouslySetInnerHTML"?c=d:l=="value"?m=d:l=="checked"?g=d:l==="key"||u&&typeof d!="function"||p[l]===d||Ha(t,l,d,p[l],i);if(c)u||h&&(c.__html===h.__html||c.__html===t.innerHTML)||(t.innerHTML=c.__html),e.__k=[];else if(h&&(t.innerHTML=""),By(t,ml(f)?f:[f],e,n,r,i&&_!=="foreignObject",s,o,s?s[0]:n.__k&&ds(n,0),u,a),s!=null)for(l=s.length;l--;)s[l]!=null&&zy(s[l]);u||(l="value",m!==void 0&&(m!==t[l]||_==="progress"&&!m||_==="option"&&m!==p[l])&&Ha(t,l,m,p[l],!1),l="checked",g!==void 0&&g!==t[l]&&Ha(t,l,g,p[l],!1))}return t}function Ld(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){k.__e(r,n)}}function Ih(t,e,n){var r,i;if(k.unmount&&k.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||Ld(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){k.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Ih(r[i],e,n||typeof t.type!="function");n||t.__e==null||zy(t.__e),t.__=t.__e=t.__d=void 0}function Gw(t,e,n){return this.constructor(t,n)}function oi(t,e,n){var r,i,s,o;k.__&&k.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],o=[],Vd(e,t=(!r&&n||e).__k=L(N,null,[t]),i||Eo,Eo,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?ua.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r,o),Wy(s,t,o)}function qy(t,e){oi(t,e,qy)}function Qw(t,e,n){var r,i,s,o,u=Wn({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?i=e[s]:u[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(u.children=arguments.length>3?ua.call(arguments,2):n),lo(t.type,u,r||t.key,i||t.ref,null)}function ft(t,e){var n={__c:e="__cC"+$y++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(u){u.__e=!0,Th(u)})},this.sub=function(o){i.push(o);var u=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),u&&u.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}ua=Uy.slice,k={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(u){t=u}throw t}},Ny=0,ht.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Wn({},this.state),typeof t=="function"&&(t=t(Wn({},n),this.props)),t&&Wn(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Th(this))},ht.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Th(this))},ht.prototype.render=N,jr=[],Fy=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,wh=function(t,e){return t.__v.__b-e.__v.__b},Pu.__r=0,$y=0;typeof window<"u"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.19.3",k,{Fragment:N,Component:ht});var pm={};function jn(t){return t.type===N?"Fragment":typeof t.type=="function"?t.type.displayName||t.type.name:typeof t.type=="string"?t.type:"#text"}var co=[],Ai=[];function Ky(){return co.length>0?co[co.length-1]:null}var mm=!1;function Vc(t){return typeof t.type=="function"&&t.type!=N}function yt(t){for(var e=[t],n=t;n.__o!=null;)e.push(n.__o),n=n.__o;return e.reduce(function(r,i){r+="  in "+jn(i);var s=i.__source;return s?r+=" (at "+s.fileName+":"+s.lineNumber+")":mm||(mm=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),r+`
`},"")}var Yw=typeof WeakMap=="function";function Gy(t){var e=[];return t.__k&&t.__k.forEach(function(n){n&&typeof n.type=="function"?e.push.apply(e,Gy(n)):n&&typeof n.type=="string"&&e.push(n.type)}),e}function Qy(t){return t?typeof t.type=="function"?t.__===null?t.__e!==null&&t.__e.parentNode!==null?t.__e.parentNode.localName:"":Qy(t.__):t.type:""}var Xw=ht.prototype.setState;function gm(t){return t==="table"||t==="tfoot"||t==="tbody"||t==="thead"||t==="td"||t==="tr"||t==="th"}ht.prototype.setState=function(t,e){return this.__v==null&&this.state==null&&console.warn(`Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.

`+yt(Ky())),Xw.call(this,t,e)};var Jw=/^(address|article|aside|blockquote|details|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|main|menu|nav|ol|p|pre|search|section|table|ul)$/,Zw=ht.prototype.forceUpdate;function cn(t){var e=t.props,n=jn(t),r="";for(var i in e)if(e.hasOwnProperty(i)&&i!=="children"){var s=e[i];typeof s=="function"&&(s="function "+(s.displayName||s.name)+"() {}"),s=Object(s)!==s||s.toString?s+"":Object.prototype.toString.call(s),r+=" "+i+"="+JSON.stringify(s)}var o=e.children;return"<"+n+r+(o&&o.length?">..</"+n+">":" />")}ht.prototype.forceUpdate=function(t){return this.__v==null?console.warn(`Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.

`+yt(Ky())):this.__P==null&&console.warn(`Can't call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.

`+yt(this.__v)),Zw.call(this,t)},function(){(function(){var d=k.__b,m=k.diffed,g=k.__,p=k.vnode,y=k.__r;k.diffed=function(_){Vc(_)&&Ai.pop(),co.pop(),m&&m(_)},k.__b=function(_){Vc(_)&&co.push(_),d&&d(_)},k.__=function(_,w){Ai=[],g&&g(_,w)},k.vnode=function(_){_.__o=Ai.length>0?Ai[Ai.length-1]:null,p&&p(_)},k.__r=function(_){Vc(_)&&Ai.push(_),y&&y(_)}})();var t=!1,e=k.__b,n=k.diffed,r=k.vnode,i=k.__r,s=k.__e,o=k.__,u=k.__h,a=Yw?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,l=[];k.__e=function(d,m,g,p){if(m&&m.__c&&typeof d.then=="function"){var y=d;d=new Error("Missing Suspense. The throwing component was: "+jn(m));for(var _=m;_;_=_.__)if(_.__c&&_.__c.__c){d=y;break}if(d instanceof Error)throw d}try{(p=p||{}).componentStack=yt(m),s(d,m,g,p),typeof d.then!="function"&&setTimeout(function(){throw d})}catch(w){throw w}},k.__=function(d,m){if(!m)throw new Error(`Undefined parent passed to render(), this is the second argument.
Check if the element is available in the DOM/has the correct id.`);var g;switch(m.nodeType){case 1:case 11:case 9:g=!0;break;default:g=!1}if(!g){var p=jn(d);throw new Error("Expected a valid HTML node as a second argument to render.	Received "+m+" instead: render(<"+p+" />, "+m+");")}o&&o(d,m)},k.__b=function(d){var m=d.type;if(t=!0,m===void 0)throw new Error(`Undefined component passed to createElement()

You likely forgot to export your component or might have mixed up default and named imports`+cn(d)+`

`+yt(d));if(m!=null&&typeof m=="object")throw m.__k!==void 0&&m.__e!==void 0?new Error("Invalid type passed to createElement(): "+m+`

Did you accidentally pass a JSX literal as JSX twice?

  let My`+jn(d)+" = "+cn(m)+`;
  let vnode = <My`+jn(d)+` />;

This usually happens when you export a JSX literal and not the component.

`+yt(d)):new Error("Invalid type passed to createElement(): "+(Array.isArray(m)?"array":m));if(d.ref!==void 0&&typeof d.ref!="function"&&typeof d.ref!="object"&&!("$$typeof"in d))throw new Error(`Component's "ref" property should be a function, or an object created by createRef(), but got [`+typeof d.ref+`] instead
`+cn(d)+`

`+yt(d));if(typeof d.type=="string"){for(var g in d.props)if(g[0]==="o"&&g[1]==="n"&&typeof d.props[g]!="function"&&d.props[g]!=null)throw new Error(`Component's "`+g+'" property should be a function, but got ['+typeof d.props[g]+`] instead
`+cn(d)+`

`+yt(d))}if(typeof d.type=="function"&&d.type.propTypes){if(d.type.displayName==="Lazy"&&a&&!a.lazyPropTypes.has(d.type)){var p="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var y=d.type();a.lazyPropTypes.set(d.type,!0),console.warn(p+"Component wrapped in lazy() is "+jn(y))}catch{console.warn(p+"We will log the wrapped component's name once it is loaded.")}}var _=d.props;d.type.__f&&delete(_=function(w,T){for(var A in T)w[A]=T[A];return w}({},_)).ref,function(w,T,A,b,S){Object.keys(w).forEach(function(P){var x;try{x=w[P](T,P,b,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(V){x=V}x&&!(x.message in pm)&&(pm[x.message]=!0,console.error("Failed prop type: "+x.message+(S&&`
`+S()||"")))})}(d.type.propTypes,_,0,jn(d),function(){return yt(d)})}e&&e(d)},k.__r=function(d){i&&i(d),t=!0},k.__h=function(d,m,g){if(!d||!t)throw new Error("Hook can only be invoked from render methods.");u&&u(d,m,g)};var c=function(d,m){return{get:function(){var g="get"+d+m;l&&l.indexOf(g)<0&&(l.push(g),console.warn("getting vnode."+d+" is deprecated, "+m))},set:function(){var g="set"+d+m;l&&l.indexOf(g)<0&&(l.push(g),console.warn("setting vnode."+d+" is not allowed, "+m))}}},h={nodeName:c("nodeName","use vnode.type"),attributes:c("attributes","use vnode.props"),children:c("children","use vnode.props.children")},f=Object.create({},h);k.vnode=function(d){var m=d.props;if(d.type!==null&&m!=null&&("__source"in m||"__self"in m)){var g=d.props={};for(var p in m){var y=m[p];p==="__source"?d.__source=y:p==="__self"?d.__self=y:g[p]=y}}d.__proto__=f,r&&r(d)},k.diffed=function(d){var m,g=d.type,p=d.__;if(d.__k&&d.__k.forEach(function(G){if(typeof G=="object"&&G&&G.type===void 0){var le=Object.keys(G).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+le+`}.

`+yt(d))}}),typeof g=="string"&&(gm(g)||g==="p")){var y=Qy(p);if(y!=="")g==="table"&&y!=="td"&&gm(y)?(console.log(y,p.__e),console.error("Improper nesting of table. Your <table> should not have a table-node parent."+cn(d)+`

`+yt(d))):g!=="thead"&&g!=="tfoot"&&g!=="tbody"||y==="table"?g==="tr"&&y!=="thead"&&y!=="tfoot"&&y!=="tbody"&&y!=="table"?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+cn(d)+`

`+yt(d)):g==="td"&&y!=="tr"?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+cn(d)+`

`+yt(d)):g==="th"&&y!=="tr"&&console.error("Improper nesting of table. Your <th> should have a <tr>."+cn(d)+`

`+yt(d)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+cn(d)+`

`+yt(d));else if(g==="p"){var _=Gy(d).filter(function(G){return Jw.test(G)});_.length&&console.error("Improper nesting of paragraph. Your <p> should not have "+_.join(", ")+"as child-elements."+cn(d)+`

`+yt(d))}}if(t=!1,n&&n(d),d.__k!=null)for(var w=[],T=0;T<d.__k.length;T++){var A=d.__k[T];if(A&&A.key!=null){var b=A.key;if(w.indexOf(b)!==-1){console.error('Following component has two or more children with the same key attribute: "'+b+`". This may cause glitches and misbehavior in rendering process. Component: 

`+cn(d)+`

`+yt(d));break}w.push(b)}}if(d.__c!=null&&d.__c.__H!=null){var S=d.__c.__H.__;if(S)for(var P=0;P<S.length;P+=1){var x=S[P];if(x.__H){for(var V=0;V<x.__H.length;V++)if((m=x.__H[V])!=m){var H=jn(d);throw new Error("Invalid argument passed to hook. Hooks should not be called with NaN in the dependency array. Hook index "+P+" in component "+H+" was called with NaN.")}}}}}}();var Xn,Ie,Lc,vm,fs=0,Yy=[],cu=[],ym=k.__b,_m=k.__r,bm=k.diffed,Em=k.__c,wm=k.unmount;function vi(t,e){k.__h&&k.__h(Ie,t,fs||e),fs=0;var n=Ie.__H||(Ie.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:cu}),n.__[t]}function ie(t){return fs=1,Nd(e_,t)}function Nd(t,e,n){var r=vi(Xn++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):e_(void 0,e),function(u){var a=r.__N?r.__N[0]:r.__[0],l=r.t(a,u);a!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=Ie,!Ie.u)){var i=function(u,a,l){if(!r.__c.__H)return!0;var c=r.__c.__H.__.filter(function(f){return f.__c});if(c.every(function(f){return!f.__N}))return!s||s.call(this,u,a,l);var h=!1;return c.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(h=!0)}}),!(!h&&r.__c.props===u)&&(!s||s.call(this,u,a,l))};Ie.u=!0;var s=Ie.shouldComponentUpdate,o=Ie.componentWillUpdate;Ie.componentWillUpdate=function(u,a,l){if(this.__e){var c=s;s=void 0,i(u,a,l),s=c}o&&o.call(this,u,a,l)},Ie.shouldComponentUpdate=i}return r.__N||r.__}function Ve(t,e){var n=vi(Xn++,3);!k.__s&&Fd(n.__H,e)&&(n.__=t,n.i=e,Ie.__H.__h.push(n))}function rr(t,e){var n=vi(Xn++,4);!k.__s&&Fd(n.__H,e)&&(n.__=t,n.i=e,Ie.__h.push(n))}function ct(t){return fs=5,Qe(function(){return{current:t}},[])}function Xy(t,e,n){fs=6,rr(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},n==null?n:n.concat(t))}function Qe(t,e){var n=vi(Xn++,7);return Fd(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Re(t,e){return fs=8,Qe(function(){return t},e)}function me(t){var e=Ie.context[t.__c],n=vi(Xn++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Ie)),e.props.value):t.__}function Jy(t,e){k.useDebugValue&&k.useDebugValue(e?e(t):t)}function eT(t){var e=vi(Xn++,10),n=ie();return e.__=t,Ie.componentDidCatch||(Ie.componentDidCatch=function(r,i){e.__&&e.__(r,i),n[1](r)}),[n[0],function(){n[1](void 0)}]}function Zy(){var t=vi(Xn++,11);if(!t.__){for(var e=Ie.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function tT(){for(var t;t=Yy.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(hu),t.__H.__h.forEach(Sh),t.__H.__h=[]}catch(e){t.__H.__h=[],k.__e(e,t.__v)}}k.__b=function(t){Ie=null,ym&&ym(t)},k.__r=function(t){_m&&_m(t),Xn=0;var e=(Ie=t.__c).__H;e&&(Lc===Ie?(e.__h=[],Ie.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=cu,n.__N=n.i=void 0})):(e.__h.forEach(hu),e.__h.forEach(Sh),e.__h=[],Xn=0)),Lc=Ie},k.diffed=function(t){bm&&bm(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Yy.push(e)!==1&&vm===k.requestAnimationFrame||((vm=k.requestAnimationFrame)||nT)(tT)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==cu&&(n.__=n.__V),n.i=void 0,n.__V=cu})),Lc=Ie=null},k.__c=function(t,e){e.some(function(n){try{n.__h.forEach(hu),n.__h=n.__h.filter(function(r){return!r.__||Sh(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],k.__e(r,n.__v)}}),Em&&Em(t,e)},k.unmount=function(t){wm&&wm(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{hu(r)}catch(i){e=i}}),n.__H=void 0,e&&k.__e(e,n.__v))};var Tm=typeof requestAnimationFrame=="function";function nT(t){var e,n=function(){clearTimeout(r),Tm&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Tm&&(e=requestAnimationFrame(n))}function hu(t){var e=Ie,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Ie=e}function Sh(t){var e=Ie;t.__c=t.__(),Ie=e}function Fd(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function e_(t,e){return typeof e=="function"?e(t):e}function t_(t,e){for(var n in e)t[n]=e[n];return t}function Ch(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function ps(t){this.props=t}function $d(t,e){function n(i){var s=this.props.ref,o=s==i.ref;return!o&&s&&(s.call?s(null):s.current=null),e?!e(this.props,i)||!o:Ch(this.props,i)}function r(i){return this.shouldComponentUpdate=n,L(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(ps.prototype=new ht).isPureReactComponent=!0,ps.prototype.shouldComponentUpdate=function(t,e){return Ch(this.props,t)||Ch(this.state,e)};var Im=k.__b;k.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Im&&Im(t)};var rT=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function xs(t){function e(n){var r=t_({},n);return delete r.ref,t(r,n.ref||null)}return e.$$typeof=rT,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Sm=function(t,e){return t==null?null:Qn(Qn(t).map(e))},n_={map:Sm,forEach:Sm,count:function(t){return t?Qn(t).length:0},only:function(t){var e=Qn(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:Qn},iT=k.__e;k.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}iT(t,e,n,r)};var Cm=k.unmount;function r_(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=t_({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return r_(r,e,n)})),t}function i_(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return i_(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function ho(){this.__u=0,this.t=null,this.__b=null}function s_(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function o_(t){var e,n,r;function i(s){if(e||(e=t()).then(function(o){n=o.default||o},function(o){r=o}),r)throw r;if(!n)throw e;return L(n,s)}return i.displayName="Lazy",i.__f=!0,i}function $i(){this.u=null,this.o=null}k.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Cm&&Cm(t)},(ho.prototype=new ht).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=s_(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(u):u())};n.__R=o;var u=function(){if(!--r.__u){if(r.state.__a){var a=r.state.__a;r.__v.__k[0]=i_(a,a.__c.__P,a.__c.__O)}var l;for(r.setState({__a:r.__b=null});l=r.t.pop();)l.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},ho.prototype.componentWillUnmount=function(){this.t=[]},ho.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=r_(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&L(N,null,t.fallback);return i&&(i.__u&=-33),[L(N,null,e.__a?null:t.children),i]};var Am=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function sT(t){return this.getChildContext=function(){return t.context},t.children}function oT(t){var e=this,n=t.i;e.componentWillUnmount=function(){oi(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),oi(L(sT,{context:e.context},t.__v),e.l)}function Ud(t,e){var n=L(oT,{__v:t,i:e});return n.containerInfo=e,n}($i.prototype=new ht).__a=function(t){var e=this,n=s_(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),Am(e,t,r)):i()};n?n(s):s()}},$i.prototype.render=function(t){this.u=null,this.o=new Map;var e=Qn(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},$i.prototype.componentDidUpdate=$i.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){Am(t,n,e)})};var a_=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,aT=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,uT=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,lT=/[A-Z0-9]/g,cT=typeof document<"u",hT=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function u_(t,e,n){return e.__k==null&&(e.textContent=""),oi(t,e),typeof n=="function"&&n(),t?t.__c:null}function l_(t,e,n){return qy(t,e),typeof n=="function"&&n(),t?t.__c:null}ht.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ht.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Rm=k.event;function dT(){}function fT(){return this.cancelBubble}function pT(){return this.defaultPrevented}k.event=function(t){return Rm&&(t=Rm(t)),t.persist=dT,t.isPropagationStopped=fT,t.isDefaultPrevented=pT,t.nativeEvent=t};var zd,mT={enumerable:!1,configurable:!0,get:function(){return this.class}},Pm=k.vnode;k.vnode=function(t){typeof t.type=="string"&&function(e){var n=e.props,r=e.type,i={};for(var s in n){var o=n[s];if(!(s==="value"&&"defaultValue"in n&&o==null||cT&&s==="children"&&r==="noscript"||s==="class"||s==="className")){var u=s.toLowerCase();s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":u==="ondoubleclick"?s="ondblclick":u!=="onchange"||r!=="input"&&r!=="textarea"||hT(n.type)?u==="onfocus"?s="onfocusin":u==="onblur"?s="onfocusout":uT.test(s)?s=u:r.indexOf("-")===-1&&aT.test(s)?s=s.replace(lT,"-$&").toLowerCase():o===null&&(o=void 0):u=s="oninput",u==="oninput"&&i[s=u]&&(s="oninputCapture"),i[s]=o}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Qn(n.children).forEach(function(a){a.props.selected=i.value.indexOf(a.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=Qn(n.children).forEach(function(a){a.props.selected=i.multiple?i.defaultValue.indexOf(a.props.value)!=-1:i.defaultValue==a.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",mT)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),e.props=i}(t),t.$$typeof=a_,Pm&&Pm(t)};var xm=k.__r;k.__r=function(t){xm&&xm(t),zd=t.__c};var Om=k.diffed;k.diffed=function(t){Om&&Om(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value),zd=null};var c_={ReactCurrentDispatcher:{current:{readContext:function(t){return zd.__n[t.__c].props.value}}}},gT="17.0.2";function h_(t){return L.bind(null,t)}function yi(t){return!!t&&t.$$typeof===a_}function d_(t){return yi(t)&&t.type===N}function f_(t){return yi(t)?Qw.apply(null,arguments):t}function p_(t){return!!t.__k&&(oi(null,t),!0)}function m_(t){return t&&(t.base||t.nodeType===1&&t)||null}var g_=function(t,e){return t(e)},jd=function(t,e){return t(e)},v_=N;function Bd(t){t()}function y_(t){return t}function __(){return[!1,Bd]}var b_=rr,E_=yi;function gl(t,e){var n=e(),r=ie({h:{__:n,v:e}}),i=r[0].h,s=r[1];return rr(function(){i.__=n,i.v=e,Nc(i)&&s({h:i})},[t,n,e]),Ve(function(){return Nc(i)&&s({h:i}),t(function(){Nc(i)&&s({h:i})})},[t]),n}function Nc(t){var e,n,r=t.v,i=t.__;try{var s=r();return!((e=i)===(n=s)&&(e!==0||1/e==1/n)||e!=e&&n!=n)}catch{return!0}}var vT={useState:ie,useId:Zy,useReducer:Nd,useEffect:Ve,useLayoutEffect:rr,useInsertionEffect:b_,useTransition:__,useDeferredValue:y_,useSyncExternalStore:gl,startTransition:Bd,useRef:ct,useImperativeHandle:Xy,useMemo:Qe,useCallback:Re,useContext:me,useDebugValue:Jy,version:"17.0.2",Children:n_,render:u_,hydrate:l_,unmountComponentAtNode:p_,createPortal:Ud,createElement:L,createContext:ft,createFactory:h_,cloneElement:f_,createRef:gn,Fragment:N,isValidElement:yi,isElement:E_,isFragment:d_,findDOMNode:m_,Component:ht,PureComponent:ps,memo:$d,forwardRef:xs,flushSync:jd,unstable_batchedUpdates:g_,StrictMode:v_,Suspense:ho,SuspenseList:$i,lazy:o_,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:c_};const ms=Object.freeze(Object.defineProperty({__proto__:null,Children:n_,Component:ht,Fragment:N,PureComponent:ps,StrictMode:v_,Suspense:ho,SuspenseList:$i,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:c_,cloneElement:f_,createContext:ft,createElement:L,createFactory:h_,createPortal:Ud,createRef:gn,default:vT,findDOMNode:m_,flushSync:jd,forwardRef:xs,hydrate:l_,isElement:E_,isFragment:d_,isValidElement:yi,lazy:o_,memo:$d,render:u_,startTransition:Bd,unmountComponentAtNode:p_,unstable_batchedUpdates:g_,useCallback:Re,useContext:me,useDebugValue:Jy,useDeferredValue:y_,useEffect:Ve,useErrorBoundary:eT,useId:Zy,useImperativeHandle:Xy,useInsertionEffect:b_,useLayoutEffect:rr,useMemo:Qe,useReducer:Nd,useRef:ct,useState:ie,useSyncExternalStore:gl,useTransition:__,version:gT},Symbol.toStringTag,{value:"Module"}));/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ue(){return Ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ue.apply(this,arguments)}var Be;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Be||(Be={}));const Dm="popstate";function yT(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:u}=r.location;return wo("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:la(i)}return bT(e,n,null,t)}function ue(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ai(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _T(){return Math.random().toString(36).substr(2,8)}function km(t,e){return{usr:t.state,key:t.key,idx:e}}function wo(t,e,n,r){return n===void 0&&(n=null),Ue({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ir(e):e,{state:n,key:e&&e.key||r||_T()})}function la(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ir(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bT(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=Be.Pop,a=null,l=c();l==null&&(l=0,o.replaceState(Ue({},o.state,{idx:l}),""));function c(){return(o.state||{idx:null}).idx}function h(){u=Be.Pop;let p=c(),y=p==null?null:p-l;l=p,a&&a({action:u,location:g.location,delta:y})}function f(p,y){u=Be.Push;let _=wo(g.location,p,y);n&&n(_,p),l=c()+1;let w=km(_,l),T=g.createHref(_);try{o.pushState(w,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(T)}s&&a&&a({action:u,location:g.location,delta:1})}function d(p,y){u=Be.Replace;let _=wo(g.location,p,y);n&&n(_,p),l=c();let w=km(_,l),T=g.createHref(_);o.replaceState(w,"",T),s&&a&&a({action:u,location:g.location,delta:0})}function m(p){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof p=="string"?p:la(p);return ue(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let g={get action(){return u},get location(){return t(i,o)},listen(p){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(Dm,h),a=p,()=>{i.removeEventListener(Dm,h),a=null}},createHref(p){return e(i,p)},createURL:m,encodeLocation(p){let y=m(p);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:d,go(p){return o.go(p)}};return g}var $e;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})($e||($e={}));const ET=new Set(["lazy","caseSensitive","path","id","index","children"]);function wT(t){return t.index===!0}function Ah(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],u=typeof i.id=="string"?i.id:o.join("-");if(ue(i.index!==!0||!i.children,"Cannot specify children on an index route"),ue(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),wT(i)){let a=Ue({},i,e(i),{id:u});return r[u]=a,a}else{let a=Ue({},i,e(i),{id:u,children:void 0});return r[u]=a,i.children&&(a.children=Ah(i.children,e,o,r)),a}})}function Ui(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ir(e):e,i=ca(r.pathname||"/",n);if(i==null)return null;let s=w_(t);IT(s);let o=null;for(let u=0;o==null&&u<s.length;++u)o=kT(s[u],LT(i));return o}function TT(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function w_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let a={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};a.relativePath.startsWith("/")&&(ue(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let l=Ar([r,a.relativePath]),c=n.concat(a);s.children&&s.children.length>0&&(ue(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),w_(s.children,e,c,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:OT(l,s.index),routesMeta:c})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let a of T_(s.path))i(s,o,a)}),e}function T_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=T_(r.join("/")),u=[];return u.push(...o.map(a=>a===""?s:[s,a].join("/"))),i&&u.push(...o),u.map(a=>t.startsWith("/")&&a===""?"/":a)}function IT(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DT(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ST=/^:\w+$/,CT=3,AT=2,RT=1,PT=10,xT=-2,Mm=t=>t==="*";function OT(t,e){let n=t.split("/"),r=n.length;return n.some(Mm)&&(r+=xT),e&&(r+=AT),n.filter(i=>!Mm(i)).reduce((i,s)=>i+(ST.test(s)?CT:s===""?RT:PT),r)}function DT(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kT(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let u=n[o],a=o===n.length-1,l=i==="/"?e:e.slice(i.length)||"/",c=MT({path:u.relativePath,caseSensitive:u.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let h=u.route;s.push({params:r,pathname:Ar([i,c.pathname]),pathnameBase:UT(Ar([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Ar([i,c.pathnameBase]))}return s}function MT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VT(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((l,c,h)=>{let{paramName:f,isOptional:d}=c;if(f==="*"){let g=u[h]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=u[h];return d&&!m?l[f]=void 0:l[f]=NT(m||"",f),l},{}),pathname:s,pathnameBase:o,pattern:t}}function VT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ai(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,u,a)=>(r.push({paramName:u,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LT(t){try{return decodeURI(t)}catch(e){return ai(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function NT(t,e){try{return decodeURIComponent(t)}catch(n){return ai(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function ca(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FT(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ir(t):t;return{pathname:n?n.startsWith("/")?n:$T(n,e):e,search:zT(r),hash:jT(i)}}function $T(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Hd(t,e){let n=I_(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wd(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ir(t):(i=Ue({},t),ue(!i.pathname||!i.pathname.includes("?"),Fc("?","pathname","search",i)),ue(!i.pathname||!i.pathname.includes("#"),Fc("#","pathname","hash",i)),ue(!i.search||!i.search.includes("#"),Fc("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}u=h>=0?e[h]:"/"}let a=FT(i,u),l=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(l||c)&&(a.pathname+="/"),a}const Ar=t=>t.join("/").replace(/\/\/+/g,"/"),UT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class qd{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function S_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const C_=["post","put","patch","delete"],BT=new Set(C_),HT=["get",...C_],WT=new Set(HT),qT=new Set([301,302,303,307,308]),KT=new Set([307,308]),$c={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Hs={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},A_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QT=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),R_="remix-router-transitions";function YT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;ue(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let I=t.detectErrorBoundary;i=C=>({hasErrorBoundary:I(C)})}else i=QT;let s={},o=Ah(t.routes,i,void 0,s),u,a=t.basename||"/",l=Ue({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,h=new Set,f=null,d=null,m=null,g=t.hydrationData!=null,p=Ui(o,t.history.location,a),y=null;if(p==null){let I=rn(404,{pathname:t.history.location.pathname}),{matches:C,route:R}=jm(o);p=C,y={[R.id]:I}}let _,w=p.some(I=>I.route.lazy),T=p.some(I=>I.route.loader);if(w)_=!1;else if(!T)_=!0;else if(l.v7_partialHydration){let I=t.hydrationData?t.hydrationData.loaderData:null,C=t.hydrationData?t.hydrationData.errors:null;_=p.every(R=>R.route.loader&&R.route.loader.hydrate!==!0&&(I&&I[R.route.id]!==void 0||C&&C[R.route.id]!==void 0))}else _=t.hydrationData!=null;let A,b={historyAction:t.history.action,location:t.history.location,matches:p,initialized:_,navigation:$c,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},S=Be.Pop,P=!1,x,V=!1,H=new Map,G=null,le=!1,pe=!1,be=[],Se=[],ge=new Map,gt=0,$t=-1,Vt=new Map,Ut=new Set,Ce=new Map,Xe=new Map,Je=new Set,St=new Map,Ze=new Map,Jt=!1;function ln(){if(c=t.history.listen(I=>{let{action:C,location:R,delta:F}=I;if(Jt){Jt=!1;return}ai(Ze.size===0||F!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let B=am({currentLocation:b.location,nextLocation:R,historyAction:C});if(B&&F!=null){Jt=!0,t.history.go(F*-1),Ua(B,{state:"blocked",location:R,proceed(){Ua(B,{state:"proceeding",proceed:void 0,reset:void 0,location:R}),t.history.go(F)},reset(){let ae=new Map(b.blockers);ae.set(B,Hs),Ct({blockers:ae})}});return}return Un(C,R)}),n){aI(e,H);let I=()=>uI(e,H);e.addEventListener("pagehide",I),G=()=>e.removeEventListener("pagehide",I)}return b.initialized||Un(Be.Pop,b.location,{initialHydration:!0}),A}function Ti(){c&&c(),G&&G(),h.clear(),x&&x.abort(),b.fetchers.forEach((I,C)=>$a(C)),b.blockers.forEach((I,C)=>om(C))}function Ac(I){return h.add(I),()=>h.delete(I)}function Ct(I,C){C===void 0&&(C={}),b=Ue({},b,I);let R=[],F=[];l.v7_fetcherPersist&&b.fetchers.forEach((B,ae)=>{B.state==="idle"&&(Je.has(ae)?F.push(ae):R.push(ae))}),[...h].forEach(B=>B(b,{deletedFetchers:F,unstable_viewTransitionOpts:C.viewTransitionOpts,unstable_flushSync:C.flushSync===!0})),l.v7_fetcherPersist&&(R.forEach(B=>b.fetchers.delete(B)),F.forEach(B=>$a(B)))}function ar(I,C,R){var F,B;let{flushSync:ae}=R===void 0?{}:R,J=b.actionData!=null&&b.navigation.formMethod!=null&&dn(b.navigation.formMethod)&&b.navigation.state==="loading"&&((F=I.state)==null?void 0:F._isRedirect)!==!0,X;C.actionData?Object.keys(C.actionData).length>0?X=C.actionData:X=null:J?X=b.actionData:X=null;let W=C.loaderData?zm(b.loaderData,C.loaderData,C.matches||[],C.errors):b.loaderData,he=b.blockers;he.size>0&&(he=new Map(he),he.forEach((Ae,vt)=>he.set(vt,Hs)));let ot=P===!0||b.navigation.formMethod!=null&&dn(b.navigation.formMethod)&&((B=I.state)==null?void 0:B._isRedirect)!==!0;u&&(o=u,u=void 0),le||S===Be.Pop||(S===Be.Push?t.history.push(I,I.state):S===Be.Replace&&t.history.replace(I,I.state));let oe;if(S===Be.Pop){let Ae=H.get(b.location.pathname);Ae&&Ae.has(I.pathname)?oe={currentLocation:b.location,nextLocation:I}:H.has(I.pathname)&&(oe={currentLocation:I,nextLocation:b.location})}else if(V){let Ae=H.get(b.location.pathname);Ae?Ae.add(I.pathname):(Ae=new Set([I.pathname]),H.set(b.location.pathname,Ae)),oe={currentLocation:b.location,nextLocation:I}}Ct(Ue({},C,{actionData:X,loaderData:W,historyAction:S,location:I,initialized:!0,navigation:$c,revalidation:"idle",restoreScrollPosition:lm(I,C.matches||b.matches),preventScrollReset:ot,blockers:he}),{viewTransitionOpts:oe,flushSync:ae===!0}),S=Be.Pop,P=!1,V=!1,le=!1,pe=!1,be=[],Se=[]}async function Na(I,C){if(typeof I=="number"){t.history.go(I);return}let R=Rh(b.location,b.matches,a,l.v7_prependBasename,I,l.v7_relativeSplatPath,C==null?void 0:C.fromRouteId,C==null?void 0:C.relative),{path:F,submission:B,error:ae}=Vm(l.v7_normalizeFormMethod,!1,R,C),J=b.location,X=wo(b.location,F,C&&C.state);X=Ue({},X,t.history.encodeLocation(X));let W=C&&C.replace!=null?C.replace:void 0,he=Be.Push;W===!0?he=Be.Replace:W===!1||B!=null&&dn(B.formMethod)&&B.formAction===b.location.pathname+b.location.search&&(he=Be.Replace);let ot=C&&"preventScrollReset"in C?C.preventScrollReset===!0:void 0,oe=(C&&C.unstable_flushSync)===!0,Ae=am({currentLocation:J,nextLocation:X,historyAction:he});if(Ae){Ua(Ae,{state:"blocked",location:X,proceed(){Ua(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),Na(I,C)},reset(){let vt=new Map(b.blockers);vt.set(Ae,Hs),Ct({blockers:vt})}});return}return await Un(he,X,{submission:B,pendingError:ae,preventScrollReset:ot,replace:C&&C.replace,enableViewTransition:C&&C.unstable_viewTransition,flushSync:oe})}function Fa(){if(Rc(),Ct({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){Un(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}Un(S||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation})}}async function Un(I,C,R){x&&x.abort(),x=null,S=I,le=(R&&R.startUninterruptedRevalidation)===!0,zw(b.location,b.matches),P=(R&&R.preventScrollReset)===!0,V=(R&&R.enableViewTransition)===!0;let F=u||o,B=R&&R.overrideNavigation,ae=Ui(F,C,a),J=(R&&R.flushSync)===!0;if(!ae){let vt=rn(404,{pathname:C.pathname}),{matches:Zt,route:at}=jm(F);Pc(),ar(C,{matches:Zt,loaderData:{},errors:{[at.id]:vt}},{flushSync:J});return}if(b.initialized&&!pe&&tI(b.location,C)&&!(R&&R.submission&&dn(R.submission.formMethod))){ar(C,{matches:ae},{flushSync:J});return}x=new AbortController;let X=qs(t.history,C,x.signal,R&&R.submission),W,he;if(R&&R.pendingError)he={[fo(ae).route.id]:R.pendingError};else if(R&&R.submission&&dn(R.submission.formMethod)){let vt=await kw(X,C,R.submission,ae,{replace:R.replace,flushSync:J});if(vt.shortCircuited)return;W=vt.pendingActionData,he=vt.pendingActionError,B=Uc(C,R.submission),J=!1,X=new Request(X.url,{signal:X.signal})}let{shortCircuited:ot,loaderData:oe,errors:Ae}=await Mw(X,C,ae,B,R&&R.submission,R&&R.fetcherSubmission,R&&R.replace,R&&R.initialHydration===!0,J,W,he);ot||(x=null,ar(C,Ue({matches:ae},W?{actionData:W}:{},{loaderData:oe,errors:Ae})))}async function kw(I,C,R,F,B){B===void 0&&(B={}),Rc();let ae=sI(C,R);Ct({navigation:ae},{flushSync:B.flushSync===!0});let J,X=xh(F,C);if(!X.route.action&&!X.route.lazy)J={type:$e.error,error:rn(405,{method:I.method,pathname:C.pathname,routeId:X.route.id})};else if(J=await Ws("action",I,X,F,s,i,a,l.v7_relativeSplatPath),I.signal.aborted)return{shortCircuited:!0};if(Hr(J)){let W;return B&&B.replace!=null?W=B.replace:W=J.location===b.location.pathname+b.location.search,await js(b,J,{submission:R,replace:W}),{shortCircuited:!0}}if(zi(J)){let W=fo(F,X.route.id);return(B&&B.replace)!==!0&&(S=Be.Push),{pendingActionData:{},pendingActionError:{[W.route.id]:J.error}}}if(Br(J))throw rn(400,{type:"defer-action"});return{pendingActionData:{[X.route.id]:J.data}}}async function Mw(I,C,R,F,B,ae,J,X,W,he,ot){let oe=F||Uc(C,B),Ae=B||ae||Wm(oe),vt=u||o,[Zt,at]=Lm(t.history,b,R,Ae,C,l.v7_partialHydration&&X===!0,pe,be,Se,Je,Ce,Ut,vt,a,he,ot);if(Pc(Te=>!(R&&R.some(De=>De.route.id===Te))||Zt&&Zt.some(De=>De.route.id===Te)),$t=++gt,Zt.length===0&&at.length===0){let Te=im();return ar(C,Ue({matches:R,loaderData:{},errors:ot||null},he?{actionData:he}:{},Te?{fetchers:new Map(b.fetchers)}:{}),{flushSync:W}),{shortCircuited:!0}}if(!le&&(!l.v7_partialHydration||!X)){at.forEach(De=>{let yn=b.fetchers.get(De.key),ja=Ks(void 0,yn?yn.data:void 0);b.fetchers.set(De.key,ja)});let Te=he||b.actionData;Ct(Ue({navigation:oe},Te?Object.keys(Te).length===0?{actionData:null}:{actionData:Te}:{},at.length>0?{fetchers:new Map(b.fetchers)}:{}),{flushSync:W})}at.forEach(Te=>{ge.has(Te.key)&&lr(Te.key),Te.controller&&ge.set(Te.key,Te.controller)});let Ii=()=>at.forEach(Te=>lr(Te.key));x&&x.signal.addEventListener("abort",Ii);let{results:xc,loaderResults:Si,fetcherResults:cr}=await tm(b.matches,R,Zt,at,I);if(I.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Ii),at.forEach(Te=>ge.delete(Te.key));let Fr=Bm(xc);if(Fr){if(Fr.idx>=Zt.length){let Te=at[Fr.idx-Zt.length].key;Ut.add(Te)}return await js(b,Fr.result,{replace:J}),{shortCircuited:!0}}let{loaderData:Oc,errors:Dc}=Um(b,R,Zt,Si,ot,at,cr,St);St.forEach((Te,De)=>{Te.subscribe(yn=>{(yn||Te.done)&&St.delete(De)})});let kc=im(),Ci=sm($t),za=kc||Ci||at.length>0;return Ue({loaderData:Oc,errors:Dc},za?{fetchers:new Map(b.fetchers)}:{})}function Vw(I,C,R,F){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ge.has(I)&&lr(I);let B=(F&&F.unstable_flushSync)===!0,ae=u||o,J=Rh(b.location,b.matches,a,l.v7_prependBasename,R,l.v7_relativeSplatPath,C,F==null?void 0:F.relative),X=Ui(ae,J,a);if(!X){Bs(I,C,rn(404,{pathname:J}),{flushSync:B});return}let{path:W,submission:he,error:ot}=Vm(l.v7_normalizeFormMethod,!0,J,F);if(ot){Bs(I,C,ot,{flushSync:B});return}let oe=xh(X,W);if(P=(F&&F.preventScrollReset)===!0,he&&dn(he.formMethod)){Lw(I,C,W,oe,X,B,he);return}Ce.set(I,{routeId:C,path:W}),Nw(I,C,W,oe,X,B,he)}async function Lw(I,C,R,F,B,ae,J){if(Rc(),Ce.delete(I),!F.route.action&&!F.route.lazy){let De=rn(405,{method:J.formMethod,pathname:R,routeId:C});Bs(I,C,De,{flushSync:ae});return}let X=b.fetchers.get(I);ur(I,oI(J,X),{flushSync:ae});let W=new AbortController,he=qs(t.history,R,W.signal,J);ge.set(I,W);let ot=gt,oe=await Ws("action",he,F,B,s,i,a,l.v7_relativeSplatPath);if(he.signal.aborted){ge.get(I)===W&&ge.delete(I);return}if(l.v7_fetcherPersist&&Je.has(I)){if(Hr(oe)||zi(oe)){ur(I,dr(void 0));return}}else{if(Hr(oe))if(ge.delete(I),$t>ot){ur(I,dr(void 0));return}else return Ut.add(I),ur(I,Ks(J)),js(b,oe,{fetcherSubmission:J});if(zi(oe)){Bs(I,C,oe.error);return}}if(Br(oe))throw rn(400,{type:"defer-action"});let Ae=b.navigation.location||b.location,vt=qs(t.history,Ae,W.signal),Zt=u||o,at=b.navigation.state!=="idle"?Ui(Zt,b.navigation.location,a):b.matches;ue(at,"Didn't find any matches after fetcher action");let Ii=++gt;Vt.set(I,Ii);let xc=Ks(J,oe.data);b.fetchers.set(I,xc);let[Si,cr]=Lm(t.history,b,at,J,Ae,!1,pe,be,Se,Je,Ce,Ut,Zt,a,{[F.route.id]:oe.data},void 0);cr.filter(De=>De.key!==I).forEach(De=>{let yn=De.key,ja=b.fetchers.get(yn),Bw=Ks(void 0,ja?ja.data:void 0);b.fetchers.set(yn,Bw),ge.has(yn)&&lr(yn),De.controller&&ge.set(yn,De.controller)}),Ct({fetchers:new Map(b.fetchers)});let Fr=()=>cr.forEach(De=>lr(De.key));W.signal.addEventListener("abort",Fr);let{results:Oc,loaderResults:Dc,fetcherResults:kc}=await tm(b.matches,at,Si,cr,vt);if(W.signal.aborted)return;W.signal.removeEventListener("abort",Fr),Vt.delete(I),ge.delete(I),cr.forEach(De=>ge.delete(De.key));let Ci=Bm(Oc);if(Ci){if(Ci.idx>=Si.length){let De=cr[Ci.idx-Si.length].key;Ut.add(De)}return js(b,Ci.result)}let{loaderData:za,errors:Te}=Um(b,b.matches,Si,Dc,void 0,cr,kc,St);if(b.fetchers.has(I)){let De=dr(oe.data);b.fetchers.set(I,De)}sm(Ii),b.navigation.state==="loading"&&Ii>$t?(ue(S,"Expected pending action"),x&&x.abort(),ar(b.navigation.location,{matches:at,loaderData:za,errors:Te,fetchers:new Map(b.fetchers)})):(Ct({errors:Te,loaderData:zm(b.loaderData,za,at,Te),fetchers:new Map(b.fetchers)}),pe=!1)}async function Nw(I,C,R,F,B,ae,J){let X=b.fetchers.get(I);ur(I,Ks(J,X?X.data:void 0),{flushSync:ae});let W=new AbortController,he=qs(t.history,R,W.signal);ge.set(I,W);let ot=gt,oe=await Ws("loader",he,F,B,s,i,a,l.v7_relativeSplatPath);if(Br(oe)&&(oe=await O_(oe,he.signal,!0)||oe),ge.get(I)===W&&ge.delete(I),!he.signal.aborted){if(Je.has(I)){ur(I,dr(void 0));return}if(Hr(oe))if($t>ot){ur(I,dr(void 0));return}else{Ut.add(I),await js(b,oe);return}if(zi(oe)){Bs(I,C,oe.error);return}ue(!Br(oe),"Unhandled fetcher deferred data"),ur(I,dr(oe.data))}}async function js(I,C,R){let{submission:F,fetcherSubmission:B,replace:ae}=R===void 0?{}:R;C.revalidate&&(pe=!0);let J=wo(I.location,C.location,{_isRedirect:!0});if(ue(J,"Expected a location on the redirect navigation"),n){let Ae=!1;if(C.reloadDocument)Ae=!0;else if(A_.test(C.location)){const vt=t.history.createURL(C.location);Ae=vt.origin!==e.location.origin||ca(vt.pathname,a)==null}if(Ae){ae?e.location.replace(C.location):e.location.assign(C.location);return}}x=null;let X=ae===!0?Be.Replace:Be.Push,{formMethod:W,formAction:he,formEncType:ot}=I.navigation;!F&&!B&&W&&he&&ot&&(F=Wm(I.navigation));let oe=F||B;if(KT.has(C.status)&&oe&&dn(oe.formMethod))await Un(X,J,{submission:Ue({},oe,{formAction:C.location}),preventScrollReset:P});else{let Ae=Uc(J,F);await Un(X,J,{overrideNavigation:Ae,fetcherSubmission:B,preventScrollReset:P})}}async function tm(I,C,R,F,B){let ae=await Promise.all([...R.map(W=>Ws("loader",B,W,C,s,i,a,l.v7_relativeSplatPath)),...F.map(W=>W.matches&&W.match&&W.controller?Ws("loader",qs(t.history,W.path,W.controller.signal),W.match,W.matches,s,i,a,l.v7_relativeSplatPath):{type:$e.error,error:rn(404,{pathname:W.path})})]),J=ae.slice(0,R.length),X=ae.slice(R.length);return await Promise.all([Hm(I,R,J,J.map(()=>B.signal),!1,b.loaderData),Hm(I,F.map(W=>W.match),X,F.map(W=>W.controller?W.controller.signal:null),!0)]),{results:ae,loaderResults:J,fetcherResults:X}}function Rc(){pe=!0,be.push(...Pc()),Ce.forEach((I,C)=>{ge.has(C)&&(Se.push(C),lr(C))})}function ur(I,C,R){R===void 0&&(R={}),b.fetchers.set(I,C),Ct({fetchers:new Map(b.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function Bs(I,C,R,F){F===void 0&&(F={});let B=fo(b.matches,C);$a(I),Ct({errors:{[B.route.id]:R},fetchers:new Map(b.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function nm(I){return l.v7_fetcherPersist&&(Xe.set(I,(Xe.get(I)||0)+1),Je.has(I)&&Je.delete(I)),b.fetchers.get(I)||GT}function $a(I){let C=b.fetchers.get(I);ge.has(I)&&!(C&&C.state==="loading"&&Vt.has(I))&&lr(I),Ce.delete(I),Vt.delete(I),Ut.delete(I),Je.delete(I),b.fetchers.delete(I)}function Fw(I){if(l.v7_fetcherPersist){let C=(Xe.get(I)||0)-1;C<=0?(Xe.delete(I),Je.add(I)):Xe.set(I,C)}else $a(I);Ct({fetchers:new Map(b.fetchers)})}function lr(I){let C=ge.get(I);ue(C,"Expected fetch controller: "+I),C.abort(),ge.delete(I)}function rm(I){for(let C of I){let R=nm(C),F=dr(R.data);b.fetchers.set(C,F)}}function im(){let I=[],C=!1;for(let R of Ut){let F=b.fetchers.get(R);ue(F,"Expected fetcher: "+R),F.state==="loading"&&(Ut.delete(R),I.push(R),C=!0)}return rm(I),C}function sm(I){let C=[];for(let[R,F]of Vt)if(F<I){let B=b.fetchers.get(R);ue(B,"Expected fetcher: "+R),B.state==="loading"&&(lr(R),Vt.delete(R),C.push(R))}return rm(C),C.length>0}function $w(I,C){let R=b.blockers.get(I)||Hs;return Ze.get(I)!==C&&Ze.set(I,C),R}function om(I){b.blockers.delete(I),Ze.delete(I)}function Ua(I,C){let R=b.blockers.get(I)||Hs;ue(R.state==="unblocked"&&C.state==="blocked"||R.state==="blocked"&&C.state==="blocked"||R.state==="blocked"&&C.state==="proceeding"||R.state==="blocked"&&C.state==="unblocked"||R.state==="proceeding"&&C.state==="unblocked","Invalid blocker state transition: "+R.state+" -> "+C.state);let F=new Map(b.blockers);F.set(I,C),Ct({blockers:F})}function am(I){let{currentLocation:C,nextLocation:R,historyAction:F}=I;if(Ze.size===0)return;Ze.size>1&&ai(!1,"A router only supports one blocker at a time");let B=Array.from(Ze.entries()),[ae,J]=B[B.length-1],X=b.blockers.get(ae);if(!(X&&X.state==="proceeding")&&J({currentLocation:C,nextLocation:R,historyAction:F}))return ae}function Pc(I){let C=[];return St.forEach((R,F)=>{(!I||I(F))&&(R.cancel(),C.push(F),St.delete(F))}),C}function Uw(I,C,R){if(f=I,m=C,d=R||null,!g&&b.navigation===$c){g=!0;let F=lm(b.location,b.matches);F!=null&&Ct({restoreScrollPosition:F})}return()=>{f=null,m=null,d=null}}function um(I,C){return d&&d(I,C.map(F=>TT(F,b.loaderData)))||I.key}function zw(I,C){if(f&&m){let R=um(I,C);f[R]=m()}}function lm(I,C){if(f){let R=um(I,C),F=f[R];if(typeof F=="number")return F}return null}function jw(I){s={},u=Ah(I,i,void 0,s)}return A={get basename(){return a},get future(){return l},get state(){return b},get routes(){return o},get window(){return e},initialize:ln,subscribe:Ac,enableScrollRestoration:Uw,navigate:Na,fetch:Vw,revalidate:Fa,createHref:I=>t.history.createHref(I),encodeLocation:I=>t.history.encodeLocation(I),getFetcher:nm,deleteFetcher:Fw,dispose:Ti,getBlocker:$w,deleteBlocker:om,_internalFetchControllers:ge,_internalActiveDeferreds:St,_internalSetRoutes:jw},A}function XT(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Rh(t,e,n,r,i,s,o,u){let a,l;if(o){a=[];for(let h of e)if(a.push(h),h.route.id===o){l=h;break}}else a=e,l=e[e.length-1];let c=Wd(i||".",Hd(a,s),ca(t.pathname,n)||t.pathname,u==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!Kd(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:Ar([n,c.pathname])),la(c)}function Vm(t,e,n,r){if(!r||!XT(r))return{path:n};if(r.formMethod&&!iI(r.formMethod))return{path:n,error:rn(405,{method:r.formMethod})};let i=()=>({path:n,error:rn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),u=x_(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!dn(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,m)=>{let[g,p]=m;return""+d+g+"="+p+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!dn(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:u,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}ue(typeof FormData=="function","FormData is not available in this environment");let a,l;if(r.formData)a=Ph(r.formData),l=r.formData;else if(r.body instanceof FormData)a=Ph(r.body),l=r.body;else if(r.body instanceof URLSearchParams)a=r.body,l=$m(a);else if(r.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(r.body),l=$m(a)}catch{return i()}let c={formMethod:o,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(dn(c.formMethod))return{path:n,submission:c};let h=ir(n);return e&&h.search&&Kd(h.search)&&a.append("index",""),h.search="?"+a,{path:la(h),submission:c}}function JT(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Lm(t,e,n,r,i,s,o,u,a,l,c,h,f,d,m,g){let p=g?Object.values(g)[0]:m?Object.values(m)[0]:void 0,y=t.createURL(e.location),_=t.createURL(i),w=g?Object.keys(g)[0]:void 0,A=JT(n,w).filter((S,P)=>{let{route:x}=S;if(x.lazy)return!0;if(x.loader==null)return!1;if(s)return x.loader.hydrate?!0:e.loaderData[x.id]===void 0&&(!e.errors||e.errors[x.id]===void 0);if(ZT(e.loaderData,e.matches[P],S)||u.some(G=>G===S.route.id))return!0;let V=e.matches[P],H=S;return Nm(S,Ue({currentUrl:y,currentParams:V.params,nextUrl:_,nextParams:H.params},r,{actionResult:p,defaultShouldRevalidate:o||y.pathname+y.search===_.pathname+_.search||y.search!==_.search||P_(V,H)}))}),b=[];return c.forEach((S,P)=>{if(s||!n.some(le=>le.route.id===S.routeId)||l.has(P))return;let x=Ui(f,S.path,d);if(!x){b.push({key:P,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let V=e.fetchers.get(P),H=xh(x,S.path),G=!1;h.has(P)?G=!1:a.includes(P)?G=!0:V&&V.state!=="idle"&&V.data===void 0?G=o:G=Nm(H,Ue({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:o})),G&&b.push({key:P,routeId:S.routeId,path:S.path,matches:x,match:H,controller:new AbortController})}),[A,b]}function ZT(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function P_(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Nm(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Fm(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];ue(i,"No route found in manifest");let s={};for(let o in r){let a=i[o]!==void 0&&o!=="hasErrorBoundary";ai(!a,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!ET.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ue({},e(i),{lazy:void 0}))}async function Ws(t,e,n,r,i,s,o,u,a){a===void 0&&(a={});let l,c,h,f=g=>{let p,y=new Promise((_,w)=>p=w);return h=()=>p(),e.signal.addEventListener("abort",h),Promise.race([g({request:e,params:n.params,context:a.requestContext}),y])};try{let g=n.route[t];if(n.route.lazy)if(g){let p,y=await Promise.all([f(g).catch(_=>{p=_}),Fm(n.route,s,i)]);if(p)throw p;c=y[0]}else if(await Fm(n.route,s,i),g=n.route[t],g)c=await f(g);else if(t==="action"){let p=new URL(e.url),y=p.pathname+p.search;throw rn(405,{method:e.method,pathname:y,routeId:n.route.id})}else return{type:$e.data,data:void 0};else if(g)c=await f(g);else{let p=new URL(e.url),y=p.pathname+p.search;throw rn(404,{pathname:y})}ue(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){l=$e.error,c=g}finally{h&&e.signal.removeEventListener("abort",h)}if(rI(c)){let g=c.status;if(qT.has(g)){let y=c.headers.get("Location");if(ue(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!A_.test(y))y=Rh(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,y,u);else if(!a.isStaticRequest){let _=new URL(e.url),w=y.startsWith("//")?new URL(_.protocol+y):new URL(y),T=ca(w.pathname,o)!=null;w.origin===_.origin&&T&&(y=w.pathname+w.search+w.hash)}if(a.isStaticRequest)throw c.headers.set("Location",y),c;return{type:$e.redirect,status:g,location:y,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===$e.error?$e.error:$e.data,response:c};let p;try{let y=c.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?p=await c.json():p=await c.text()}catch(y){return{type:$e.error,error:y}}return l===$e.error?{type:l,error:new qd(g,c.statusText,p),headers:c.headers}:{type:$e.data,data:p,statusCode:c.status,headers:c.headers}}if(l===$e.error)return{type:l,error:c};if(nI(c)){var d,m;return{type:$e.deferred,deferredData:c,statusCode:(d=c.init)==null?void 0:d.status,headers:((m=c.init)==null?void 0:m.headers)&&new Headers(c.init.headers)}}return{type:$e.data,data:c}}function qs(t,e,n,r){let i=t.createURL(x_(e)).toString(),s={signal:n};if(r&&dn(r.formMethod)){let{formMethod:o,formEncType:u}=r;s.method=o.toUpperCase(),u==="application/json"?(s.headers=new Headers({"Content-Type":u}),s.body=JSON.stringify(r.json)):u==="text/plain"?s.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?s.body=Ph(r.formData):s.body=r.formData}return new Request(i,s)}function Ph(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function $m(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function eI(t,e,n,r,i){let s={},o=null,u,a=!1,l={};return n.forEach((c,h)=>{let f=e[h].route.id;if(ue(!Hr(c),"Cannot handle redirect results in processLoaderData"),zi(c)){let d=fo(t,f),m=c.error;r&&(m=Object.values(r)[0],r=void 0),o=o||{},o[d.route.id]==null&&(o[d.route.id]=m),s[f]=void 0,a||(a=!0,u=S_(c.error)?c.error.status:500),c.headers&&(l[f]=c.headers)}else Br(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!a&&(u=c.statusCode),c.headers&&(l[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:u||200,loaderHeaders:l}}function Um(t,e,n,r,i,s,o,u){let{loaderData:a,errors:l}=eI(e,n,r,i,u);for(let c=0;c<s.length;c++){let{key:h,match:f,controller:d}=s[c];ue(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let m=o[c];if(!(d&&d.signal.aborted))if(zi(m)){let g=fo(t.matches,f==null?void 0:f.route.id);l&&l[g.route.id]||(l=Ue({},l,{[g.route.id]:m.error})),t.fetchers.delete(h)}else if(Hr(m))ue(!1,"Unhandled fetcher revalidation redirect");else if(Br(m))ue(!1,"Unhandled fetcher deferred data");else{let g=dr(m.data);t.fetchers.set(h,g)}}return{loaderData:a,errors:l}}function zm(t,e,n,r){let i=Ue({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function fo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function jm(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function rn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(o="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",u='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new qd(t||500,o,new Error(u),!0)}function Bm(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Hr(n))return{result:n,idx:e}}}function x_(t){let e=typeof t=="string"?ir(t):t;return la(Ue({},e,{hash:""}))}function tI(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Br(t){return t.type===$e.deferred}function zi(t){return t.type===$e.error}function Hr(t){return(t&&t.type)===$e.redirect}function nI(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function rI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function iI(t){return WT.has(t.toLowerCase())}function dn(t){return BT.has(t.toLowerCase())}async function Hm(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let u=n[o],a=e[o];if(!a)continue;let l=t.find(h=>h.route.id===a.route.id),c=l!=null&&!P_(l,a)&&(s&&s[a.route.id])!==void 0;if(Br(u)&&(i||c)){let h=r[o];ue(h,"Expected an AbortSignal for revalidating fetcher deferred result"),await O_(u,h,i).then(f=>{f&&(n[o]=f||n[o])})}}}async function O_(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:$e.data,data:t.deferredData.unwrappedData}}catch(i){return{type:$e.error,error:i}}return{type:$e.data,data:t.deferredData.data}}}function Kd(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function xh(t,e){let n=typeof e=="string"?ir(e).search:e.search;if(t[t.length-1].route.index&&Kd(n||""))return t[t.length-1];let r=I_(t);return r[r.length-1]}function Wm(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Uc(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function sI(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ks(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function oI(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function dr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function aI(t,e){try{let n=t.sessionStorage.getItem(R_);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function uI(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(R_,JSON.stringify(n))}catch(r){ai(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},To.apply(this,arguments)}const vl=ft(null),D_=ft(null),ha=ft(null),yl=ft(null),_i=ft({outlet:null,matches:[],isDataRoute:!1}),k_=ft(null);function da(){return me(yl)!=null}function fa(){return da()||ue(!1),me(yl).location}function M_(t){me(ha).static||rr(t)}function pa(){let{isDataRoute:t}=me(_i);return t?_I():lI()}function lI(){da()||ue(!1);let t=me(vl),{basename:e,future:n,navigator:r}=me(ha),{matches:i}=me(_i),{pathname:s}=fa(),o=JSON.stringify(Hd(i,n.v7_relativeSplatPath)),u=ct(!1);return M_(()=>{u.current=!0}),Re(function(l,c){if(c===void 0&&(c={}),!u.current)return;if(typeof l=="number"){r.go(l);return}let h=Wd(l,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ar([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}function cI(t,e,n,r){da()||ue(!1);let{navigator:i}=me(ha),{matches:s}=me(_i),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=fa(),c;if(e){var h;let p=typeof e=="string"?ir(e):e;a==="/"||(h=p.pathname)!=null&&h.startsWith(a)||ue(!1),c=p}else c=l;let f=c.pathname||"/",d=a==="/"?f:f.slice(a.length)||"/",m=Ui(t,{pathname:d}),g=mI(m&&m.map(p=>Object.assign({},p,{params:Object.assign({},u,p.params),pathname:Ar([a,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?a:Ar([a,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,n,r);return e&&g?L(yl.Provider,{value:{location:To({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Be.Pop}},g):g}function hI(){let t=N_(),e=S_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null;return L(N,null,L("h2",null,"Unexpected Application Error!"),L("h3",{style:{fontStyle:"italic"}},e),n?L("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},n):null,null)}const dI=L(hI,null);class fI extends ht{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L(_i.Provider,{value:this.props.routeContext},L(k_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pI(t){let{routeContext:e,match:n,children:r}=t,i=me(vl);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L(_i.Provider,{value:e},r)}function mI(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,u=(i=n)==null?void 0:i.errors;if(u!=null){let c=o.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id]));c>=0||ue(!1),o=o.slice(0,Math.min(o.length,c+1))}let a=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=c),h.route.id){let{loaderData:f,errors:d}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||m){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let d,m=!1,g=null,p=null;n&&(d=u&&h.route.id?u[h.route.id]:void 0,g=h.route.errorElement||dI,a&&(l<0&&f===0?(bI("route-fallback",!1),m=!0,p=null):l===f&&(m=!0,p=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),_=()=>{let w;return d?w=g:m?w=p:h.route.Component?w=L(h.route.Component,null):h.route.element?w=h.route.element:w=c,L(pI,{match:h,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?L(fI,{location:n.location,revalidation:n.revalidation,component:g,error:d,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var V_=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(V_||{}),xu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xu||{});function gI(t){let e=me(vl);return e||ue(!1),e}function vI(t){let e=me(D_);return e||ue(!1),e}function yI(t){let e=me(_i);return e||ue(!1),e}function L_(t){let e=yI(),n=e.matches[e.matches.length-1];return n.route.id||ue(!1),n.route.id}function N_(){var t;let e=me(k_),n=vI(xu.UseRouteError),r=L_(xu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _I(){let{router:t}=gI(V_.UseNavigateStable),e=L_(xu.UseNavigateStable),n=ct(!1);return M_(()=>{n.current=!0}),Re(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,To({fromRouteId:e},s)))},[t,e])}const qm={};function bI(t,e,n){!e&&!qm[t]&&(qm[t]=!0)}function EI(t){let{to:e,replace:n,state:r,relative:i}=t;da()||ue(!1);let{future:s,static:o}=me(ha),{matches:u}=me(_i),{pathname:a}=fa(),l=pa(),c=Wd(e,Hd(u,s.v7_relativeSplatPath),a,i==="path"),h=JSON.stringify(c);return Ve(()=>l(JSON.parse(h),{replace:n,state:r,relative:i}),[l,h,i,n,r]),null}function wI(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Be.Pop,navigator:s,static:o=!1,future:u}=t;da()&&ue(!1);let a=e.replace(/^\/*/,"/"),l=Qe(()=>({basename:a,navigator:s,static:o,future:To({v7_relativeSplatPath:!1},u)}),[a,u,s,o]);typeof r=="string"&&(r=ir(r));let{pathname:c="/",search:h="",hash:f="",state:d=null,key:m="default"}=r,g=Qe(()=>{let p=ca(c,a);return p==null?null:{location:{pathname:p,search:h,hash:f,state:d,key:m},navigationType:i}},[a,c,h,f,d,m,i]);return g==null?null:L(ha.Provider,{value:l},L(yl.Provider,{children:n,value:g}))}new Promise(()=>{});function TI(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ou(){return Ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ou.apply(this,arguments)}function II(t,e){return YT({basename:e==null?void 0:e.basename,future:Ou({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:yT({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||SI(),routes:t,mapRouteProperties:TI,window:e==null?void 0:e.window}).initialize()}function SI(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ou({},e,{errors:CI(e.errors)})),e}function CI(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new qd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const AI=ft({isTransitioning:!1}),RI=ft(new Map),PI="startTransition",Km=ms[PI],xI="flushSync",Gm=ms[xI];function OI(t){Km?Km(t):t()}function Gs(t){Gm?Gm(t):t()}let DI=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function kI(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=ie(n.state),[o,u]=ie(),[a,l]=ie({isTransitioning:!1}),[c,h]=ie(),[f,d]=ie(),[m,g]=ie(),p=ct(new Map),{v7_startTransition:y}=r||{},_=Re(S=>{y?OI(S):S()},[y]),w=Re((S,P)=>{let{deletedFetchers:x,unstable_flushSync:V,unstable_viewTransitionOpts:H}=P;x.forEach(le=>p.current.delete(le)),S.fetchers.forEach((le,pe)=>{le.data!==void 0&&p.current.set(pe,le.data)});let G=n.window==null||typeof n.window.document.startViewTransition!="function";if(!H||G){V?Gs(()=>s(S)):_(()=>s(S));return}if(V){Gs(()=>{f&&(c&&c.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let le=n.window.document.startViewTransition(()=>{Gs(()=>s(S))});le.finished.finally(()=>{Gs(()=>{h(void 0),d(void 0),u(void 0),l({isTransitioning:!1})})}),Gs(()=>d(le));return}f?(c&&c.resolve(),f.skipTransition(),g({state:S,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(u(S),l({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[n.window,f,c,p,_]);rr(()=>n.subscribe(w),[n,w]),Ve(()=>{a.isTransitioning&&!a.flushSync&&h(new DI)},[a]),Ve(()=>{if(c&&o&&n.window){let S=o,P=c.promise,x=n.window.document.startViewTransition(async()=>{_(()=>s(S)),await P});x.finished.finally(()=>{h(void 0),d(void 0),u(void 0),l({isTransitioning:!1})}),d(x)}},[_,o,c,n.window]),Ve(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,f,i.location,o]),Ve(()=>{!a.isTransitioning&&m&&(u(m.state),l({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),g(void 0))},[a.isTransitioning,m]),Ve(()=>{},[]);let T=Qe(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,P,x)=>n.navigate(S,{state:P,preventScrollReset:x==null?void 0:x.preventScrollReset}),replace:(S,P,x)=>n.navigate(S,{replace:!0,state:P,preventScrollReset:x==null?void 0:x.preventScrollReset})}),[n]),A=n.basename||"/",b=Qe(()=>({router:n,navigator:T,static:!1,basename:A}),[n,T,A]);return L(N,null,L(vl.Provider,{value:b},L(D_.Provider,{value:i},L(RI.Provider,{value:p.current},L(AI.Provider,{value:a},L(wI,{basename:A,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?L(MI,{routes:n.routes,future:n.future,state:i}):e))))),null)}function MI(t){let{routes:e,future:n,state:r}=t;return cI(e,void 0,r,n)}var Qm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qm||(Qm={}));var Ym;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ym||(Ym={}));var Xm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0,c=s>>2,h=(s&3)<<4|u>>4;let f=(u&15)<<2|l>>6,d=l&63;a||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||l==null||h==null)throw new LI;const f=s<<2|u>>4;if(r.push(f),l!==64){const d=u<<4&240|l>>2;if(r.push(d),h!==64){const m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NI=function(t){const e=F_(t);return $_.encodeByteArray(e,!0)},Du=function(t){return NI(t).replace(/\./g,"")},U_=function(t){try{return $_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=()=>FI().__FIREBASE_DEFAULTS__,UI=()=>{if(typeof process>"u"||typeof Xm>"u")return;const t=Xm.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&U_(t[1]);return e&&JSON.parse(e)},Gd=()=>{try{return $I()||UI()||zI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},z_=t=>{var e,n;return(n=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jI=t=>{const e=z_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},j_=()=>{var t;return(t=Gd())===null||t===void 0?void 0:t.config},B_=t=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Du(JSON.stringify(n)),Du(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kt())}function qI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GI(){const t=kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QI(){try{return typeof indexedDB=="object"}catch{return!1}}function YI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="FirebaseError";class sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XI,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ma.prototype.create)}}class ma{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?JI(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new sr(i,u,r)}}function JI(t,e){return t.replace(ZI,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const ZI=/\{\$([^}]+)}/g;function eS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ku(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Jm(s)&&Jm(o)){if(!ku(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jm(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tS(t,e){const n=new nS(t,e);return n.subscribe.bind(n)}class nS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rS(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zc),i.error===void 0&&(i.error=zc),i.complete===void 0&&(i.complete=zc);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class ui{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new BI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oS(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(t){return t===zr?void 0:t}function oS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const uS={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},lS=de.INFO,cS={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},hS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cS[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qd{constructor(e){this.name=e,this._logLevel=lS,this._logHandler=hS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const dS=(t,e)=>e.some(n=>t instanceof n);let Zm,eg;function fS(){return Zm||(Zm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return eg||(eg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H_=new WeakMap,Oh=new WeakMap,W_=new WeakMap,jc=new WeakMap,Yd=new WeakMap;function mS(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Rr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&H_.set(n,t)}).catch(()=>{}),Yd.set(e,t),e}function gS(t){if(Oh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Oh.set(t,e)}let Dh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vS(t){Dh=t(Dh)}function yS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Bc(this),e,...n);return W_.set(r,e.sort?e.sort():[e]),Rr(r)}:pS().includes(t)?function(...e){return t.apply(Bc(this),e),Rr(H_.get(this))}:function(...e){return Rr(t.apply(Bc(this),e))}}function _S(t){return typeof t=="function"?yS(t):(t instanceof IDBTransaction&&gS(t),dS(t,fS())?new Proxy(t,Dh):t)}function Rr(t){if(t instanceof IDBRequest)return mS(t);if(jc.has(t))return jc.get(t);const e=_S(t);return e!==t&&(jc.set(t,e),Yd.set(e,t)),e}const Bc=t=>Yd.get(t);function bS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Rr(o);return r&&o.addEventListener("upgradeneeded",a=>{r(Rr(o.result),a.oldVersion,a.newVersion,Rr(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),u.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),u}const ES=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],Hc=new Map;function tg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hc.get(e))return Hc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ES.includes(n)))return;const s=async function(o,...u){const a=this.transaction(o,i?"readwrite":"readonly");let l=a.store;return r&&(l=l.index(u.shift())),(await Promise.all([l[n](...u),i&&a.done]))[0]};return Hc.set(e,s),s}vS(t=>({...t,get:(e,n,r)=>tg(e,n)||t.get(e,n,r),has:(e,n)=>!!tg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kh="@firebase/app",ng="0.9.25";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Qd("@firebase/app"),SS="@firebase/app-compat",CS="@firebase/analytics-compat",AS="@firebase/analytics",RS="@firebase/app-check-compat",PS="@firebase/app-check",xS="@firebase/auth",OS="@firebase/auth-compat",DS="@firebase/database",kS="@firebase/database-compat",MS="@firebase/functions",VS="@firebase/functions-compat",LS="@firebase/installations",NS="@firebase/installations-compat",FS="@firebase/messaging",$S="@firebase/messaging-compat",US="@firebase/performance",zS="@firebase/performance-compat",jS="@firebase/remote-config",BS="@firebase/remote-config-compat",HS="@firebase/storage",WS="@firebase/storage-compat",qS="@firebase/firestore",KS="@firebase/firestore-compat",GS="firebase",QS="10.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="[DEFAULT]",YS={[kh]:"fire-core",[SS]:"fire-core-compat",[AS]:"fire-analytics",[CS]:"fire-analytics-compat",[PS]:"fire-app-check",[RS]:"fire-app-check-compat",[xS]:"fire-auth",[OS]:"fire-auth-compat",[DS]:"fire-rtdb",[kS]:"fire-rtdb-compat",[MS]:"fire-fn",[VS]:"fire-fn-compat",[LS]:"fire-iid",[NS]:"fire-iid-compat",[FS]:"fire-fcm",[$S]:"fire-fcm-compat",[US]:"fire-perf",[zS]:"fire-perf-compat",[jS]:"fire-rc",[BS]:"fire-rc-compat",[HS]:"fire-gcs",[WS]:"fire-gcs-compat",[qS]:"fire-fst",[KS]:"fire-fst-compat","fire-js":"fire-js",[GS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=new Map,Vh=new Map;function XS(t,e){try{t.container.addComponent(e)}catch(n){li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function gs(t){const e=t.name;if(Vh.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;Vh.set(e,t);for(const n of Mu.values())XS(n,t);return!0}function Xd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Pr=new ma("app","Firebase",JS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=QS;function q_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mh,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Pr.create("bad-app-name",{appName:String(i)});if(n||(n=j_()),!n)throw Pr.create("no-options");const s=Mu.get(i);if(s){if(ku(n,s.options)&&ku(r,s.config))return s;throw Pr.create("duplicate-app",{appName:i})}const o=new aS(i);for(const a of Vh.values())o.addComponent(a);const u=new ZS(n,r,o);return Mu.set(i,u),u}function K_(t=Mh){const e=Mu.get(t);if(!e&&t===Mh&&j_())return q_();if(!e)throw Pr.create("no-app",{appName:t});return e}function ri(t,e,n){var r;let i=(r=YS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(u.join(" "));return}gs(new ui(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebase-heartbeat-database",tC=1,Io="firebase-heartbeat-store";let Wc=null;function G_(){return Wc||(Wc=bS(eC,tC,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Io)}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),Wc}async function nC(t){try{return await(await G_()).transaction(Io).objectStore(Io).get(Q_(t))}catch(e){if(e instanceof sr)li.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(n.message)}}}async function rg(t,e){try{const r=(await G_()).transaction(Io,"readwrite");await r.objectStore(Io).put(e,Q_(t)),await r.done}catch(n){if(n instanceof sr)li.warn(n.message);else{const r=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});li.warn(r.message)}}}function Q_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1024,iC=30*24*60*60*1e3;class sC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ig();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const u=new Date(o.date).valueOf();return Date.now()-u<=iC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ig(),{heartbeatsToSend:r,unsentEntries:i}=oC(this._heartbeatsCache.heartbeats),s=Du(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function ig(){return new Date().toISOString().substring(0,10)}function oC(t,e=rC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),sg(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QI()?YI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return rg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sg(t){return Du(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){gs(new ui("platform-logger",e=>new TS(e),"PRIVATE")),gs(new ui("heartbeat",e=>new sC(e),"PRIVATE")),ri(kh,ng,t),ri(kh,ng,"esm2017"),ri("fire-js","")}uC("");function Jd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Y_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lC=Y_,X_=new ma("auth","Firebase",Y_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new Qd("@firebase/auth");function cC(t,...e){Vu.logLevel<=de.WARN&&Vu.warn(`Auth (${Os}): ${t}`,...e)}function du(t,...e){Vu.logLevel<=de.ERROR&&Vu.error(`Auth (${Os}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,...e){throw Zd(t,...e)}function Pn(t,...e){return Zd(t,...e)}function J_(t,e,n){const r=Object.assign(Object.assign({},lC()),{[e]:n});return new ma("auth","Firebase",r).create(e,{appName:t.name})}function hC(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ln(t,"argument-error"),J_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zd(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return X_.create(t,...e)}function ne(t,e,...n){if(!t)throw Zd(e,...n)}function qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw du(e),new Error(e)}function Jn(t,e){t||qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dC(){return og()==="http:"||og()==="https:"}function og(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dC()||qI()||"connection"in navigator)?navigator.onLine:!0}function pC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.shortDelay=e,this.longDelay=n,Jn(n>e,"Short delay should be less than long delay!"),this.isMobile=WI()||KI()}get(){return fC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(t,e){Jn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new va(3e4,6e4);function tf(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ds(t,e,n,r,i={}){return e0(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const u=ga(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),Z_.fetch()(t0(t,t.config.apiHost,n,u),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},s))})}async function e0(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mC),e);try{const i=new yC(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Wa(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[a,l]=u.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wa(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw Wa(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw Wa(t,"user-disabled",o);const c=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw J_(t,c,l);Ln(t,c)}}catch(i){if(i instanceof sr)throw i;Ln(t,"network-request-failed",{message:String(i)})}}async function vC(t,e,n,r,i={}){const s=await Ds(t,e,n,r,i);return"mfaPendingCredential"in s&&Ln(t,"multi-factor-auth-required",{_serverResponse:s}),s}function t0(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ef(t.config,i):`${t.config.apiScheme}://${i}`}class yC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pn(this.auth,"network-request-failed")),gC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C(t,e){return Ds(t,"POST","/v1/accounts:delete",e)}async function bC(t,e){return Ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EC(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=nf(r);ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:po(qc(i.auth_time)),issuedAtTime:po(qc(i.iat)),expirationTime:po(qc(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function qc(t){return Number(t)*1e3}function nf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return du("JWT malformed, contained fewer than 3 sections"),null;try{const i=U_(n);return i?JSON.parse(i):(du("Failed to decode base64 JWT payload"),null)}catch(i){return du("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wC(t){const e=nf(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof sr&&TC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=po(this.lastLoginAt),this.creationTime=po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t){var e;const n=t.auth,r=await t.getIdToken(),i=await So(t,bC(n,{idToken:r}));ne(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AC(s.providerUserInfo):[],u=CC(t.providerData,o),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(u!=null&&u.length),c=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new n0(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function SC(t){const e=Ft(t);await Lu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CC(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AC(t){return t.map(e=>{var{providerId:n}=e,r=Jd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(t,e){const n=await e0(t,{},async()=>{const r=ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=t0(t,i,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Z_.fetch()(o,{method:"POST",headers:u,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PC(t,e){return Ds(t,"POST","/v2/accounts:revokeToken",tf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ne(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await RC(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Co;return r&&(ne(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ne(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ii{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new n0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await So(this,this.stsTokenManager.getToken(this.auth,e));return ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EC(this,e)}reload(){return SC(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await So(this,_C(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,u,a,l,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(u=n.tenantId)!==null&&u!==void 0?u:void 0,p=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,y=(l=n.createdAt)!==null&&l!==void 0?l:void 0,_=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:w,emailVerified:T,isAnonymous:A,providerData:b,stsTokenManager:S}=n;ne(w&&S,e,"internal-error");const P=Co.fromJSON(this.name,S);ne(typeof w=="string",e,"internal-error"),hr(h,e.name),hr(f,e.name),ne(typeof T=="boolean",e,"internal-error"),ne(typeof A=="boolean",e,"internal-error"),hr(d,e.name),hr(m,e.name),hr(g,e.name),hr(p,e.name),hr(y,e.name),hr(_,e.name);const x=new ii({uid:w,auth:e,email:f,emailVerified:T,displayName:h,isAnonymous:A,photoURL:m,phoneNumber:d,tenantId:g,stsTokenManager:P,createdAt:y,lastLoginAt:_});return b&&Array.isArray(b)&&(x.providerData=b.map(V=>Object.assign({},V))),p&&(x._redirectEventId=p),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new Co;i.updateFromServerResponse(n);const s=new ii({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lu(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=new Map;function Kn(t){Jn(t instanceof Function,"Expected a class definition");let e=ag.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ag.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}r0.type="NONE";const ug=r0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t,e,n){return`firebase:${t}:${e}:${n}`}class Bi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=fu(this.userKey,i.apiKey,s),this.fullPersistenceKey=fu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ii._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bi(Kn(ug),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let s=i[0]||Kn(ug);const o=fu(r,e.config.apiKey,e.name);let u=null;for(const l of n)try{const c=await l._get(o);if(c){const h=ii._fromJSON(e,c);l!==s&&(u=h),s=l;break}}catch{}const a=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new Bi(s,e,r):(s=a[0],u&&await s._set(o,u.toJSON()),await Promise.all(n.map(async l=>{if(l!==s)try{await l._remove(o)}catch{}})),new Bi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(o0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(i0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(u0(e))return"Blackberry";if(l0(e))return"Webos";if(rf(e))return"Safari";if((e.includes("chrome/")||s0(e))&&!e.includes("edge/"))return"Chrome";if(a0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function i0(t=kt()){return/firefox\//i.test(t)}function rf(t=kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s0(t=kt()){return/crios\//i.test(t)}function o0(t=kt()){return/iemobile/i.test(t)}function a0(t=kt()){return/android/i.test(t)}function u0(t=kt()){return/blackberry/i.test(t)}function l0(t=kt()){return/webos/i.test(t)}function _l(t=kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xC(t=kt()){var e;return _l(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OC(){return GI()&&document.documentMode===10}function c0(t=kt()){return _l(t)||a0(t)||l0(t)||u0(t)||/windows phone/i.test(t)||o0(t)}function DC(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e=[]){let n;switch(t){case"Browser":n=lg(kt());break;case"Worker":n=`${lg(kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Os}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,u)=>{try{const a=e(s);o(a)}catch(a){u(a)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(t,e={}){return Ds(t,"GET","/v2/passwordPolicy",tf(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=6;class LC{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,u;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(n=a.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(u=a.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),a}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cg(this),this.idTokenSubscription=new cg(this),this.beforeStateQueue=new kC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Bi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===u)&&(a!=null&&a.user)&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ft(e):null;return n&&ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MC(this),n=new LC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ma("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Kn(e)||this._popupRedirectResolver;ne(n,this,"argument-error"),this.redirectPersistenceManager=await Bi.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const a=e.addObserver(n,r,i);return()=>{o=!0,a()}}else{const a=e.addObserver(n);return()=>{o=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=h0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bl(t){return Ft(t)}class cg{constructor(e){this.auth=e,this.observer=null,this.addObserver=tS(n=>this.observer=n)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function $C(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",FC().appendChild(r)})}function UC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e){const n=Xd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ku(s,e??{}))return i;Ln(i,"already-initialized")}return n.initialize({options:e})}function jC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BC(t,e,n){const r=bl(t);ne(r._canInitEmulator,r,"emulator-config-failed"),ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=d0(e),{host:o,port:u}=HC(e),a=u===null?"":`:${u}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||WC()}function d0(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HC(t){const e=d0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:hg(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:hg(o)}}}function hg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return qn("not implemented")}_getIdTokenResponse(e){return qn("not implemented")}_linkToIdToken(e,n){return qn("not implemented")}_getReauthenticationResolver(e){return qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hi(t,e){return vC(t,"POST","/v1/accounts:signInWithIdp",tf(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="http://localhost";class ci extends f0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ln("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Jd(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ci(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Hi(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hi(e,n)}buildRequest(){const e={requestUri:qC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ga(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends sf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends ya{constructor(){super("facebook.com")}static credential(e){return ci._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pr.credential(e.oauthAccessToken)}catch{return null}}}pr.FACEBOOK_SIGN_IN_METHOD="facebook.com";pr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn extends ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ci._fromParams({providerId:fn.PROVIDER_ID,signInMethod:fn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fn.credentialFromTaggedObject(e)}static credentialFromError(e){return fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fn.credential(n,r)}catch{return null}}}fn.GOOGLE_SIGN_IN_METHOD="google.com";fn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends ya{constructor(){super("github.com")}static credential(e){return ci._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mr.credential(e.oauthAccessToken)}catch{return null}}}mr.GITHUB_SIGN_IN_METHOD="github.com";mr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends ya{constructor(){super("twitter.com")}static credential(e,n){return ci._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return gr.credential(n,r)}catch{return null}}}gr.TWITTER_SIGN_IN_METHOD="twitter.com";gr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ii._fromIdTokenResponse(e,r,i),o=dg(r);return new vs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=dg(r);return new vs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function dg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends sr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Nu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Nu(e,n,r,i)}}function p0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nu._fromErrorAndOperation(t,s,e,r):s})}async function KC(t,e,n=!1){const r=await So(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GC(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await So(t,p0(r,i,e,t),n);ne(s.idToken,r,"internal-error");const o=nf(s.idToken);ne(o,r,"internal-error");const{sub:u}=o;return ne(t.uid===u,r,"user-mismatch"),vs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ln(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(t,e,n=!1){const r="signIn",i=await p0(t,r,e),s=await vs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function YC(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function XC(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}function of(t,e,n,r){return Ft(t).onAuthStateChanged(e,n,r)}const Fu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fu,"1"),this.storage.removeItem(Fu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){const t=kt();return rf(t)||_l(t)}const ZC=1e3,eA=10;class g0 extends m0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=JC()&&DC(),this.fallbackToPolling=c0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,u,a)=>{this.notifyListeners(o,a)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);OC()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,eA):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}g0.type="LOCAL";const tA=g0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends m0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}v0.type="SESSION";const y0=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new El(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(o).map(async l=>l(n.origin,s)),a=await nA(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}El.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((u,a)=>{const l=af("",20);i.port1.start();const c=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(f.data.response);break;default:clearTimeout(c),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function iA(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function sA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aA(){return _0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="firebaseLocalStorageDb",uA=1,$u="firebaseLocalStorage",E0="fbase_key";class _a{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wl(t,e){return t.transaction([$u],e?"readwrite":"readonly").objectStore($u)}function lA(){const t=indexedDB.deleteDatabase(b0);return new _a(t).toPromise()}function Nh(){const t=indexedDB.open(b0,uA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($u,{keyPath:E0})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($u)?e(r):(r.close(),await lA(),e(await Nh()))})})}async function fg(t,e,n){const r=wl(t,!0).put({[E0]:e,value:n});return new _a(r).toPromise()}async function cA(t,e){const n=wl(t,!1).get(e),r=await new _a(n).toPromise();return r===void 0?null:r.value}function pg(t,e){const n=wl(t,!0).delete(e);return new _a(n).toPromise()}const hA=800,dA=3;class w0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=El._getInstance(aA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sA(),!this.activeServiceWorker)return;this.sender=new rA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nh();return await fg(e,Fu,"1"),await pg(e,Fu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fg(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wl(i,!1).getAll();return new _a(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w0.type="LOCAL";const fA=w0;new va(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t,e){return e?Kn(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends f0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pA(t){return QC(t.auth,new uf(t),t.bypassAuthState)}function mA(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),GC(n,new uf(t),t.bypassAuthState)}async function gA(t){const{auth:e,user:n}=t;return ne(n,e,"internal-error"),KC(n,new uf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:u}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pA;case"linkViaPopup":case"linkViaRedirect":return gA;case"reauthViaPopup":case"reauthViaRedirect":return mA;default:Ln(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new va(2e3,1e4);async function yA(t,e,n){const r=bl(t);hC(t,e,sf);const i=T0(r,n);return new Wr(r,"signInViaPopup",e,i).executeNotNull()}class Wr extends I0{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wr.currentPopupAction&&Wr.currentPopupAction.cancel(),Wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ne(e,this.auth,"internal-error"),e}async onExecution(){Jn(this.filter.length===1,"Popup operations only handle one event");const e=af();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vA.get())};e()}}Wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="pendingRedirect",pu=new Map;class bA extends I0{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pu.get(this.auth._key());if(!e){try{const r=await EA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pu.set(this.auth._key(),e)}return this.bypassAuthState||pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EA(t,e){const n=IA(e),r=TA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wA(t,e){pu.set(t._key(),e)}function TA(t){return Kn(t._redirectPersistence)}function IA(t){return fu(_A,t.config.apiKey,t.name)}async function SA(t,e,n=!1){const r=bl(t),i=T0(r,e),o=await new bA(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=10*60*1e3;class AA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!S0(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=CA&&this.cachedEventUids.clear(),this.cachedEventUids.has(mg(e))}saveEventToCache(e){this.cachedEventUids.add(mg(e)),this.lastProcessedEventTime=Date.now()}}function mg(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function S0({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RA(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S0(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PA(t,e={}){return Ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OA=/^https?/;async function DA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PA(t);for(const n of e)try{if(kA(n))return}catch{}Ln(t,"unauthorized-domain")}function kA(t){const e=Lh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!OA.test(n))return!1;if(xA.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new va(3e4,6e4);function gg(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VA(t){return new Promise((e,n)=>{var r,i,s;function o(){gg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gg(),n(Pn(t,"network-request-failed"))},timeout:MA.get()})}if(!((i=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=xn().gapi)===null||s===void 0)&&s.load)o();else{const u=UC("iframefcb");return xn()[u]=()=>{gapi.load?o():n(Pn(t,"network-request-failed"))},$C(`https://apis.google.com/js/api.js?onload=${u}`).catch(a=>n(a))}}).catch(e=>{throw mu=null,e})}let mu=null;function LA(t){return mu=mu||VA(t),mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=new va(5e3,15e3),FA="__/auth/iframe",$A="emulator/auth/iframe",UA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jA(t){const e=t.config;ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ef(e,$A):`https://${t.config.authDomain}/${FA}`,r={apiKey:e.apiKey,appName:t.name,v:Os},i=zA.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ga(r).slice(1)}`}async function BA(t){const e=await LA(t),n=xn().gapi;return ne(n,t,"internal-error"),e.open({where:document.body,url:jA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UA,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pn(t,"network-request-failed"),u=xn().setTimeout(()=>{s(o)},NA.get());function a(){xn().clearTimeout(u),i(r)}r.ping(a).then(a,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WA=500,qA=600,KA="_blank",GA="http://localhost";class vg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QA(t,e,n,r=WA,i=qA){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const a=Object.assign(Object.assign({},HA),{width:r.toString(),height:i.toString(),top:s,left:o}),l=kt().toLowerCase();n&&(u=s0(l)?KA:n),i0(l)&&(e=e||GA,a.scrollbars="yes");const c=Object.entries(a).reduce((f,[d,m])=>`${f}${d}=${m},`,"");if(xC(l)&&u!=="_self")return YA(e||"",u),new vg(null);const h=window.open(e||"",u,c);ne(h,t,"popup-blocked");try{h.focus()}catch{}return new vg(h)}function YA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="__/auth/handler",JA="emulator/auth/handler",ZA=encodeURIComponent("fac");async function yg(t,e,n,r,i,s){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Os,eventId:i};if(e instanceof sf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",eS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof ya){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const u=o;for(const c of Object.keys(u))u[c]===void 0&&delete u[c];const a=await t._getAppCheckToken(),l=a?`#${ZA}=${encodeURIComponent(a)}`:"";return`${eR(t)}?${ga(u).slice(1)}${l}`}function eR({config:t}){return t.emulator?ef(t,JA):`https://${t.authDomain}/${XA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kc="webStorageSupport";class tR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=y0,this._completeRedirectFn=SA,this._overrideRedirectResult=wA}async _openPopup(e,n,r,i){var s;Jn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await yg(e,n,r,Lh(),i);return QA(e,o,af())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await yg(e,n,r,Lh(),i);return iA(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Jn(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BA(e),r=new AA(e);return n.register("authEvent",i=>(ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kc,{type:Kc},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Kc];o!==void 0&&n(!!o),Ln(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c0()||rf()||_l()}}const nR=tR;var _g="@firebase/auth",bg="1.5.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function sR(t){gs(new ui("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=r.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const a={apiKey:o,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:h0(t)},l=new NC(r,i,s,a);return jC(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),gs(new ui("auth-internal",e=>{const n=bl(e.getProvider("auth").getImmediate());return(r=>new rR(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ri(_g,bg,iR(t)),ri(_g,bg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=5*60,aR=B_("authIdTokenMaxAge")||oR;let Eg=null;const uR=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aR)return;const i=n==null?void 0:n.token;Eg!==i&&(Eg=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ks(t=K_()){const e=Xd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zC(t,{popupRedirectResolver:nR,persistence:[fA,tA,y0]}),r=B_("authTokenSyncURL");if(r){const s=uR(r);XC(n,s,()=>s(n.currentUser)),YC(n,o=>s(o))}const i=z_("auth");return i&&BC(n,`http://${i}`),n}sR("Browser");function lf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var cf={},C0={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(C0);var it=C0.exports,Gc={};function M(){return M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M.apply(this,arguments)}function vr(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function A0(t){if(!vr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=A0(t[n])}),e}function pn(t,e,n={clone:!0}){const r=n.clone?M({},t):t;return vr(t)&&vr(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(vr(e[i])&&i in t&&vr(t[i])?r[i]=pn(t[i],e[i],n):n.clone?r[i]=vr(e[i])?A0(e[i]):e[i]:r[i]=e[i])}),r}function ys(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function On(t){if(typeof t!="string")throw new Error(ys(7));return t.charAt(0).toUpperCase()+t.slice(1)}function lR(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function cR(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function hR(t,e){return()=>null}function dR(t,e){var n,r;return yi(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function R0(t){return t&&t.ownerDocument||document}function fR(t){return R0(t).defaultView||window}function pR(t,e){return()=>null}function P0(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const mR=typeof window<"u"?rr:Ve,x0=mR;let wg=0;function gR(t){const[e,n]=ie(t),r=t||e;return Ve(()=>{e==null&&(wg+=1,n(`mui-${wg}`))},[e]),r}const Tg=ms.useId;function vR(t){if(Tg!==void 0){const e=Tg();return t??e}return gR(t)}function yR(t,e,n,r,i){return null}function _R({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=ct(t!==void 0),[s,o]=ie(e),u=i?t:s,a=Re(l=>{i||o(l)},[]);return[u,a]}function bR(t){const e=ct(t);return x0(()=>{e.current=t}),ct((...n)=>(0,e.current)(...n)).current}function ER(...t){return Qe(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{P0(n,e)})},t)}let Tl=!0,Fh=!1,Ig;const wR={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function TR(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&wR[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function IR(t){t.metaKey||t.altKey||t.ctrlKey||(Tl=!0)}function Qc(){Tl=!1}function SR(){this.visibilityState==="hidden"&&Fh&&(Tl=!0)}function CR(t){t.addEventListener("keydown",IR,!0),t.addEventListener("mousedown",Qc,!0),t.addEventListener("pointerdown",Qc,!0),t.addEventListener("touchstart",Qc,!0),t.addEventListener("visibilitychange",SR,!0)}function AR(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Tl||TR(e)}function RR(){const t=Re(i=>{i!=null&&CR(i.ownerDocument)},[]),e=ct(!1);function n(){return e.current?(Fh=!0,window.clearTimeout(Ig),Ig=window.setTimeout(()=>{Fh=!1},100),e.current=!1,!0):!1}function r(i){return AR(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function O0(t,e){const n=M({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=M({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=M({},s),Object.keys(i).forEach(o=>{n[r][o]=O0(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function PR(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const u=e(o);u!==""&&s.push(u),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const Sg=t=>t,xR=()=>{let t=Sg;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Sg}}},D0=xR(),OR={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function k0(t,e,n="Mui"){const r=OR[e];return r?`${n}-${r}`:`${D0.generate(t)}-${e}`}function DR(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=k0(t,i,n)}),r}function $n(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function M0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=M0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=M0(t))&&(r&&(r+=" "),r+=e);return r}function V0(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var MR=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,VR=V0(function(t){return MR.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function LR(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function NR(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var FR=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(NR(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=LR(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Rt="-ms-",Uu="-moz-",ve="-webkit-",L0="comm",hf="rule",df="decl",$R="@import",N0="@keyframes",UR="@layer",zR=Math.abs,Il=String.fromCharCode,jR=Object.assign;function BR(t,e){return bt(t,0)^45?(((e<<2^bt(t,0))<<2^bt(t,1))<<2^bt(t,2))<<2^bt(t,3):0}function F0(t){return t.trim()}function HR(t,e){return(t=e.exec(t))?t[0]:t}function ye(t,e,n){return t.replace(e,n)}function $h(t,e){return t.indexOf(e)}function bt(t,e){return t.charCodeAt(e)|0}function Ao(t,e,n){return t.slice(e,n)}function In(t){return t.length}function ff(t){return t.length}function qa(t,e){return e.push(t),t}function WR(t,e){return t.map(e).join("")}var Sl=1,_s=1,$0=0,Ht=0,Ge=0,Ms="";function Cl(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Sl,column:_s,length:o,return:""}}function Qs(t,e){return jR(Cl("",null,null,"",null,null,0),t,{length:-t.length},e)}function qR(){return Ge}function KR(){return Ge=Ht>0?bt(Ms,--Ht):0,_s--,Ge===10&&(_s=1,Sl--),Ge}function Qt(){return Ge=Ht<$0?bt(Ms,Ht++):0,_s++,Ge===10&&(_s=1,Sl++),Ge}function Dn(){return bt(Ms,Ht)}function gu(){return Ht}function ba(t,e){return Ao(Ms,t,e)}function Ro(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function U0(t){return Sl=_s=1,$0=In(Ms=t),Ht=0,[]}function z0(t){return Ms="",t}function vu(t){return F0(ba(Ht-1,Uh(t===91?t+2:t===40?t+1:t)))}function GR(t){for(;(Ge=Dn())&&Ge<33;)Qt();return Ro(t)>2||Ro(Ge)>3?"":" "}function QR(t,e){for(;--e&&Qt()&&!(Ge<48||Ge>102||Ge>57&&Ge<65||Ge>70&&Ge<97););return ba(t,gu()+(e<6&&Dn()==32&&Qt()==32))}function Uh(t){for(;Qt();)switch(Ge){case t:return Ht;case 34:case 39:t!==34&&t!==39&&Uh(Ge);break;case 40:t===41&&Uh(t);break;case 92:Qt();break}return Ht}function YR(t,e){for(;Qt()&&t+Ge!==57;)if(t+Ge===84&&Dn()===47)break;return"/*"+ba(e,Ht-1)+"*"+Il(t===47?t:Qt())}function XR(t){for(;!Ro(Dn());)Qt();return ba(t,Ht)}function JR(t){return z0(yu("",null,null,null,[""],t=U0(t),0,[0],t))}function yu(t,e,n,r,i,s,o,u,a){for(var l=0,c=0,h=o,f=0,d=0,m=0,g=1,p=1,y=1,_=0,w="",T=i,A=s,b=r,S=w;p;)switch(m=_,_=Qt()){case 40:if(m!=108&&bt(S,h-1)==58){$h(S+=ye(vu(_),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:S+=vu(_);break;case 9:case 10:case 13:case 32:S+=GR(m);break;case 92:S+=QR(gu()-1,7);continue;case 47:switch(Dn()){case 42:case 47:qa(ZR(YR(Qt(),gu()),e,n),a);break;default:S+="/"}break;case 123*g:u[l++]=In(S)*y;case 125*g:case 59:case 0:switch(_){case 0:case 125:p=0;case 59+c:y==-1&&(S=ye(S,/\f/g,"")),d>0&&In(S)-h&&qa(d>32?Ag(S+";",r,n,h-1):Ag(ye(S," ","")+";",r,n,h-2),a);break;case 59:S+=";";default:if(qa(b=Cg(S,e,n,l,c,i,u,w,T=[],A=[],h),s),_===123)if(c===0)yu(S,e,b,b,T,s,h,u,A);else switch(f===99&&bt(S,3)===110?100:f){case 100:case 108:case 109:case 115:yu(t,b,b,r&&qa(Cg(t,b,b,0,0,i,u,w,i,T=[],h),A),i,A,h,u,r?T:A);break;default:yu(S,b,b,b,[""],A,0,u,A)}}l=c=d=0,g=y=1,w=S="",h=o;break;case 58:h=1+In(S),d=m;default:if(g<1){if(_==123)--g;else if(_==125&&g++==0&&KR()==125)continue}switch(S+=Il(_),_*g){case 38:y=c>0?1:(S+="\f",-1);break;case 44:u[l++]=(In(S)-1)*y,y=1;break;case 64:Dn()===45&&(S+=vu(Qt())),f=Dn(),c=h=In(w=S+=XR(gu())),_++;break;case 45:m===45&&In(S)==2&&(g=0)}}return s}function Cg(t,e,n,r,i,s,o,u,a,l,c){for(var h=i-1,f=i===0?s:[""],d=ff(f),m=0,g=0,p=0;m<r;++m)for(var y=0,_=Ao(t,h+1,h=zR(g=o[m])),w=t;y<d;++y)(w=F0(g>0?f[y]+" "+_:ye(_,/&\f/g,f[y])))&&(a[p++]=w);return Cl(t,e,n,i===0?hf:u,a,l,c)}function ZR(t,e,n){return Cl(t,e,n,L0,Il(qR()),Ao(t,2,-2),0)}function Ag(t,e,n,r){return Cl(t,e,n,df,Ao(t,0,r),Ao(t,r+1,-1),r)}function Wi(t,e){for(var n="",r=ff(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function eP(t,e,n,r){switch(t.type){case UR:if(t.children.length)break;case $R:case df:return t.return=t.return||t.value;case L0:return"";case N0:return t.return=t.value+"{"+Wi(t.children,r)+"}";case hf:t.value=t.props.join(",")}return In(n=Wi(t.children,r))?t.return=t.value+"{"+n+"}":""}function tP(t){var e=ff(t);return function(n,r,i,s){for(var o="",u=0;u<e;u++)o+=t[u](n,r,i,s)||"";return o}}function nP(t){return function(e){e.root||(e=e.return)&&t(e)}}var rP=function(e,n,r){for(var i=0,s=0;i=s,s=Dn(),i===38&&s===12&&(n[r]=1),!Ro(s);)Qt();return ba(e,Ht)},iP=function(e,n){var r=-1,i=44;do switch(Ro(i)){case 0:i===38&&Dn()===12&&(n[r]=1),e[r]+=rP(Ht-1,n,r);break;case 2:e[r]+=vu(i);break;case 4:if(i===44){e[++r]=Dn()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Il(i)}while(i=Qt());return e},sP=function(e,n){return z0(iP(U0(e),n))},Rg=new WeakMap,oP=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Rg.get(r))&&!i){Rg.set(e,!0);for(var s=[],o=sP(n,s),u=r.props,a=0,l=0;a<o.length;a++)for(var c=0;c<u.length;c++,l++)e.props[l]=s[a]?o[a].replace(/&\f/g,u[c]):u[c]+" "+o[a]}}},aP=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function j0(t,e){switch(BR(t,e)){case 5103:return ve+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ve+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ve+t+Uu+t+Rt+t+t;case 6828:case 4268:return ve+t+Rt+t+t;case 6165:return ve+t+Rt+"flex-"+t+t;case 5187:return ve+t+ye(t,/(\w+).+(:[^]+)/,ve+"box-$1$2"+Rt+"flex-$1$2")+t;case 5443:return ve+t+Rt+"flex-item-"+ye(t,/flex-|-self/,"")+t;case 4675:return ve+t+Rt+"flex-line-pack"+ye(t,/align-content|flex-|-self/,"")+t;case 5548:return ve+t+Rt+ye(t,"shrink","negative")+t;case 5292:return ve+t+Rt+ye(t,"basis","preferred-size")+t;case 6060:return ve+"box-"+ye(t,"-grow","")+ve+t+Rt+ye(t,"grow","positive")+t;case 4554:return ve+ye(t,/([^-])(transform)/g,"$1"+ve+"$2")+t;case 6187:return ye(ye(ye(t,/(zoom-|grab)/,ve+"$1"),/(image-set)/,ve+"$1"),t,"")+t;case 5495:case 3959:return ye(t,/(image-set\([^]*)/,ve+"$1$`$1");case 4968:return ye(ye(t,/(.+:)(flex-)?(.*)/,ve+"box-pack:$3"+Rt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ve+t+t;case 4095:case 3583:case 4068:case 2532:return ye(t,/(.+)-inline(.+)/,ve+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(In(t)-1-e>6)switch(bt(t,e+1)){case 109:if(bt(t,e+4)!==45)break;case 102:return ye(t,/(.+:)(.+)-([^]+)/,"$1"+ve+"$2-$3$1"+Uu+(bt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~$h(t,"stretch")?j0(ye(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(bt(t,e+1)!==115)break;case 6444:switch(bt(t,In(t)-3-(~$h(t,"!important")&&10))){case 107:return ye(t,":",":"+ve)+t;case 101:return ye(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ve+(bt(t,14)===45?"inline-":"")+"box$3$1"+ve+"$2$3$1"+Rt+"$2box$3")+t}break;case 5936:switch(bt(t,e+11)){case 114:return ve+t+Rt+ye(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ve+t+Rt+ye(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ve+t+Rt+ye(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ve+t+Rt+t+t}return t}var uP=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case df:e.return=j0(e.value,e.length);break;case N0:return Wi([Qs(e,{value:ye(e.value,"@","@"+ve)})],i);case hf:if(e.length)return WR(e.props,function(s){switch(HR(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wi([Qs(e,{props:[ye(s,/:(read-\w+)/,":"+Uu+"$1")]})],i);case"::placeholder":return Wi([Qs(e,{props:[ye(s,/:(plac\w+)/,":"+ve+"input-$1")]}),Qs(e,{props:[ye(s,/:(plac\w+)/,":"+Uu+"$1")]}),Qs(e,{props:[ye(s,/:(plac\w+)/,Rt+"input-$1")]})],i)}return""})}},lP=[uP],cP=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var p=g.getAttribute("data-emotion");p.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||lP,s={},o,u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var p=g.getAttribute("data-emotion").split(" "),y=1;y<p.length;y++)s[p[y]]=!0;u.push(g)});var a,l=[oP,aP];{var c,h=[eP,nP(function(g){c.insert(g)})],f=tP(l.concat(i,h)),d=function(p){return Wi(JR(p),f)};a=function(p,y,_,w){c=_,d(p?p+"{"+y.styles+"}":y.styles),w&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new FR({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return m.sheet.hydrate(u),m},B0={exports:{}},we={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt=typeof Symbol=="function"&&Symbol.for,pf=pt?Symbol.for("react.element"):60103,mf=pt?Symbol.for("react.portal"):60106,Al=pt?Symbol.for("react.fragment"):60107,Rl=pt?Symbol.for("react.strict_mode"):60108,Pl=pt?Symbol.for("react.profiler"):60114,xl=pt?Symbol.for("react.provider"):60109,Ol=pt?Symbol.for("react.context"):60110,gf=pt?Symbol.for("react.async_mode"):60111,Dl=pt?Symbol.for("react.concurrent_mode"):60111,kl=pt?Symbol.for("react.forward_ref"):60112,Ml=pt?Symbol.for("react.suspense"):60113,hP=pt?Symbol.for("react.suspense_list"):60120,Vl=pt?Symbol.for("react.memo"):60115,Ll=pt?Symbol.for("react.lazy"):60116,dP=pt?Symbol.for("react.block"):60121,fP=pt?Symbol.for("react.fundamental"):60117,pP=pt?Symbol.for("react.responder"):60118,mP=pt?Symbol.for("react.scope"):60119;function Xt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case pf:switch(t=t.type,t){case gf:case Dl:case Al:case Pl:case Rl:case Ml:return t;default:switch(t=t&&t.$$typeof,t){case Ol:case kl:case Ll:case Vl:case xl:return t;default:return e}}case mf:return e}}}function H0(t){return Xt(t)===Dl}we.AsyncMode=gf;we.ConcurrentMode=Dl;we.ContextConsumer=Ol;we.ContextProvider=xl;we.Element=pf;we.ForwardRef=kl;we.Fragment=Al;we.Lazy=Ll;we.Memo=Vl;we.Portal=mf;we.Profiler=Pl;we.StrictMode=Rl;we.Suspense=Ml;we.isAsyncMode=function(t){return H0(t)||Xt(t)===gf};we.isConcurrentMode=H0;we.isContextConsumer=function(t){return Xt(t)===Ol};we.isContextProvider=function(t){return Xt(t)===xl};we.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===pf};we.isForwardRef=function(t){return Xt(t)===kl};we.isFragment=function(t){return Xt(t)===Al};we.isLazy=function(t){return Xt(t)===Ll};we.isMemo=function(t){return Xt(t)===Vl};we.isPortal=function(t){return Xt(t)===mf};we.isProfiler=function(t){return Xt(t)===Pl};we.isStrictMode=function(t){return Xt(t)===Rl};we.isSuspense=function(t){return Xt(t)===Ml};we.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Al||t===Dl||t===Pl||t===Rl||t===Ml||t===hP||typeof t=="object"&&t!==null&&(t.$$typeof===Ll||t.$$typeof===Vl||t.$$typeof===xl||t.$$typeof===Ol||t.$$typeof===kl||t.$$typeof===fP||t.$$typeof===pP||t.$$typeof===mP||t.$$typeof===dP)};we.typeOf=Xt;B0.exports=we;var gP=B0.exports,W0=gP,vP={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yP={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},q0={};q0[W0.ForwardRef]=vP;q0[W0.Memo]=yP;var _P=!0;function K0(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var vf=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||_P===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},G0=function(e,n,r){vf(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function bP(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var EP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},wP=/[A-Z]|^ms/g,TP=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Q0=function(e){return e.charCodeAt(1)===45},Pg=function(e){return e!=null&&typeof e!="boolean"},Yc=V0(function(t){return Q0(t)?t:t.replace(wP,"-$&").toLowerCase()}),xg=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(TP,function(r,i,s){return Sn={name:i,styles:s,next:Sn},i})}return EP[e]!==1&&!Q0(e)&&typeof n=="number"&&n!==0?n+"px":n};function Po(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return Sn={name:n.name,styles:n.styles,next:Sn},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)Sn={name:r.name,styles:r.styles,next:Sn},r=r.next;var i=n.styles+";";return i}return IP(t,e,n)}case"function":{if(t!==void 0){var s=Sn,o=n(t);return Sn=s,Po(t,e,o)}break}}if(e==null)return n;var u=e[n];return u!==void 0?u:n}function IP(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Po(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":Pg(o)&&(r+=Yc(s)+":"+xg(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var u=0;u<o.length;u++)Pg(o[u])&&(r+=Yc(s)+":"+xg(s,o[u])+";");else{var a=Po(t,e,o);switch(s){case"animation":case"animationName":{r+=Yc(s)+":"+a+";";break}default:r+=s+"{"+a+"}"}}}return r}var Og=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Sn,yf=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Sn=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Po(r,n,o)):s+=o[0];for(var u=1;u<e.length;u++)s+=Po(r,n,e[u]),i&&(s+=o[u]);Og.lastIndex=0;for(var a="",l;(l=Og.exec(s))!==null;)a+="-"+l[1];var c=bP(s)+a;return{name:c,styles:s,next:Sn}},SP=function(e){return e()},CP=ms.useInsertionEffect?ms.useInsertionEffect:!1,Y0=CP||SP,_f={}.hasOwnProperty,X0=ft(typeof HTMLElement<"u"?cP({key:"css"}):null);X0.Provider;var J0=function(e){return xs(function(n,r){var i=me(X0);return e(n,i,r)})},bf=ft({}),zh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",AP=function(e,n){var r={};for(var i in n)_f.call(n,i)&&(r[i]=n[i]);return r[zh]=e,r},RP=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return vf(n,r,i),Y0(function(){return G0(n,r,i)}),null},PP=J0(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[zh],s=[r],o="";typeof t.className=="string"?o=K0(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var u=yf(s,void 0,me(bf));o+=e.key+"-"+u.name;var a={};for(var l in t)_f.call(t,l)&&l!=="css"&&l!==zh&&(a[l]=t[l]);return a.ref=n,a.className=o,L(N,null,L(RP,{cache:e,serialized:u,isStringTag:typeof i=="string"}),L(i,a))}),xP=PP,q=function(e,n){var r=arguments;if(n==null||!_f.call(n,"css"))return L.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=xP,s[1]=AP(e,n);for(var o=2;o<i;o++)s[o]=r[o];return L.apply(null,s)};function Ef(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return yf(e)}var OP=function(){var e=Ef.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},DP=VR,kP=function(e){return e!=="theme"},Dg=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?DP:kP},kg=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},MP=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return vf(n,r,i),Y0(function(){return G0(n,r,i)}),null},VP=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var u=kg(e,n,r),a=u||Dg(i),l=!a("as");return function(){var c=arguments,h=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{h.push(c[0][0]);for(var f=c.length,d=1;d<f;d++)h.push(c[d],c[0][d])}var m=J0(function(g,p,y){var _=l&&g.as||i,w="",T=[],A=g;if(g.theme==null){A={};for(var b in g)A[b]=g[b];A.theme=me(bf)}typeof g.className=="string"?w=K0(p.registered,T,g.className):g.className!=null&&(w=g.className+" ");var S=yf(h.concat(T),p.registered,A);w+=p.key+"-"+S.name,o!==void 0&&(w+=" "+o);var P=l&&u===void 0?Dg(_):a,x={};for(var V in g)l&&V==="as"||P(V)&&(x[V]=g[V]);return x.className=w,x.ref=y,L(N,null,L(MP,{cache:p,serialized:S,isStringTag:typeof _=="string"}),L(_,x))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=h,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(g,p){return t(g,M({},n,p,{shouldForwardProp:kg(m,p,!0)})).apply(void 0,h)},m}},LP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],jh=VP.bind();LP.forEach(function(t){jh[t]=jh(t)});const Z0=lf(ms);var NP=/["&<]/;function eb(t){if(t.length===0||NP.test(t)===!1)return t;for(var e=0,n=0,r="",i="";n<t.length;n++){switch(t.charCodeAt(n)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}n!==e&&(r+=t.slice(e,n)),r+=i,e=n+1}return n!==e&&(r+=t.slice(e,n)),r}var FP=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$P=0,UP=Array.isArray;function v(t,e,n,r,i,s){var o,u,a={};for(u in e)u=="ref"?o=e[u]:a[u]=e[u];var l={type:t,props:a,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--$P,__i:-1,__u:0,__source:i,__self:s};if(typeof t=="function"&&(o=t.defaultProps))for(u in o)a[u]===void 0&&(a[u]=o[u]);return k.vnode&&k.vnode(l),l}function zP(t){var e=v(N,{tpl:t,exprs:[].slice.call(arguments,1)});return e.key=e.__v,e}var Mg={},jP=/[A-Z]/g;function BP(t,e){if(k.attr){var n=k.attr(t,e);if(typeof n=="string")return n}if(t==="ref"||t==="key")return"";if(t==="style"&&typeof e=="object"){var r="";for(var i in e){var s=e[i];if(s!=null&&s!==""){var o=i[0]=="-"?i:Mg[i]||(Mg[i]=i.replace(jP,"-$&").toLowerCase()),u=";";typeof s!="number"||o.startsWith("--")||FP.test(o)||(u="px;"),r=r+o+":"+s+u}}return t+'="'+r+'"'}return e==null||e===!1||typeof e=="function"||typeof e=="object"?"":e===!0?t:t+'="'+eb(e)+'"'}function tb(t){if(t==null||typeof t=="boolean"||typeof t=="function")return null;if(typeof t=="object"){if(t.constructor===void 0)return t;if(UP(t)){for(var e=0;e<t.length;e++)t[e]=tb(t[e]);return t}}return eb(""+t)}const HP=Object.freeze(Object.defineProperty({__proto__:null,Fragment:N,jsx:v,jsxAttr:BP,jsxDEV:v,jsxEscape:tb,jsxTemplate:zP,jsxs:v},Symbol.toStringTag,{value:"Module"})),WP=lf(HP);var Xc,Vg;function Ye(){return Vg||(Vg=1,Xc=WP),Xc}var Bh=Ye();function qP(t,e){return jh(t,e)}const KP=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},GP=["values","unit","step"],QP=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>M({},n,{[r.key]:r.val}),{})};function YP(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=$n(t,GP),s=QP(e),o=Object.keys(s);function u(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function a(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-r/100}${n})`}function l(f,d){const m=o.indexOf(d);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:d)-r/100}${n})`}function c(f){return o.indexOf(f)+1<o.length?l(f,o[o.indexOf(f)+1]):u(f)}function h(f){const d=o.indexOf(f);return d===0?u(o[1]):d===o.length-1?a(o[d]):l(f,o[o.indexOf(f)+1]).replace("@media","@media not all and")}return M({keys:o,values:s,up:u,down:a,between:l,only:c,not:h,unit:n},i)}const XP={borderRadius:4},JP=XP;function mo(t,e){return e?pn(t,e,{clone:!1}):t}const wf={xs:0,sm:600,md:900,lg:1200,xl:1536},Lg={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${wf[t]}px)`};function Zn(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||Lg;return e.reduce((o,u,a)=>(o[s.up(s.keys[a])]=n(e[a]),o),{})}if(typeof e=="object"){const s=r.breakpoints||Lg;return Object.keys(e).reduce((o,u)=>{if(Object.keys(s.values||wf).indexOf(u)!==-1){const a=s.up(u);o[a]=n(e[u],u)}else{const a=u;o[a]=e[a]}return o},{})}return n(e)}function ZP(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function e2(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Nl(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function zu(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Nl(t,n)||r,e&&(i=e(i,r,t)),i}function He(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const u=o[e],a=o.theme,l=Nl(a,r)||{};return Zn(o,u,h=>{let f=zu(l,i,h);return h===f&&typeof h=="string"&&(f=zu(l,i,`${e}${h==="default"?"":On(h)}`,h)),n===!1?f:{[n]:f}})};return s.propTypes={},s.filterProps=[e],s}function t2(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const n2={m:"margin",p:"padding"},r2={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ng={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},i2=t2(t=>{if(t.length>2)if(Ng[t])t=Ng[t];else return[t];const[e,n]=t.split(""),r=n2[e],i=r2[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Tf=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],If=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Tf,...If];function Ea(t,e,n,r){var i;const s=(i=Nl(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function nb(t){return Ea(t,"spacing",8)}function wa(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function s2(t,e){return n=>t.reduce((r,i)=>(r[i]=wa(e,n),r),{})}function o2(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=i2(n),s=s2(i,r),o=t[n];return Zn(t,o,s)}function rb(t,e){const n=nb(t.theme);return Object.keys(t).map(r=>o2(t,e,r,n)).reduce(mo,{})}function Ne(t){return rb(t,Tf)}Ne.propTypes={};Ne.filterProps=Tf;function Fe(t){return rb(t,If)}Fe.propTypes={};Fe.filterProps=If;function a2(t=8){if(t.mui)return t;const e=nb({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Fl(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?mo(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function on(t){return typeof t!="number"?t:`${t}px solid`}function un(t,e){return He({prop:t,themeKey:"borders",transform:e})}const u2=un("border",on),l2=un("borderTop",on),c2=un("borderRight",on),h2=un("borderBottom",on),d2=un("borderLeft",on),f2=un("borderColor"),p2=un("borderTopColor"),m2=un("borderRightColor"),g2=un("borderBottomColor"),v2=un("borderLeftColor"),y2=un("outline",on),_2=un("outlineColor"),$l=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Ea(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:wa(e,r)});return Zn(t,t.borderRadius,n)}return null};$l.propTypes={};$l.filterProps=["borderRadius"];Fl(u2,l2,c2,h2,d2,f2,p2,m2,g2,v2,$l,y2,_2);const Ul=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Ea(t.theme,"spacing",8),n=r=>({gap:wa(e,r)});return Zn(t,t.gap,n)}return null};Ul.propTypes={};Ul.filterProps=["gap"];const zl=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Ea(t.theme,"spacing",8),n=r=>({columnGap:wa(e,r)});return Zn(t,t.columnGap,n)}return null};zl.propTypes={};zl.filterProps=["columnGap"];const jl=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Ea(t.theme,"spacing",8),n=r=>({rowGap:wa(e,r)});return Zn(t,t.rowGap,n)}return null};jl.propTypes={};jl.filterProps=["rowGap"];const b2=He({prop:"gridColumn"}),E2=He({prop:"gridRow"}),w2=He({prop:"gridAutoFlow"}),T2=He({prop:"gridAutoColumns"}),I2=He({prop:"gridAutoRows"}),S2=He({prop:"gridTemplateColumns"}),C2=He({prop:"gridTemplateRows"}),A2=He({prop:"gridTemplateAreas"}),R2=He({prop:"gridArea"});Fl(Ul,zl,jl,b2,E2,w2,T2,I2,S2,C2,A2,R2);function qi(t,e){return e==="grey"?e:t}const P2=He({prop:"color",themeKey:"palette",transform:qi}),x2=He({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:qi}),O2=He({prop:"backgroundColor",themeKey:"palette",transform:qi});Fl(P2,x2,O2);function Kt(t){return t<=1&&t!==0?`${t*100}%`:t}const D2=He({prop:"width",transform:Kt}),Sf=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||wf[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:Kt(n)}};return Zn(t,t.maxWidth,e)}return null};Sf.filterProps=["maxWidth"];const k2=He({prop:"minWidth",transform:Kt}),M2=He({prop:"height",transform:Kt}),V2=He({prop:"maxHeight",transform:Kt}),L2=He({prop:"minHeight",transform:Kt});He({prop:"size",cssProperty:"width",transform:Kt});He({prop:"size",cssProperty:"height",transform:Kt});const N2=He({prop:"boxSizing"});Fl(D2,Sf,k2,M2,V2,L2,N2);const F2={border:{themeKey:"borders",transform:on},borderTop:{themeKey:"borders",transform:on},borderRight:{themeKey:"borders",transform:on},borderBottom:{themeKey:"borders",transform:on},borderLeft:{themeKey:"borders",transform:on},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:on},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:$l},color:{themeKey:"palette",transform:qi},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:qi},backgroundColor:{themeKey:"palette",transform:qi},p:{style:Fe},pt:{style:Fe},pr:{style:Fe},pb:{style:Fe},pl:{style:Fe},px:{style:Fe},py:{style:Fe},padding:{style:Fe},paddingTop:{style:Fe},paddingRight:{style:Fe},paddingBottom:{style:Fe},paddingLeft:{style:Fe},paddingX:{style:Fe},paddingY:{style:Fe},paddingInline:{style:Fe},paddingInlineStart:{style:Fe},paddingInlineEnd:{style:Fe},paddingBlock:{style:Fe},paddingBlockStart:{style:Fe},paddingBlockEnd:{style:Fe},m:{style:Ne},mt:{style:Ne},mr:{style:Ne},mb:{style:Ne},ml:{style:Ne},mx:{style:Ne},my:{style:Ne},margin:{style:Ne},marginTop:{style:Ne},marginRight:{style:Ne},marginBottom:{style:Ne},marginLeft:{style:Ne},marginX:{style:Ne},marginY:{style:Ne},marginInline:{style:Ne},marginInlineStart:{style:Ne},marginInlineEnd:{style:Ne},marginBlock:{style:Ne},marginBlockStart:{style:Ne},marginBlockEnd:{style:Ne},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Ul},rowGap:{style:jl},columnGap:{style:zl},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Kt},maxWidth:{style:Sf},minWidth:{transform:Kt},height:{transform:Kt},maxHeight:{transform:Kt},minHeight:{transform:Kt},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Cf=F2;function $2(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function U2(t,e){return typeof t=="function"?t(e):t}function z2(){function t(n,r,i,s){const o={[n]:r,theme:i},u=s[n];if(!u)return{[n]:r};const{cssProperty:a=n,themeKey:l,transform:c,style:h}=u;if(r==null)return null;if(l==="typography"&&r==="inherit")return{[n]:r};const f=Nl(i,l)||{};return h?h(o):Zn(o,r,m=>{let g=zu(f,c,m);return m===g&&typeof m=="string"&&(g=zu(f,c,`${n}${m==="default"?"":On(m)}`,m)),a===!1?g:{[a]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Cf;function u(a){let l=a;if(typeof a=="function")l=a(s);else if(typeof a!="object")return a;if(!l)return null;const c=ZP(s.breakpoints),h=Object.keys(c);let f=c;return Object.keys(l).forEach(d=>{const m=U2(l[d],s);if(m!=null)if(typeof m=="object")if(o[d])f=mo(f,t(d,m,s,o));else{const g=Zn({theme:s},m,p=>({[d]:p}));$2(g,m)?f[d]=e({sx:m,theme:s}):f=mo(f,g)}else f=mo(f,t(d,m,s,o))}),e2(h,f)}return Array.isArray(i)?i.map(u):u(i)}return e}const Bl=z2();Bl.filterProps=["sx"];const j2=["breakpoints","palette","spacing","shape"];function Af(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=$n(t,j2),u=YP(n),a=a2(i);let l=pn({breakpoints:u,direction:"ltr",components:{},palette:M({mode:"light"},r),spacing:a,shape:M({},JP,s)},o);return l=e.reduce((c,h)=>pn(c,h),l),l.unstable_sxConfig=M({},Cf,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(h){return Bl({sx:h,theme:this})},l}function B2(t){return Object.keys(t).length===0}function H2(t=null){const e=me(bf);return!e||B2(e)?t:e}const W2=Af();function q2(t=W2){return H2(t)}const K2=["variant"];function Fg(t){return t.length===0}function ib(t){const{variant:e}=t,n=$n(t,K2);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=Fg(r)?t[i]:On(t[i]):r+=`${Fg(r)?i:On(i)}${On(t[i].toString())}`}),r}const G2=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Q2(t){return Object.keys(t).length===0}function Y2(t){return typeof t=="string"&&t.charCodeAt(0)>96}const X2=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,ju=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=ib(r.props),n[i]=r.style}),n},J2=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),ju(n)},Bu=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let s=0;return n&&n.forEach(o=>{let u=!0;if(typeof o.props=="function"){const a=M({},t,r);u=o.props(a)}else Object.keys(o.props).forEach(a=>{r[a]!==o.props[a]&&t[a]!==o.props[a]&&(u=!1)});u&&(typeof o.props=="function"?i.push(e[`callback${s}`]):i.push(e[ib(o.props)])),typeof o.props=="function"&&(s+=1)}),i},Z2=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Bu(t,e,s)};function _u(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const ex=Af(),tx=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function bu({defaultTheme:t,theme:e,themeId:n}){return Q2(e)?t:e[n]||e}function nx(t){return t?(e,n)=>n[t]:null}const $g=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(M({},e,{theme:bu(M({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=Bu(e,ju(s),s);return[i,...o]}return i};function rx(t={}){const{themeId:e,defaultTheme:n=ex,rootShouldForwardProp:r=_u,slotShouldForwardProp:i=_u}=t,s=o=>Bl(M({},o,{theme:bu(M({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,u={})=>{KP(o,T=>T.filter(A=>!(A!=null&&A.__mui_systemSx)));const{name:a,slot:l,skipVariantsResolver:c,skipSx:h,overridesResolver:f=nx(tx(l))}=u,d=$n(u,G2),m=c!==void 0?c:l&&l!=="Root"&&l!=="root"||!1,g=h||!1;let p,y=_u;l==="Root"||l==="root"?y=r:l?y=i:Y2(o)&&(y=void 0);const _=qP(o,M({shouldForwardProp:y,label:p},d)),w=(T,...A)=>{const b=A?A.map(V=>{if(typeof V=="function"&&V.__emotion_real!==V)return H=>$g({styledArg:V,props:H,defaultTheme:n,themeId:e});if(vr(V)){let H=V,G;return V&&V.variants&&(G=V.variants,delete H.variants,H=le=>{let pe=V;return Bu(le,ju(G),G).forEach(Se=>{pe=pn(pe,Se)}),pe}),H}return V}):[];let S=T;if(vr(T)){let V;T&&T.variants&&(V=T.variants,delete S.variants,S=H=>{let G=T;return Bu(H,ju(V),V).forEach(pe=>{G=pn(G,pe)}),G})}else typeof T=="function"&&T.__emotion_real!==T&&(S=V=>$g({styledArg:T,props:V,defaultTheme:n,themeId:e}));a&&f&&b.push(V=>{const H=bu(M({},V,{defaultTheme:n,themeId:e})),G=X2(a,H);if(G){const le={};return Object.entries(G).forEach(([pe,be])=>{le[pe]=typeof be=="function"?be(M({},V,{theme:H})):be}),f(V,le)}return null}),a&&!m&&b.push(V=>{const H=bu(M({},V,{defaultTheme:n,themeId:e}));return Z2(V,J2(a,H),H,a)}),g||b.push(s);const P=b.length-A.length;if(Array.isArray(T)&&P>0){const V=new Array(P).fill("");S=[...T,...V],S.raw=[...T.raw,...V]}const x=_(S,...b);return o.muiName&&(x.muiName=o.muiName),x};return _.withConfig&&(w.withConfig=_.withConfig),w}}function ix(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:O0(e.components[n].defaultProps,r)}function sx({props:t,name:e,defaultTheme:n,themeId:r}){let i=q2(n);return r&&(i=i[r]||i),ix({theme:i,name:e,props:t})}function sb(t,e=0,n=1){return Math.min(Math.max(e,t),n)}function ox(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function bs(t){if(t.type)return t;if(t.charAt(0)==="#")return bs(ox(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ys(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ys(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Rf(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function ax(t){t=bs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(l,c=(l+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let u="rgb";const a=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(u+="a",a.push(e[3])),Rf({type:u,values:a})}function Ug(t){t=bs(t);let e=t.type==="hsl"||t.type==="hsla"?bs(ax(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function ux(t,e){const n=Ug(t),r=Ug(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function lx(t,e){if(t=bs(t),e=sb(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Rf(t)}function cx(t,e){if(t=bs(t),e=sb(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Rf(t)}function hx(t,e){return M({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const dx={black:"#000",white:"#fff"},xo=dx,fx={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},px=fx,mx={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ri=mx,gx={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Pi=gx,vx={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ys=vx,yx={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},xi=yx,_x={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Oi=_x,bx={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Di=bx,Ex=["mode","contrastThreshold","tonalOffset"],zg={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xo.white,default:xo.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Jc={text:{primary:xo.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:xo.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function jg(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=cx(t.main,i):e==="dark"&&(t.dark=lx(t.main,s)))}function wx(t="light"){return t==="dark"?{main:xi[200],light:xi[50],dark:xi[400]}:{main:xi[700],light:xi[400],dark:xi[800]}}function Tx(t="light"){return t==="dark"?{main:Ri[200],light:Ri[50],dark:Ri[400]}:{main:Ri[500],light:Ri[300],dark:Ri[700]}}function Ix(t="light"){return t==="dark"?{main:Pi[500],light:Pi[300],dark:Pi[700]}:{main:Pi[700],light:Pi[400],dark:Pi[800]}}function Sx(t="light"){return t==="dark"?{main:Oi[400],light:Oi[300],dark:Oi[700]}:{main:Oi[700],light:Oi[500],dark:Oi[900]}}function Cx(t="light"){return t==="dark"?{main:Di[400],light:Di[300],dark:Di[700]}:{main:Di[800],light:Di[500],dark:Di[900]}}function Ax(t="light"){return t==="dark"?{main:Ys[400],light:Ys[300],dark:Ys[700]}:{main:"#ed6c02",light:Ys[500],dark:Ys[900]}}function Rx(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=$n(t,Ex),s=t.primary||wx(e),o=t.secondary||Tx(e),u=t.error||Ix(e),a=t.info||Sx(e),l=t.success||Cx(e),c=t.warning||Ax(e);function h(g){return ux(g,Jc.text.primary)>=n?Jc.text.primary:zg.text.primary}const f=({color:g,name:p,mainShade:y=500,lightShade:_=300,darkShade:w=700})=>{if(g=M({},g),!g.main&&g[y]&&(g.main=g[y]),!g.hasOwnProperty("main"))throw new Error(ys(11,p?` (${p})`:"",y));if(typeof g.main!="string")throw new Error(ys(12,p?` (${p})`:"",JSON.stringify(g.main)));return jg(g,"light",_,r),jg(g,"dark",w,r),g.contrastText||(g.contrastText=h(g.main)),g},d={dark:Jc,light:zg};return pn(M({common:M({},xo),mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:u,name:"error"}),warning:f({color:c,name:"warning"}),info:f({color:a,name:"info"}),success:f({color:l,name:"success"}),grey:px,contrastThreshold:n,getContrastText:h,augmentColor:f,tonalOffset:r},d[e]),i)}const Px=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xx(t){return Math.round(t*1e5)/1e5}const Bg={textTransform:"uppercase"},Hg='"Roboto", "Helvetica", "Arial", sans-serif';function Ox(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=Hg,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:a=700,htmlFontSize:l=16,allVariants:c,pxToRem:h}=n,f=$n(n,Px),d=i/14,m=h||(y=>`${y/l*d}rem`),g=(y,_,w,T,A)=>M({fontFamily:r,fontWeight:y,fontSize:m(_),lineHeight:w},r===Hg?{letterSpacing:`${xx(T/_)}em`}:{},A,c),p={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(u,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(u,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(u,14,1.75,.4,Bg),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,Bg),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return pn(M({htmlFontSize:l,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:a},p),f,{clone:!1})}const Dx=.2,kx=.14,Mx=.12;function ke(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${Dx})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${kx})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${Mx})`].join(",")}const Vx=["none",ke(0,2,1,-1,0,1,1,0,0,1,3,0),ke(0,3,1,-2,0,2,2,0,0,1,5,0),ke(0,3,3,-2,0,3,4,0,0,1,8,0),ke(0,2,4,-1,0,4,5,0,0,1,10,0),ke(0,3,5,-1,0,5,8,0,0,1,14,0),ke(0,3,5,-1,0,6,10,0,0,1,18,0),ke(0,4,5,-2,0,7,10,1,0,2,16,1),ke(0,5,5,-3,0,8,10,1,0,3,14,2),ke(0,5,6,-3,0,9,12,1,0,3,16,2),ke(0,6,6,-3,0,10,14,1,0,4,18,3),ke(0,6,7,-4,0,11,15,1,0,4,20,3),ke(0,7,8,-4,0,12,17,2,0,5,22,4),ke(0,7,8,-4,0,13,19,2,0,5,24,4),ke(0,7,9,-4,0,14,21,2,0,5,26,4),ke(0,8,9,-5,0,15,22,2,0,6,28,5),ke(0,8,10,-5,0,16,24,2,0,6,30,5),ke(0,8,11,-5,0,17,26,2,0,6,32,5),ke(0,9,11,-5,0,18,28,2,0,7,34,6),ke(0,9,12,-6,0,19,29,2,0,7,36,6),ke(0,10,13,-6,0,20,31,3,0,8,38,7),ke(0,10,13,-6,0,21,33,3,0,8,40,7),ke(0,10,14,-6,0,22,35,3,0,8,42,7),ke(0,11,14,-7,0,23,36,3,0,9,44,8),ke(0,11,15,-7,0,24,38,3,0,9,46,8)],Lx=["duration","easing","delay"],Nx={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Fx={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Wg(t){return`${Math.round(t)}ms`}function $x(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Ux(t){const e=M({},Nx,t.easing),n=M({},Fx,t.duration);return M({getAutoHeightDuration:$x,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:u=e.easeInOut,delay:a=0}=s;return $n(s,Lx),(Array.isArray(i)?i:[i]).map(l=>`${l} ${typeof o=="string"?o:Wg(o)} ${u} ${typeof a=="string"?a:Wg(a)}`).join(",")}},t,{easing:e,duration:n})}const zx={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},jx=zx,Bx=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Hx(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=$n(t,Bx);if(t.vars)throw new Error(ys(18));const u=Rx(r),a=Af(t);let l=pn(a,{mixins:hx(a.breakpoints,n),palette:u,shadows:Vx.slice(),typography:Ox(u,s),transitions:Ux(i),zIndex:M({},jx)});return l=pn(l,o),l=e.reduce((c,h)=>pn(c,h),l),l.unstable_sxConfig=M({},Cf,o==null?void 0:o.unstable_sxConfig),l.unstable_sx=function(h){return Bl({sx:h,theme:this})},l}const Wx=Hx(),ob=Wx,ab="$$material";function qx({props:t,name:e}){return sx({props:t,name:e,defaultTheme:ob,themeId:ab})}const Kx=t=>_u(t)&&t!=="classes",Gx=rx({themeId:ab,defaultTheme:ob,rootShouldForwardProp:Kx});function Qx(t){return k0("MuiSvgIcon",t)}DR("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Yx=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Xx=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${On(e)}`,`fontSize${On(n)}`]};return PR(i,Qx,r)},Jx=Gx("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${On(n.color)}`],e[`fontSize${On(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,u,a,l,c,h,f,d,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((u=t.typography)==null||(a=u.pxToRem)==null?void 0:a.call(u,24))||"1.5rem",large:((l=t.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,35))||"2.1875rem"}[e.fontSize],color:(h=(f=(t.vars||t).palette)==null||(f=f[e.color])==null?void 0:f.main)!=null?h:{action:(d=(t.vars||t).palette)==null||(d=d.action)==null?void 0:d.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),Hh=xs(function(e,n){const r=qx({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:u="svg",fontSize:a="medium",htmlColor:l,inheritViewBox:c=!1,titleAccess:h,viewBox:f="0 0 24 24"}=r,d=$n(r,Yx),m=yi(i)&&i.type==="svg",g=M({},r,{color:o,component:u,fontSize:a,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:f,hasSvgAsChild:m}),p={};c||(p.viewBox=f);const y=Xx(g);return Bh.jsxs(Jx,M({as:u,className:kR(y.root,s),focusable:"false",color:l,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n},p,d,m&&i.props,{ownerState:g,children:[m?i.props.children:i,h?Bh.jsx("title",{children:h}):null]}))});Hh.muiName="SvgIcon";function Zx(t,e){function n(r,i){return Bh.jsx(Hh,M({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=Hh.muiName,$d(xs(n))}const eO={configure:t=>{D0.configure(t)}},tO=Object.freeze(Object.defineProperty({__proto__:null,capitalize:On,createChainedFunction:lR,createSvgIcon:Zx,debounce:cR,deprecatedPropType:hR,isMuiElement:dR,ownerDocument:R0,ownerWindow:fR,requirePropFactory:pR,setRef:P0,unstable_ClassNameGenerator:eO,unstable_useEnhancedEffect:x0,unstable_useId:vR,unsupportedProp:yR,useControlled:_R,useEventCallback:bR,useForkRef:ER,useIsFocusVisible:RR},Symbol.toStringTag,{value:"Module"})),nO=lf(tO);var qg;function st(){return qg||(qg=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=nO}(Gc)),Gc}var rO=it;Object.defineProperty(cf,"__esModule",{value:!0});var ub=cf.default=void 0,iO=rO(st()),sO=Ye(),oO=(0,iO.default)((0,sO.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20z"}),"AccountCircle");ub=cf.default=oO;function aO({src:t}){return v(N,{children:v("div",{class:"accountframe",children:t?v("img",{src:t||void 0}):v(ub,{})})})}var Pf={},uO=it;Object.defineProperty(Pf,"__esModule",{value:!0});var lb=Pf.default=void 0,lO=uO(st()),cO=Ye(),hO=(0,lO.default)((0,cO.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");lb=Pf.default=hO;var xf={},dO=it;Object.defineProperty(xf,"__esModule",{value:!0});var cb=xf.default=void 0;mO(Z0);var fO=dO(st()),pO=Ye();function hb(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(hb=function(r){return r?n:e})(t)}function mO(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=hb(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}var gO=(0,fO.default)((0,pO.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");cb=xf.default=gO;var Of={},vO=it;Object.defineProperty(Of,"__esModule",{value:!0});var db=Of.default=void 0,yO=vO(st()),_O=Ye(),bO=(0,yO.default)((0,_O.jsx)("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");db=Of.default=bO;var EO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U,Df=Df||{},Z=EO||self;function Hl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ta(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function wO(t){return Object.prototype.hasOwnProperty.call(t,Zc)&&t[Zc]||(t[Zc]=++TO)}var Zc="closure_uid_"+(1e9*Math.random()>>>0),TO=0;function IO(t,e,n){return t.call.apply(t.bind,arguments)}function SO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ot(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ot=IO:Ot=SO,Ot.apply(null,arguments)}function Ka(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function Vr(){this.s=this.s,this.o=this.o}var CO=0;Vr.prototype.s=!1;Vr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),CO!=0)&&wO(this)};Vr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fb=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function kf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Kg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Hl(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Dt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var AO=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Z.addEventListener("test",n,e),Z.removeEventListener("test",n,e)}catch{}return t}();function Oo(t){return/^[\s\xa0]*$/.test(t)}function Wl(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function Cn(t){return Wl().indexOf(t)!=-1}function Mf(t){return Mf[" "](t),t}Mf[" "]=function(){};function RO(t,e){var n=bD;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var PO=Cn("Opera"),Es=Cn("Trident")||Cn("MSIE"),pb=Cn("Edge"),Wh=pb||Es,mb=Cn("Gecko")&&!(Wl().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge"))&&!(Cn("Trident")||Cn("MSIE"))&&!Cn("Edge"),xO=Wl().toLowerCase().indexOf("webkit")!=-1&&!Cn("Edge");function gb(){var t=Z.document;return t?t.documentMode:void 0}var qh;e:{var eh="",th=function(){var t=Wl();if(mb)return/rv:([^\);]+)(\)|;)/.exec(t);if(pb)return/Edge\/([\d\.]+)/.exec(t);if(Es)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xO)return/WebKit\/(\S+)/.exec(t);if(PO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(th&&(eh=th?th[1]:""),Es){var nh=gb();if(nh!=null&&nh>parseFloat(eh)){qh=String(nh);break e}}qh=eh}var Kh;if(Z.document&&Es){var Gg=gb();Kh=Gg||parseInt(qh,10)||void 0}else Kh=void 0;var OO=Kh;function Do(t,e){if(Dt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(mb){e:{try{Mf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:DO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Do.$.h.call(this)}}mt(Do,Dt);var DO={2:"touch",3:"pen",4:"mouse"};Do.prototype.h=function(){Do.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ia="closure_listenable_"+(1e6*Math.random()|0),kO=0;function MO(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++kO,this.fa=this.ia=!1}function ql(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Vf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function VO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function vb(t){const e={};for(const n in t)e[n]=t[n];return e}const Qg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yb(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Qg.length;s++)n=Qg[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Kl(t){this.src=t,this.g={},this.h=0}Kl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Qh(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new MO(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Gh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=fb(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ql(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Qh(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Lf="closure_lm_"+(1e6*Math.random()|0),rh={};function _b(t,e,n,r,i){if(r&&r.once)return Eb(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)_b(t,e[s],n,r,i);return null}return n=$f(n),t&&t[Ia]?t.O(e,n,Ta(r)?!!r.capture:!!r,i):bb(t,e,n,!1,r,i)}function bb(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ta(i)?!!i.capture:!!i,u=Ff(t);if(u||(t[Lf]=u=new Kl(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=LO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)AO||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Tb(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LO(){function t(n){return e.call(t.src,t.listener,n)}const e=NO;return t}function Eb(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Eb(t,e[s],n,r,i);return null}return n=$f(n),t&&t[Ia]?t.P(e,n,Ta(r)?!!r.capture:!!r,i):bb(t,e,n,!0,r,i)}function wb(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)wb(t,e[s],n,r,i);else r=Ta(r)?!!r.capture:!!r,n=$f(n),t&&t[Ia]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Qh(s,n,r,i),-1<n&&(ql(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ff(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Qh(e,n,r,i)),(n=-1<t?e[t]:null)&&Nf(n))}function Nf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ia])Gh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Tb(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ff(e))?(Gh(n,t),n.h==0&&(n.src=null,e[Lf]=null)):ql(t)}}}function Tb(t){return t in rh?rh[t]:rh[t]="on"+t}function NO(t,e){if(t.fa)t=!0;else{e=new Do(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Nf(t),t=n.call(r,e)}return t}function Ff(t){return t=t[Lf],t instanceof Kl?t:null}var ih="__closure_events_fn_"+(1e9*Math.random()>>>0);function $f(t){return typeof t=="function"?t:(t[ih]||(t[ih]=function(e){return t.handleEvent(e)}),t[ih])}function dt(){Vr.call(this),this.i=new Kl(this),this.S=this,this.J=null}mt(dt,Vr);dt.prototype[Ia]=!0;dt.prototype.removeEventListener=function(t,e,n,r){wb(this,t,e,n,r)};function Tt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Dt(e,t);else if(e instanceof Dt)e.target=e.target||t;else{var i=e;e=new Dt(r,t),yb(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ga(o,r,!0,e)&&i}if(o=e.g=t,i=Ga(o,r,!0,e)&&i,i=Ga(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ga(o,r,!1,e)&&i}dt.prototype.N=function(){if(dt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ql(n[r]);delete t.g[e],t.h--}}this.J=null};dt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};dt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ga(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var u=o.listener,a=o.la||o.src;o.ia&&Gh(t.i,o),i=u.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var Uf=Z.JSON.stringify;class FO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function $O(){var t=zf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class UO{constructor(){this.h=this.g=null}add(e,n){const r=Ib.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Ib=new FO(()=>new zO,t=>t.reset());class zO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function BO(t){Z.setTimeout(()=>{throw t},0)}let ko,Mo=!1,zf=new UO,Sb=()=>{const t=Z.Promise.resolve(void 0);ko=()=>{t.then(HO)}};var HO=()=>{for(var t;t=$O();){try{t.h.call(t.g)}catch(n){BO(n)}var e=Ib;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mo=!1};function Gl(t,e){dt.call(this),this.h=t||1,this.g=e||Z,this.j=Ot(this.qb,this),this.l=Date.now()}mt(Gl,dt);U=Gl.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Tt(this,"tick"),this.ga&&(jf(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){Gl.$.N.call(this),jf(this),delete this.g};function Bf(t,e,n){if(typeof t=="function")n&&(t=Ot(t,n));else if(t&&typeof t.handleEvent=="function")t=Ot(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function Cb(t){t.g=Bf(()=>{t.g=null,t.i&&(t.i=!1,Cb(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class WO extends Vr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cb(this)}N(){super.N(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vo(t){Vr.call(this),this.h=t,this.g={}}mt(Vo,Vr);var Yg=[];function Ab(t,e,n,r){Array.isArray(n)||(n&&(Yg[0]=n.toString()),n=Yg);for(var i=0;i<n.length;i++){var s=_b(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Rb(t){Vf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Nf(e)},t),t.g={}}Vo.prototype.N=function(){Vo.$.N.call(this),Rb(this)};Vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ql(){this.g=!0}Ql.prototype.Ea=function(){this.g=!1};function qO(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),a=0;a<u.length;a++){var l=u[a].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+l+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function KO(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ji(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+QO(t,n)+(r?" "+r:"")})}function GO(t,e){t.info(function(){return"TIMEOUT: "+e})}Ql.prototype.info=function(){};function QO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Uf(n)}catch{return e}}var bi={},Xg=null;function Yl(){return Xg=Xg||new dt}bi.Ta="serverreachability";function Pb(t){Dt.call(this,bi.Ta,t)}mt(Pb,Dt);function Lo(t){const e=Yl();Tt(e,new Pb(e))}bi.STAT_EVENT="statevent";function xb(t,e){Dt.call(this,bi.STAT_EVENT,t),this.stat=e}mt(xb,Dt);function Nt(t){const e=Yl();Tt(e,new xb(e,t))}bi.Ua="timingevent";function Ob(t,e){Dt.call(this,bi.Ua,t),this.size=e}mt(Ob,Dt);function Sa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var Xl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Db={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hf(){}Hf.prototype.h=null;function Jg(t){return t.h||(t.h=t.i())}function kb(){}var Ca={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wf(){Dt.call(this,"d")}mt(Wf,Dt);function qf(){Dt.call(this,"c")}mt(qf,Dt);var Yh;function Jl(){}mt(Jl,Hf);Jl.prototype.g=function(){return new XMLHttpRequest};Jl.prototype.i=function(){return{}};Yh=new Jl;function Aa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vo(this),this.P=YO,t=Wh?125:void 0,this.V=new Gl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Mb}function Mb(){this.i=null,this.g="",this.h=!1}var YO=45e3,Vb={},Xh={};U=Aa.prototype;U.setTimeout=function(t){this.P=t};function Jh(t,e,n){t.L=1,t.A=ec(er(e)),t.u=n,t.S=!0,Lb(t,null)}function Lb(t,e){t.G=Date.now(),Ra(t),t.B=er(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),Hb(n.i,"t",r),t.o=0,n=t.l.J,t.h=new Mb,t.g=h1(t.l,n?e:null,!t.u),0<t.O&&(t.M=new WO(Ot(t.Pa,t,t.g),t.O)),Ab(t.U,t.g,"readystatechange",t.nb),e=t.I?vb(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Lo(),qO(t.j,t.v,t.B,t.m,t.W,t.u)}U.nb=function(t){t=t.target;const e=this.M;e&&An(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{const c=An(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Wh||this.g&&(this.h.h||this.g.ja()||nv(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Lo(3):Lo(2)),Zl(this);var n=this.g.da();this.ca=n;t:if(Nb(this)){var r=nv(this.g);t="";var i=r.length,s=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),go(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,KO(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,a=this.g;if((u=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oo(u)){var l=u;break t}}l=null}if(n=l)ji(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zh(this,n);else{this.i=!1,this.s=3,Nt(12),qr(this),go(this);break e}}this.S?(Fb(this,c,o),Wh&&this.i&&c==3&&(Ab(this.U,this.V,"tick",this.mb),this.V.start())):(ji(this.j,this.m,o,null),Zh(this,o)),c==4&&qr(this),this.i&&!this.J&&(c==4?a1(this.l,this):(this.i=!1,Ra(this)))}else vD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),qr(this),go(this)}}}catch{}finally{}};function Nb(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function Fb(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=XO(t,n),i==Xh){e==4&&(t.s=4,Nt(14),r=!1),ji(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Vb){t.s=4,Nt(15),ji(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ji(t.j,t.m,i,null),Zh(t,i);Nb(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Nt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jf(e),e.M=!0,Nt(11))):(ji(t.j,t.m,n,"[Invalid Chunked Response]"),qr(t),go(t))}U.mb=function(){if(this.g){var t=An(this.g),e=this.g.ja();this.o<e.length&&(Zl(this),Fb(this,t,e),this.i&&t!=4&&Ra(this))}};function XO(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Xh:(n=Number(e.substring(n,r)),isNaN(n)?Vb:(r+=1,r+n>e.length?Xh:(e=e.slice(r,r+n),t.o=r+n,e)))}U.cancel=function(){this.J=!0,qr(this)};function Ra(t){t.Y=Date.now()+t.P,$b(t,t.P)}function $b(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Sa(Ot(t.lb,t),e)}function Zl(t){t.C&&(Z.clearTimeout(t.C),t.C=null)}U.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(GO(this.j,this.B),this.L!=2&&(Lo(),Nt(17)),qr(this),this.s=2,go(this)):$b(this,this.Y-t)};function go(t){t.l.H==0||t.J||a1(t.l,t)}function qr(t){Zl(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,jf(t.V),Rb(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Zh(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||ed(n.i,t))){if(!t.K&&ed(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)qu(n),ic(n);else break e;Xf(n),Nt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Sa(Ot(n.ib,n),6e3));if(1>=Kb(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Kr(n,11)}else if((t.K||n.g==t)&&qu(n),!Oo(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const c=l[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const m=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Kf(s,s.h),s.h=null))}if(r.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Oe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=c1(r,r.J?r.pa:null,r.Y),o.K){Gb(r.i,o);var u=o,a=r.L;a&&u.setTimeout(a),u.C&&(Zl(u),Ra(u)),r.g=o}else s1(r);0<n.j.length&&sc(n)}else l[0]!="stop"&&l[0]!="close"||Kr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Kr(n,7):Yf(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Lo(4)}catch{}}function JO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Hl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function ZO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Hl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Ub(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Hl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=ZO(t),r=JO(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var zb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function si(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof si){this.h=t.h,Hu(this,t.j),this.s=t.s,this.g=t.g,Wu(this,t.m),this.l=t.l;var e=t.i,n=new No;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Zg(this,n),this.o=t.o}else t&&(e=String(t).match(zb))?(this.h=!1,Hu(this,e[1]||"",!0),this.s=ro(e[2]||""),this.g=ro(e[3]||"",!0),Wu(this,e[4]),this.l=ro(e[5]||"",!0),Zg(this,e[6]||"",!0),this.o=ro(e[7]||"")):(this.h=!1,this.i=new No(null,this.h))}si.prototype.toString=function(){var t=[],e=this.j;e&&t.push(io(e,ev,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(io(e,ev,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(io(n,n.charAt(0)=="/"?rD:nD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",io(n,sD)),t.join("")};function er(t){return new si(t)}function Hu(t,e,n){t.j=n?ro(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Wu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Zg(t,e,n){e instanceof No?(t.i=e,oD(t.i,t.h)):(n||(e=io(e,iD)),t.i=new No(e,t.h))}function Oe(t,e,n){t.i.set(e,n)}function ec(t){return Oe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ro(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function io(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,tD),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function tD(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ev=/[#\/\?@]/g,nD=/[#\?:]/g,rD=/[#\?]/g,iD=/[#\?@]/g,sD=/#/g;function No(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Lr(t){t.g||(t.g=new Map,t.h=0,t.i&&eD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=No.prototype;U.add=function(t,e){Lr(this),this.i=null,t=Vs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function jb(t,e){Lr(t),e=Vs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Bb(t,e){return Lr(t),e=Vs(t,e),t.g.has(e)}U.forEach=function(t,e){Lr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};U.ta=function(){Lr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};U.Z=function(t){Lr(this);let e=[];if(typeof t=="string")Bb(this,t)&&(e=e.concat(this.g.get(Vs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return Lr(this),this.i=null,t=Vs(this,t),Bb(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Hb(t,e,n){jb(t,e),0<n.length&&(t.i=null,t.g.set(Vs(t,e),kf(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Vs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oD(t,e){e&&!t.j&&(Lr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(jb(this,r),Hb(this,i,n))},t)),t.j=e}var aD=class{constructor(t,e){this.g=t,this.map=e}};function Wb(t){this.l=t||uD,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ka&&Z.g.Ka()&&Z.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uD=10;function qb(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Kb(t){return t.h?1:t.g?t.g.size:0}function ed(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Kf(t,e){t.g?t.g.add(e):t.h=e}function Gb(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Wb.prototype.cancel=function(){if(this.i=Qb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Qb(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return kf(t.i)}var lD=class{stringify(t){return Z.JSON.stringify(t,void 0)}parse(t){return Z.JSON.parse(t,void 0)}};function cD(){this.g=new lD}function hD(t,e,n){const r=n||"";try{Ub(t,function(i,s){let o=i;Ta(i)&&(o=Uf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dD(t,e){const n=new Ql;if(Z.Image){const r=new Image;r.onload=Ka(Qa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ka(Qa,n,r,"TestLoadImage: error",!1,e),r.onabort=Ka(Qa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ka(Qa,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Qa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function tc(t){this.l=t.ec||null,this.j=t.ob||!1}mt(tc,Hf);tc.prototype.g=function(){return new nc(this.l,this.j)};tc.prototype.i=function(t){return function(){return t}}({});function nc(t,e){dt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Gf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mt(nc,dt);var Gf=0;U=nc.prototype;U.open=function(t,e){if(this.readyState!=Gf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fo(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Z).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pa(this)),this.readyState=Gf};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fo(this)),this.g&&(this.readyState=3,Fo(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yb(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Yb(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pa(this):Fo(this),this.readyState==3&&Yb(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,Pa(this))};U.Ya=function(t){this.g&&(this.response=t,Pa(this))};U.ka=function(){this.g&&Pa(this)};function Pa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fo(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Fo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var fD=Z.JSON.parse;function je(t){dt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Xb,this.L=this.M=!1}mt(je,dt);var Xb="",pD=/^https?$/i,mD=["POST","PUT"];U=je.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yh.g(),this.C=this.u?Jg(this.u):Jg(Yh),this.g.onreadystatechange=Ot(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){tv(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=fb(mD,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{e1(this),0<this.B&&((this.L=gD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.ua,this)):this.A=Bf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){tv(this,s)}};function gD(t){return Es&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof Df<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tt(this,"timeout"),this.abort(8))};function tv(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Jb(t),rc(t)}function Jb(t){t.F||(t.F=!0,Tt(t,"complete"),Tt(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Tt(this,"complete"),Tt(this,"abort"),rc(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),rc(this,!0)),je.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?Zb(this):this.kb())};U.kb=function(){Zb(this)};function Zb(t){if(t.h&&typeof Df<"u"&&(!t.C[1]||An(t)!=4||t.da()!=2)){if(t.v&&An(t)==4)Bf(t.La,0,t);else if(Tt(t,"readystatechange"),An(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(zb)[1]||null;!i&&Z.self&&Z.self.location&&(i=Z.self.location.protocol.slice(0,-1)),r=!pD.test(i?i.toLowerCase():"")}n=r}if(n)Tt(t,"complete"),Tt(t,"success");else{t.m=6;try{var s=2<An(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Jb(t)}}finally{rc(t)}}}}function rc(t,e){if(t.g){e1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch{}}}function e1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function An(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),fD(e)}};function nv(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Xb:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function vD(t){const e={};t=(t.g&&2<=An(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Oo(t[r]))continue;var n=jO(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}VO(e,function(r){return r.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function t1(t){let e="";return Vf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Qf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=t1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Oe(t,e,n))}function Xs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function n1(t){this.Ga=0,this.j=[],this.l=new Ql,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xs("baseRetryDelayMs",5e3,t),this.hb=Xs("retryDelaySeedMs",1e4,t),this.eb=Xs("forwardChannelMaxRetries",2,t),this.xa=Xs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Wb(t&&t.concurrentRequestLimit),this.Ja=new cD,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=n1.prototype;U.ra=8;U.H=1;function Yf(t){if(r1(t),t.H==3){var e=t.W++,n=er(t.I);if(Oe(n,"SID",t.K),Oe(n,"RID",e),Oe(n,"TYPE","terminate"),xa(t,n),e=new Aa(t,t.l,e),e.L=2,e.A=ec(er(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon)try{n=Z.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Z.Image&&(new Image().src=e.A,n=!0),n||(e.g=h1(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ra(e)}l1(t)}function ic(t){t.g&&(Jf(t),t.g.cancel(),t.g=null)}function r1(t){ic(t),t.u&&(Z.clearTimeout(t.u),t.u=null),qu(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function sc(t){if(!qb(t.i)&&!t.m){t.m=!0;var e=t.Na;ko||Sb(),Mo||(ko(),Mo=!0),zf.add(e,t),t.C=0}}function yD(t,e){return Kb(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Sa(Ot(t.Na,t,e),u1(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Aa(this,this.l,t);let s=this.s;if(this.U&&(s?(s=vb(s),yb(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=i1(this,i,e),n=er(this.I),Oe(n,"RID",t),Oe(n,"CVER",22),this.F&&Oe(n,"X-HTTP-Session-Id",this.F),xa(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(t1(s)))+"&"+e:this.o&&Qf(n,this.o,s)),Kf(this.i,i),this.bb&&Oe(n,"TYPE","init"),this.P?(Oe(n,"$req",e),Oe(n,"SID","null"),i.aa=!0,Jh(i,n,null)):Jh(i,n,e),this.H=2}}else this.H==3&&(t?rv(this,t):this.j.length==0||qb(this.i)||rv(this))};function rv(t,e){var n;e?n=e.m:n=t.W++;const r=er(t.I);Oe(r,"SID",t.K),Oe(r,"RID",n),Oe(r,"AID",t.V),xa(t,r),t.o&&t.s&&Qf(r,t.o,t.s),n=new Aa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=i1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Kf(t.i,n),Jh(n,r,e)}function xa(t,e){t.na&&Vf(t.na,function(n,r){Oe(e,r,n)}),t.h&&Ub({},function(n,r){Oe(e,r,n)})}function i1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ot(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let a=0;a<n;a++){let l=i[a].g;const c=i[a].map;if(l-=s,0>l)s=Math.max(0,i[a].g-100),u=!1;else try{hD(c,o,"req"+l+"_")}catch{r&&r(c)}}if(u){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function s1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ko||Sb(),Mo||(ko(),Mo=!0),zf.add(e,t),t.A=0}}function Xf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Sa(Ot(t.Ma,t),u1(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,o1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Sa(Ot(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Nt(10),ic(this),o1(this))};function Jf(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function o1(t){t.g=new Aa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=er(t.wa);Oe(e,"RID","rpc"),Oe(e,"SID",t.K),Oe(e,"AID",t.V),Oe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Oe(e,"TO",t.qa),Oe(e,"TYPE","xmlhttp"),xa(t,e),t.o&&t.s&&Qf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=ec(er(e)),n.u=null,n.S=!0,Lb(n,t)}U.ib=function(){this.v!=null&&(this.v=null,ic(this),Xf(this),Nt(19))};function qu(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function a1(t,e){var n=null;if(t.g==e){qu(t),Jf(t),t.g=null;var r=2}else if(ed(t.i,e))n=e.F,Gb(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Yl(),Tt(r,new Ob(r,n)),sc(t)}else s1(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&yD(t,e)||r==2&&Xf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Kr(t,5);break;case 4:Kr(t,10);break;case 3:Kr(t,6);break;default:Kr(t,2)}}}function u1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Kr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ot(t.pb,t);n||(n=new si("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||Hu(n,"https"),ec(n)),dD(n.toString(),r)}else Nt(2);t.H=0,t.h&&t.h.za(e),l1(t),r1(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Nt(2)):(this.l.info("Failed to ping google.com"),Nt(1))};function l1(t){if(t.H=0,t.ma=[],t.h){const e=Qb(t.i);(e.length!=0||t.j.length!=0)&&(Kg(t.ma,e),Kg(t.ma,t.j),t.i.i.length=0,kf(t.j),t.j.length=0),t.h.ya()}}function c1(t,e,n){var r=n instanceof si?er(n):new si(n);if(r.g!="")e&&(r.g=e+"."+r.g),Wu(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new si(null);r&&Hu(s,r),e&&(s.g=e),i&&Wu(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Oe(r,n,e),Oe(r,"VER",t.ra),xa(t,r),r}function h1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new je(new tc({ob:n})):new je(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function d1(){}U=d1.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function Ku(){if(Es&&!(10<=Number(OO)))throw Error("Environmental error: no available transport.")}Ku.prototype.g=function(t,e){return new Yt(t,e)};function Yt(t,e){dt.call(this),this.g=new n1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Oo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Oo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ls(this)}mt(Yt,dt);Yt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Nt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=c1(t,null,t.Y),sc(t)};Yt.prototype.close=function(){Yf(this.g)};Yt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Uf(t),t=n);e.j.push(new aD(e.fb++,t)),e.H==3&&sc(e)};Yt.prototype.N=function(){this.g.h=null,delete this.j,Yf(this.g),delete this.g,Yt.$.N.call(this)};function f1(t){Wf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mt(f1,Wf);function p1(){qf.call(this),this.status=1}mt(p1,qf);function Ls(t){this.g=t}mt(Ls,d1);Ls.prototype.Ba=function(){Tt(this.g,"a")};Ls.prototype.Aa=function(t){Tt(this.g,new f1(t))};Ls.prototype.za=function(t){Tt(this.g,new p1)};Ls.prototype.ya=function(){Tt(this.g,"b")};function _D(){this.blockSize=-1}function vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}mt(vn,_D);vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sh(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}vn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)sh(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){sh(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){sh(this,r),i=0;break}}this.h=i,this.i+=e};vn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ee(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var bD={};function Zf(t){return-128<=t&&128>t?RO(t,function(e){return new Ee([e|0],0>e?-1:0)}):new Ee([t|0],0>t?-1:0)}function Rn(t){if(isNaN(t)||!isFinite(t))return Ki;if(0>t)return Et(Rn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=td;return new Ee(e,0)}function m1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(m1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Rn(Math.pow(e,8)),r=Ki,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Rn(Math.pow(e,s)),r=r.R(s).add(Rn(o))):(r=r.R(n),r=r.add(Rn(o)))}return r}var td=4294967296,Ki=Zf(0),nd=Zf(1),iv=Zf(16777216);U=Ee.prototype;U.ea=function(){if(an(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:td+r)*e,e*=td}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Gn(this))return"0";if(an(this))return"-"+Et(this).toString(t);for(var e=Rn(Math.pow(t,6)),n=this,r="";;){var i=Qu(n,e).g;n=Gu(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Gn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Gn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function an(t){return t.h==-1}U.X=function(t){return t=Gu(this,t),an(t)?-1:Gn(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ee(n,~t.h).add(nd)}U.abs=function(){return an(this)?Et(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ee(n,n[n.length-1]&-2147483648?-1:0)};function Gu(t,e){return t.add(Et(e))}U.R=function(t){if(Gn(this)||Gn(t))return Ki;if(an(this))return an(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(an(t))return Et(this.R(Et(t)));if(0>this.X(iv)&&0>t.X(iv))return Rn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,u=t.D(i)>>>16,a=t.D(i)&65535;n[2*r+2*i]+=o*a,Ya(n,2*r+2*i),n[2*r+2*i+1]+=s*a,Ya(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Ya(n,2*r+2*i+1),n[2*r+2*i+2]+=s*u,Ya(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ee(n,0)};function Ya(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Js(t,e){this.g=t,this.h=e}function Qu(t,e){if(Gn(e))throw Error("division by zero");if(Gn(t))return new Js(Ki,Ki);if(an(t))return e=Qu(Et(t),e),new Js(Et(e.g),Et(e.h));if(an(e))return e=Qu(t,Et(e)),new Js(Et(e.g),e.h);if(30<t.g.length){if(an(t)||an(e))throw Error("slowDivide_ only works with positive integers.");for(var n=nd,r=e;0>=r.X(t);)n=sv(n),r=sv(r);var i=ki(n,1),s=ki(r,1);for(r=ki(r,2),n=ki(n,2);!Gn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ki(r,1),n=ki(n,1)}return e=Gu(t,i.R(e)),new Js(i,e)}for(i=Ki;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Rn(n),o=s.R(e);an(o)||0<o.X(t);)n-=r,s=Rn(n),o=s.R(e);Gn(s)&&(s=nd),i=i.add(s),t=Gu(t,o)}return new Js(i,t)}U.gb=function(t){return Qu(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ee(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ee(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ee(n,this.h^t.h)};function sv(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ee(n,t.h)}function ki(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ee(i,t.h)}Ku.prototype.createWebChannel=Ku.prototype.g;Yt.prototype.send=Yt.prototype.u;Yt.prototype.open=Yt.prototype.m;Yt.prototype.close=Yt.prototype.close;Xl.NO_ERROR=0;Xl.TIMEOUT=8;Xl.HTTP_ERROR=6;Db.COMPLETE="complete";kb.EventType=Ca;Ca.OPEN="a";Ca.CLOSE="b";Ca.ERROR="c";Ca.MESSAGE="d";dt.prototype.listen=dt.prototype.O;je.prototype.listenOnce=je.prototype.P;je.prototype.getLastError=je.prototype.Sa;je.prototype.getLastErrorCode=je.prototype.Ia;je.prototype.getStatus=je.prototype.da;je.prototype.getResponseJson=je.prototype.Wa;je.prototype.getResponseText=je.prototype.ja;je.prototype.send=je.prototype.ha;je.prototype.setWithCredentials=je.prototype.Oa;vn.prototype.digest=vn.prototype.l;vn.prototype.reset=vn.prototype.reset;vn.prototype.update=vn.prototype.j;Ee.prototype.add=Ee.prototype.add;Ee.prototype.multiply=Ee.prototype.R;Ee.prototype.modulo=Ee.prototype.gb;Ee.prototype.compare=Ee.prototype.X;Ee.prototype.toNumber=Ee.prototype.ea;Ee.prototype.toString=Ee.prototype.toString;Ee.prototype.getBits=Ee.prototype.D;Ee.fromNumber=Rn;Ee.fromString=m1;var ED=function(){return new Ku},wD=function(){return Yl()},oh=Xl,TD=Db,ID=bi,ov={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Xa=kb,SD=je,CD=vn,Gi=Ee;const av="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="10.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Qd("@firebase/firestore");function Zs(){return hi.logLevel}function j(t,...e){if(hi.logLevel<=de.DEBUG){const n=e.map(ep);hi.debug(`Firestore (${Ns}): ${t}`,...n)}}function tr(t,...e){if(hi.logLevel<=de.ERROR){const n=e.map(ep);hi.error(`Firestore (${Ns}): ${t}`,...n)}}function ws(t,...e){if(hi.logLevel<=de.WARN){const n=e.map(ep);hi.warn(`Firestore (${Ns}): ${t}`,...n)}}function ep(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t="Unexpected state"){const e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function Pe(t,e){t||ee()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class RD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PD{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},u=a=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>u(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?u(a):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string"),new g1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string"),new Pt(e)}}class xD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new xD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string"),this.R=n.token,new DD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=MD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Ts(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new rt(0,0))}static max(){return new te(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return $o.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $o?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends $o{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const VD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wt extends $o{construct(e,n,r){return new wt(e,n,r)}static isValidIdentifier(e){return VD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new wt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new K(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new K(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new K(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wt(n)}static emptyPath(){return new wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Me.fromString(e))}static fromName(e){return new Y(Me.fromString(e).popFirst(5))}static empty(){return new Y(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Me(e.slice()))}}function LD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new Dr(i,Y.empty(),e)}function ND(t){return new Dr(t.readTime,t.key,-1)}class Dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dr(te.min(),Y.empty(),-1)}static max(){return new Dr(te.max(),Y.empty(),-1)}}function FD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oa(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==$D)throw t;j("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let a=0;a<s;a++){const l=a;n(e[l]).next(c=>{o[l]=c,++u,u===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Da(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}tp._e=-1;function oc(t){return t==null}function Yu(t){return t===0&&1/t==-1/0}function zD(t){return typeof t=="number"&&Number.isInteger(t)&&!Yu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function y1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new Le(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Le(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ja(this.root,e,this.comparator,!0)}}class Ja{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??_t.RED,this.left=i??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new _t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();const e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(e){return new lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(wt.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new It(wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _1("Invalid base64 string: "+s):s}}(e);return new Mt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mt.EMPTY_BYTE_STRING=new Mt("");const jD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(Pe(!!t),typeof t=="string"){let e=0;const n=jD.exec(t);if(Pe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function di(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rp(t){const e=t.mapValue.fields.__previous_value__;return np(e)?rp(e):e}function Uo(t){const e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,i,s,o,u,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=a,this.useFetchStreams=l}}class zo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?np(t)?4:HD(t)?9007199254740991:10:ee()}function Nn(t,e){if(t===e)return!0;const n=fi(t);if(n!==fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uo(t).isEqual(Uo(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=kr(i.timestampValue),u=kr(s.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return di(i.bytesValue).isEqual(di(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ke(i.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ke(i.integerValue)===Ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ke(i.doubleValue),u=Ke(s.doubleValue);return o===u?Yu(o)===Yu(u):isNaN(o)&&isNaN(u)}return!1}(t,e);case 9:return Ts(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:return function(i,s){const o=i.mapValue.fields||{},u=s.mapValue.fields||{};if(uv(o)!==uv(u))return!1;for(const a in o)if(o.hasOwnProperty(a)&&(u[a]===void 0||!Nn(o[a],u[a])))return!1;return!0}(t,e);default:return ee()}}function jo(t,e){return(t.values||[]).find(n=>Nn(n,e))!==void 0}function Is(t,e){if(t===e)return 0;const n=fi(t),r=fi(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const u=Ke(s.integerValue||s.doubleValue),a=Ke(o.integerValue||o.doubleValue);return u<a?-1:u>a?1:u===a?0:isNaN(u)?isNaN(a)?0:-1:1}(t,e);case 3:return cv(t.timestampValue,e.timestampValue);case 4:return cv(Uo(t),Uo(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(s,o){const u=di(s),a=di(o);return u.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const u=s.split("/"),a=o.split("/");for(let l=0;l<u.length&&l<a.length;l++){const c=_e(u[l],a[l]);if(c!==0)return c}return _e(u.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const u=_e(Ke(s.latitude),Ke(o.latitude));return u!==0?u:_e(Ke(s.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const u=s.values||[],a=o.values||[];for(let l=0;l<u.length&&l<a.length;++l){const c=Is(u[l],a[l]);if(c)return c}return _e(u.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Za.mapValue&&o===Za.mapValue)return 0;if(s===Za.mapValue)return 1;if(o===Za.mapValue)return-1;const u=s.fields||{},a=Object.keys(u),l=o.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let h=0;h<a.length&&h<c.length;++h){const f=_e(a[h],c[h]);if(f!==0)return f;const d=Is(u[a[h]],l[c[h]]);if(d!==0)return d}return _e(a.length,c.length)}(t.mapValue,e.mapValue);default:throw ee()}}function cv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=kr(t),r=kr(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Ss(t){return rd(t)}function rd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return di(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=rd(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${rd(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function id(t){return!!t&&"integerValue"in t}function ip(t){return!!t&&"arrayValue"in t}function hv(t){return!!t&&"nullValue"in t}function dv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eu(t){return!!t&&"mapValue"in t}function vo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Eu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vo(n)}setAll(e){let n=wt.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=vo(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Eu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Eu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jt(vo(this.value))}}function b1(t){const e=[];return Ei(t.fields,(n,r)=>{const i=new wt([n]);if(Eu(r)){const s=b1(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new xt(e,0,te.min(),te.min(),te.min(),jt.empty(),0)}static newFoundDocument(e,n,r,i){return new xt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new xt(e,2,n,te.min(),te.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new xt(e,3,n,te.min(),te.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.position=e,this.inclusive=n}}function fv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=Is(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function pv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n="asc"){this.field=e,this.dir=n}}function WD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{}class nt extends E1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KD(e,n,r):n==="array-contains"?new YD(e,r):n==="in"?new XD(e,r):n==="not-in"?new JD(e,r):n==="array-contains-any"?new ZD(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GD(e,r):new QD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Is(n,this.value)):n!==null&&fi(this.value)===fi(n)&&this.matchesComparison(Is(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends E1{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Fn(e,n)}matches(e){return w1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function w1(t){return t.op==="and"}function T1(t){return qD(t)&&w1(t)}function qD(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function sd(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Ss(t.value);if(T1(t))return t.filters.map(e=>sd(e)).join(",");{const e=t.filters.map(n=>sd(n)).join(",");return`${t.op}(${e})`}}function I1(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(t,e):t instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,u)=>s&&I1(o,i.filters[u]),!0):!1}(t,e):void ee()}function S1(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ss(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(S1).join(" ,")+"}"}(t):"Filter"}class KD extends nt{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class GD extends nt{constructor(e,n){super(e,"in",n),this.keys=C1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class QD extends nt{constructor(e,n){super(e,"not-in",n),this.keys=C1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function C1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class YD extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ip(n)&&jo(n.arrayValue,this.value)}}class XD extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jo(this.value.arrayValue,n)}}class JD extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!jo(this.value.arrayValue,n)}}class ZD extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>jo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ce=null}}function mv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ek(t,e,n,r,i,s,o)}function sp(t){const e=se(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),oc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ss(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ss(r)).join(",")),e.ce=n}return e.ce}function op(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!I1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pv(t.startAt,e.startAt)&&pv(t.endAt,e.endAt)}function od(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function tk(t,e,n,r,i,s,o,u){return new ac(t,e,n,r,i,s,o,u)}function ap(t){return new ac(t)}function gv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nk(t){return t.collectionGroup!==null}function yo(t){const e=se(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let u=new It(wt.comparator);return o.filters.forEach(a=>{a.getFlattenedFilters().forEach(l=>{l.isInequality()&&(u=u.add(l.field))})}),u})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ju(s,r))}),n.has(wt.keyField().canonicalString())||e.le.push(new Ju(wt.keyField(),r))}return e.le}function kn(t){const e=se(t);return e.he||(e.he=rk(e,yo(t))),e.he}function rk(t,e){if(t.limitType==="F")return mv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ju(i.field,s)});const n=t.endAt?new Xu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xu(t.startAt.position,t.startAt.inclusive):null;return mv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ad(t,e,n){return new ac(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uc(t,e){return op(kn(t),kn(e))&&t.limitType===e.limitType}function A1(t){return`${sp(kn(t))}|lt:${t.limitType}`}function Li(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>S1(i)).join(", ")}]`),oc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ss(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ss(i)).join(",")),`Target(${r})`}(kn(t))}; limitType=${t.limitType})`}function lc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of yo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,u,a){const l=fv(o,u,a);return o.inclusive?l<=0:l<0}(r.startAt,yo(r),i)||r.endAt&&!function(o,u,a){const l=fv(o,u,a);return o.inclusive?l>=0:l>0}(r.endAt,yo(r),i))}(t,e)}function ik(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function R1(t){return(e,n)=>{let r=!1;for(const i of yo(t)){const s=sk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function sk(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,u){const a=o.data.field(s),l=u.data.field(s);return a!==null&&l!==null?Is(a,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok=new Le(Y.comparator);function nr(){return ok}const P1=new Le(Y.comparator);function so(...t){let e=P1;for(const n of t)e=e.insert(n.key,n);return e}function x1(t){let e=P1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gr(){return _o()}function O1(){return _o()}function _o(){return new Fs(t=>t.toString(),(t,e)=>t.isEqual(e))}const ak=new Le(Y.comparator),uk=new It(Y.comparator);function ce(...t){let e=uk;for(const n of t)e=e.add(n);return e}const lk=new It(_e);function ck(){return lk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yu(e)?"-0":e}}function k1(t){return{integerValue:""+t}}function hk(t,e){return zD(e)?k1(e):D1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(){this._=void 0}}function dk(t,e,n){return t instanceof Zu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&np(s)&&(s=rp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Bo?V1(t,e):t instanceof Ho?L1(t,e):function(i,s){const o=M1(i,s),u=vv(o)+vv(i.Ie);return id(o)&&id(i.Ie)?k1(u):D1(i.serializer,u)}(t,e)}function fk(t,e,n){return t instanceof Bo?V1(t,e):t instanceof Ho?L1(t,e):n}function M1(t,e){return t instanceof el?function(r){return id(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Zu extends cc{}class Bo extends cc{constructor(e){super(),this.elements=e}}function V1(t,e){const n=N1(e);for(const r of t.elements)n.some(i=>Nn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ho extends cc{constructor(e){super(),this.elements=e}}function L1(t,e){let n=N1(e);for(const r of t.elements)n=n.filter(i=>!Nn(i,r));return{arrayValue:{values:n}}}class el extends cc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function vv(t){return Ke(t.integerValue||t.doubleValue)}function N1(t){return ip(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bo&&i instanceof Bo||r instanceof Ho&&i instanceof Ho?Ts(r.elements,i.elements,Nn):r instanceof el&&i instanceof el?Nn(r.Ie,i.Ie):r instanceof Zu&&i instanceof Zu}(t.transform,e.transform)}class mk{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}let hc=class{};function F1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new U1(t.key,Mn.none()):new ka(t.key,t.data,Mn.none());{const n=t.data,r=jt.empty();let i=new It(wt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Nr(t.key,r,new Gt(i.toArray()),Mn.none())}}function gk(t,e,n){t instanceof ka?function(i,s,o){const u=i.value.clone(),a=_v(i.fieldTransforms,s,o.transformResults);u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):t instanceof Nr?function(i,s,o){if(!wu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const u=_v(i.fieldTransforms,s,o.transformResults),a=s.data;a.setAll($1(i)),a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bo(t,e,n,r){return t instanceof ka?function(s,o,u,a){if(!wu(s.precondition,o))return u;const l=s.value.clone(),c=bv(s.fieldTransforms,a,o);return l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Nr?function(s,o,u,a){if(!wu(s.precondition,o))return u;const l=bv(s.fieldTransforms,a,o),c=o.data;return c.setAll($1(s)),c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,u){return wu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u}(t,e,n)}function vk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=M1(r.transform,i||null);s!=null&&(n===null&&(n=jt.empty()),n.set(r.field,s))}return n||null}function yv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ts(r,i,(s,o)=>pk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ka extends hc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nr extends hc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _v(t,e,n){const r=new Map;Pe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,fk(o,u,n[i]))}return r}function bv(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dk(s,o,e))}return r}class U1 extends hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yk extends hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&gk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=O1();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const a=F1(o,u);a!==null&&r.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ce())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(n,r)=>yv(n,r))&&Ts(this.baseMutations,e.baseMutations,(n,r)=>yv(n,r))}}class up{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Pe(e.mutations.length===r.length);let i=function(){return ak}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new up(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,fe;function wk(t){switch(t){default:return ee();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function z1(t){if(t===void 0)return tr("GRPC error has no .code"),D.UNKNOWN;switch(t){case We.OK:return D.OK;case We.CANCELLED:return D.CANCELLED;case We.UNKNOWN:return D.UNKNOWN;case We.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case We.INTERNAL:return D.INTERNAL;case We.UNAVAILABLE:return D.UNAVAILABLE;case We.UNAUTHENTICATED:return D.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case We.NOT_FOUND:return D.NOT_FOUND;case We.ALREADY_EXISTS:return D.ALREADY_EXISTS;case We.PERMISSION_DENIED:return D.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case We.ABORTED:return D.ABORTED;case We.OUT_OF_RANGE:return D.OUT_OF_RANGE;case We.UNIMPLEMENTED:return D.UNIMPLEMENTED;case We.DATA_LOSS:return D.DATA_LOSS;default:return ee()}}(fe=We||(We={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=new Gi([4294967295,4294967295],0);function Ev(t){const e=Tk().encode(t),n=new CD;return n.update(e),new Uint8Array(n.digest())}function wv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Gi([n,r],0),new Gi([i,s],0)]}class lp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oo(`Invalid padding: ${n}`);if(r<0)throw new oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Gi.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Gi.fromNumber(r)));return i.compare(Ik)===1&&(i=new Gi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Ev(e),[r,i]=wv(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new lp(s,i,n);return r.forEach(u=>o.insert(u)),o}insert(e){if(this.Te===0)return;const n=Ev(e),[r,i]=wv(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ma.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new dc(te.min(),i,new Le(_e),nr(),ce())}}class Ma{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ma(r,n,ce(),ce(),ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class j1{constructor(e,n){this.targetId=e,this.fe=n}}class B1{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Tv{constructor(){this.ge=0,this.pe=Sv(),this.ye=Mt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ce(),n=ce(),r=ce();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Ma(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Sv()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Pe(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Sk{constructor(e){this.Le=e,this.ke=new Map,this.qe=nr(),this.Qe=Iv(),this.Ke=new Le(_e)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(od(s))if(r===0){const o=new Y(s.path);this.We(n,o,xt.newNoDocument(o,te.min()))}else Pe(r===1);else{const o=this.Ze(n);if(o!==r){const u=this.Xe(e),a=u?this.et(u,e,o):1;if(a!==0){this.He(n);const l=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,u;try{o=di(r).toUint8Array()}catch(a){if(a instanceof _1)return ws("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{u=new lp(o,i,s)}catch(a){return ws(a instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return u.Te===0?null:u}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),u=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const u=this.Ye(o);if(u){if(s.current&&od(u.target)){const a=new Y(u.target.path);this.qe.get(a)!==null||this.st(o,a)||this.We(o,a,xt.newNoDocument(a,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ce();this.Qe.forEach((s,o)=>{let u=!0;o.forEachWhile(a=>{const l=this.Ye(a);return!l||l.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new dc(e,n,this.Ke,this.qe,r);return this.qe=nr(),this.Qe=Iv(),this.Ke=new Le(_e),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Tv,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new It(_e),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Tv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Iv(){return new Le(Y.comparator)}function Sv(){return new Le(Y.comparator)}const Ck={asc:"ASCENDING",desc:"DESCENDING"},Ak={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rk={and:"AND",or:"OR"};class Pk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ud(t,e){return t.useProto3Json||oc(e)?e:{value:e}}function tl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xk(t,e){return tl(t,e.toTimestamp())}function Vn(t){return Pe(!!t),te.fromTimestamp(function(n){const r=kr(n);return new rt(r.seconds,r.nanos)}(t))}function cp(t,e){return function(r){return new Me(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function W1(t){const e=Me.fromString(t);return Pe(Q1(e)),e}function ld(t,e){return cp(t.databaseId,e.path)}function ah(t,e){const n=W1(e);if(n.get(1)!==t.databaseId.projectId)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(q1(n))}function cd(t,e){return cp(t.databaseId,e)}function Ok(t){const e=W1(t);return e.length===4?Me.emptyPath():q1(e)}function hd(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function q1(t){return Pe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Cv(t,e,n){return{name:ld(t,e),fields:n.value.mapValue.fields}}function Dk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(Pe(c===void 0||typeof c=="string"),Mt.fromBase64String(c||"")):(Pe(c===void 0||c instanceof Uint8Array),Mt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(l){const c=l.code===void 0?D.UNKNOWN:z1(l.code);return new K(c,l.message||"")}(o);n=new B1(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ah(t,r.document.name),s=Vn(r.document.updateTime),o=r.document.createTime?Vn(r.document.createTime):te.min(),u=new jt({mapValue:{fields:r.document.fields}}),a=xt.newFoundDocument(i,s,o,u),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Tu(l,c,a.key,a)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ah(t,r.document),s=r.readTime?Vn(r.readTime):te.min(),o=xt.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Tu([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ah(t,r.document),s=r.removedTargetIds||[];n=new Tu([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Ek(i,s),u=r.targetId;n=new j1(u,o)}}return n}function kk(t,e){let n;if(e instanceof ka)n={update:Cv(t,e.key,e.value)};else if(e instanceof U1)n={delete:ld(t,e.key)};else if(e instanceof Nr)n={update:Cv(t,e.key,e.data),updateMask:jk(e.fieldMask)};else{if(!(e instanceof yk))return ee();n={verify:ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const u=o.transform;if(u instanceof Zu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Bo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Ho)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof el)return{fieldPath:o.field.canonicalString(),increment:u.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xk(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function Mk(t,e){return t&&t.length>0?(Pe(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Vn(i.updateTime):Vn(s);return o.isEqual(te.min())&&(o=Vn(s)),new mk(o,i.transformResults||[])}(n,e))):[]}function Vk(t,e){return{documents:[cd(t,e.path)]}}function Lk(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=cd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(a.length!==0)return G1(Fn.create(a,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(a.length!==0)return a.map(l=>function(h){return{field:Ni(h.field),direction:$k(h.dir)}}(l))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=ud(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(a){return{before:a.inclusive,values:a.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(e.endAt)),n}function Nk(t){let e=Ok(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=K1(h);return f instanceof Fn&&T1(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new Ju(Fi(m.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let u=null;n.limit&&(u=function(h){let f;return f=typeof h=="object"?h.value:h,oc(f)?null:f}(n.limit));let a=null;n.startAt&&(a=function(h){const f=!!h.before,d=h.values||[];return new Xu(d,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,d=h.values||[];return new Xu(d,f)}(n.endAt)),tk(e,i,o,s,u,"F",a,l)}function Fk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fi(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Fi(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Fi(n.unaryFilter.field);return nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fi(n.unaryFilter.field);return nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return nt.create(Fi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(r=>K1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function $k(t){return Ck[t]}function Uk(t){return Ak[t]}function zk(t){return Rk[t]}function Ni(t){return{fieldPath:t.canonicalString()}}function Fi(t){return wt.fromServerFormat(t.fieldPath)}function G1(t){return t instanceof nt?function(n){if(n.op==="=="){if(dv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NAN"}};if(hv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NAN"}};if(hv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ni(n.field),op:Uk(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const r=n.getFilters().map(i=>G1(i));return r.length===1?r[0]:{compositeFilter:{op:zk(n.op),filters:r}}}(t):ee()}function jk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Q1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,r,i,s=te.min(),o=te.min(),u=Mt.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=a}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.ut=e}}function Hk(t){const e=Nk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ad(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(){this.on=new qk}addToCollectionParentIndex(e,n){return this.on.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Dr.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class qk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(Me.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Cs(0)}static Nn(){return new Cs(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this.changes=new Fs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bo(r.mutation,i,Gt.empty(),rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ce()){const i=Gr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=so();return s.forEach((u,a)=>{o=o.insert(u,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ce()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=nr();const o=_o(),u=function(){return _o()}();return n.forEach((a,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof Nr)?s=s.insert(l.key,l):c!==void 0?(o.set(l.key,c.mutation.getFieldMask()),bo(c.mutation,l,c.mutation.getFieldMask(),rt.now())):o.set(l.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,s).next(a=>(a.forEach((l,c)=>o.set(l,c)),n.forEach((l,c)=>{var h;return u.set(l,new Gk(c,(h=o.get(l))!==null&&h!==void 0?h:null))}),u))}recalculateAndSaveOverlays(e,n){const r=_o();let i=new Le((o,u)=>o-u),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(a=>{const l=n.get(a);if(l===null)return;let c=r.get(a)||Gt.empty();c=u.applyToLocalView(l,c),r.set(a,c);const h=(i.get(u.batchId)||ce()).add(a);i=i.insert(u.batchId,h)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const a=u.getNext(),l=a.key,c=a.value,h=O1();c.forEach(f=>{if(!s.has(f)){const d=F1(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(Gr());let u=-1,a=s;return o.next(l=>O.forEach(l,(c,h)=>(u<h.largestBatchId&&(u=h.largestBatchId),s.get(c)?O.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{a=a.insert(c,f)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,a,l,ce())).next(c=>({batchId:u,changes:x1(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=so();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=so();return this.indexManager.getCollectionParents(e,s).next(u=>O.forEach(u,a=>{const l=function(h,f){return new ac(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((a,l)=>{const c=l.getKey();o.get(c)===null&&(o=o.insert(c,xt.newInvalidDocument(c)))});let u=so();return o.forEach((a,l)=>{const c=s.get(a);c!==void 0&&bo(c.mutation,l,Gt.empty(),rt.now()),lc(n,l)&&(u=u.insert(a,l))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return O.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Vn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(i){return{name:i.name,query:Hk(i.bundledQuery),readTime:Vn(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.overlays=new Le(Y.comparator),this.lr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gr();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.lt(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=Gr(),s=n.length+1,o=new Y(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const a=u.getNext().value,l=a.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((l,c)=>l-c);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=s.get(l.largestBatchId);c===null&&(c=Gr(),s=s.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const u=Gr(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((l,c)=>u.set(l,c)),!(u.size()>=i)););return O.resolve(u)}lt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bk(n,r));let s=this.lr.get(n);s===void 0&&(s=ce(),this.lr.set(n,s)),this.lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.hr=new It(lt.Pr),this.Ir=new It(lt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new lt(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new lt(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new Y(new Me([])),r=new lt(n,e),i=new lt(n,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Y(new Me([])),r=new lt(n,e),i=new lt(n,e+1);let s=ce();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new lt(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class lt{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Y.comparator(e.key,n.key)||_e(e.gr,n.gr)}static Tr(e,n){return _e(e.gr,n.gr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new It(lt.Pr)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new _k(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this.yr=this.yr.add(new lt(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Sr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new lt(n,0),i=new lt(n,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const u=this.wr(o.gr);s.push(u)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(_e);return n.forEach(i=>{const s=new lt(i,0),o=new lt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],u=>{r=r.add(u.gr)})}),O.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Y.isDocumentKey(s)||(s=s.child(""));const o=new lt(new Y(s),0);let u=new It(_e);return this.yr.forEachWhile(a=>{const l=a.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(u=u.add(a.gr)),!0)},o),O.resolve(this.br(u))}br(e){const n=[];return e.forEach(r=>{const i=this.wr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Pe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return O.forEach(n.mutations,i=>{const s=new lt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new lt(n,0),i=this.yr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.Cr=e,this.docs=function(){return new Le(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():xt.newInvalidDocument(n))}getEntries(e,n){let r=nr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():xt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=nr();const o=n.path,u=new Y(o.child("")),a=this.docs.getIteratorFrom(u);for(;a.hasNext();){const{key:l,value:{document:c}}=a.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||FD(ND(c),r)<=0||(i.has(c.key)||lc(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}vr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eM(this)}getSize(e){return O.resolve(this.size)}}class eM extends Kk{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.persistence=e,this.Fr=new Fs(n=>sp(n),op),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Mr=0,this.Or=new hp,this.targetCount=0,this.Nr=Cs.On()}forEachTarget(e,n){return this.Fr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),O.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Cs(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.kn(n),O.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Fr.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e,n){this.Br={},this.overlays={},this.Lr=new tp(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new tM(this),this.indexManager=new Wk,this.remoteDocumentCache=function(i){return new Zk(i)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Bk(n),this.Kr=new Yk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Jk(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);const i=new rM(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,n){return O.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class rM extends UD{constructor(e){super(),this.currentSequenceNumber=e}}class dp{constructor(e){this.persistence=e,this.Gr=new hp,this.zr=null}static jr(e){return new dp(e)}get Hr(){if(this.zr)return this.zr;throw ee()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Hr,r=>{const i=Y.fromPath(r);return this.Jr(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return O.or([()=>O.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=i}static Qi(e,n){let r=ce(),i=ce();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new fp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.zi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new iM;return this.Hi(e,n,o).next(u=>{if(s.result=u,this.$i)return this.Ji(e,n,o,u.size)})}).next(()=>s.result)}Ji(e,n,r,i){return r.documentReadCount<this.Ui?(Zs()<=de.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Li(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),O.resolve()):(Zs()<=de.DEBUG&&j("QueryEngine","Query:",Li(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Zs()<=de.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Li(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kn(n))):O.resolve())}zi(e,n){if(gv(n))return O.resolve(null);let r=kn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ad(n,null,"F"),r=kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ce(...s);return this.Gi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(a=>{const l=this.Yi(n,u);return this.Zi(n,l,o,a.readTime)?this.zi(e,ad(n,null,"F")):this.Xi(e,l,n,a)}))})))}ji(e,n,r,i){return gv(n)||i.isEqual(te.min())?O.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(n,s);return this.Zi(n,o,r,i)?O.resolve(null):(Zs()<=de.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Li(n)),this.Xi(e,o,n,LD(i,-1)).next(u=>u))})}Yi(e,n){let r=new It(R1(e));return n.forEach((i,s)=>{lc(e,s)&&(r=r.add(s))}),r}Zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,n,r){return Zs()<=de.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Li(n)),this.Gi.getDocumentsMatchingQuery(e,n,Dr.min(),r)}Xi(e,n,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n,r,i){this.persistence=e,this.es=n,this.serializer=i,this.ts=new Le(_e),this.ns=new Fs(s=>sp(s),op),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qk(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function aM(t,e,n,r){return new oM(t,e,n,r)}async function Y1(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let a=ce();for(const l of i){o.push(l.batchId);for(const c of l.mutations)a=a.add(c.key)}for(const l of s){u.push(l.batchId);for(const c of l.mutations)a=a.add(c.key)}return n.localDocuments.getDocuments(r,a).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:u}))})})}function uM(t,e){const n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(u,a,l,c){const h=l.batch,f=h.keys();let d=O.resolve();return f.forEach(m=>{d=d.next(()=>c.getEntry(a,m)).next(g=>{const p=l.docVersions.get(m);Pe(p!==null),g.version.compareTo(p)<0&&(h.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),d.next(()=>u.mutationQueue.removeMutationBatch(a,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let a=ce();for(let l=0;l<u.mutationResults.length;++l)u.mutationResults[l].transformResults.length>0&&(a=a.add(u.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function X1(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function lM(t,e){const n=se(t),r=e.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const u=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;u.push(n.qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.qr.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(Mt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(g,p,y){return g.resumeToken.approximateByteSize()===0||p.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,d,c)&&u.push(n.qr.updateTargetData(s,d))});let a=nr(),l=ce();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),u.push(cM(s,o,e.documentUpdates).next(c=>{a=c.us,l=c.cs})),!r.isEqual(te.min())){const c=n.qr.getLastRemoteSnapshotVersion(s).next(h=>n.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(c)}return O.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,a,l)).next(()=>a)}).then(s=>(n.ts=i,s))}function cM(t,e,n){let r=ce(),i=ce();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=nr();return n.forEach((u,a)=>{const l=s.get(u);a.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(u)),a.isNoDocument()&&a.version.isEqual(te.min())?(e.removeEntry(u,a.readTime),o=o.insert(u,a)):!l.isValidDocument()||a.version.compareTo(l.version)>0||a.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(a),o=o.insert(u,a)):j("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",a.version)}),{us:o,cs:i}})}function hM(t,e){const n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dM(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.qr.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.qr.allocateTargetId(r).next(o=>(i=new Cr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(r.targetId,r),n.ns.set(e,r.targetId)),r})}async function dd(t,e,n){const r=se(t),i=r.ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Da(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}function Av(t,e,n){const r=se(t);let i=te.min(),s=ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(a,l,c){const h=se(a),f=h.ns.get(c);return f!==void 0?O.resolve(h.ts.get(f)):h.qr.getTargetData(l,c)}(r,o,kn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,u.targetId).next(a=>{s=a})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ce())).next(u=>(fM(r,ik(e),u),{documents:u,ls:s})))}function fM(t,e,n){let r=t.rs.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.rs.set(e,r)}class Rv{constructor(){this.activeTargetIds=ck()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pM{constructor(){this.eo=new Rv,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Rv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=null;function uh(){return eu===null?eu=function(){return 268435456+Math.round(2147483648*Math.random())}():eu++,"0x"+eu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const At="WebChannelConnection";class yM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${i}/databases/${s}`,this.po=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(n,r,i,s,o){const u=uh(),a=this.So(n,r);j("RestConnection",`Sending RPC '${n}' ${u}:`,a,i);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,s,o),this.Do(n,a,l,i).then(c=>(j("RestConnection",`Received RPC '${n}' ${u}: `,c),c),c=>{throw ws("RestConnection",`RPC '${n}' ${u} failed with error: `,c,"url: ",a,"request:",i),c})}Co(n,r,i,s,o,u){return this.wo(n,r,i,s,o)}bo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}So(n,r){const i=gM[n];return`${this.mo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,i){const s=uh();return new Promise((o,u)=>{const a=new SD;a.setWithCredentials(!0),a.listenOnce(TD.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case oh.NO_ERROR:const c=a.getResponseJson();j(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case oh.TIMEOUT:j(At,`RPC '${e}' ${s} timed out`),u(new K(D.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const h=a.getStatus();if(j(At,`RPC '${e}' ${s} failed with status:`,h,"response text:",a.getResponseText()),h>0){let f=a.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const m=function(p){const y=p.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(y)>=0?y:D.UNKNOWN}(d.status);u(new K(m,d.message))}else u(new K(D.UNKNOWN,"Server responded with status "+a.getStatus()))}else u(new K(D.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{j(At,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);j(At,`RPC '${e}' ${s} sending request:`,i),a.send(n,"POST",l,r,15)})}vo(e,n,r){const i=uh(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ED(),u=wD(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=s.join("");j(At,`Creating RPC '${e}' stream ${i}: ${c}`,a);const h=o.createWebChannel(c,a);let f=!1,d=!1;const m=new vM({co:p=>{d?j(At,`Not sending because RPC '${e}' stream ${i} is closed:`,p):(f||(j(At,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),j(At,`RPC '${e}' stream ${i} sending:`,p),h.send(p))},lo:()=>h.close()}),g=(p,y,_)=>{p.listen(y,w=>{try{_(w)}catch(T){setTimeout(()=>{throw T},0)}})};return g(h,Xa.EventType.OPEN,()=>{d||j(At,`RPC '${e}' stream ${i} transport opened.`)}),g(h,Xa.EventType.CLOSE,()=>{d||(d=!0,j(At,`RPC '${e}' stream ${i} transport closed`),m.Ro())}),g(h,Xa.EventType.ERROR,p=>{d||(d=!0,ws(At,`RPC '${e}' stream ${i} transport errored:`,p),m.Ro(new K(D.UNAVAILABLE,"The operation could not be completed")))}),g(h,Xa.EventType.MESSAGE,p=>{var y;if(!d){const _=p.data[0];Pe(!!_);const w=_,T=w.error||((y=w[0])===null||y===void 0?void 0:y.error);if(T){j(At,`RPC '${e}' stream ${i} received error:`,T);const A=T.status;let b=function(x){const V=We[x];if(V!==void 0)return z1(V)}(A),S=T.message;b===void 0&&(b=D.INTERNAL,S="Unknown error status: "+A+" with message "+T.message),d=!0,m.Ro(new K(b,S)),h.close()}else j(At,`RPC '${e}' stream ${i} received:`,_),m.Vo(_)}}),g(u,ID.STAT_EVENT,p=>{p.stat===ov.PROXY?j(At,`RPC '${e}' stream ${i} detected buffering proxy`):p.stat===ov.NOPROXY&&j(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ao()},0),m}}function lh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(t){return new Pk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,i,s,o,u,a){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new J1(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===n&&this.s_(r,i)},r=>{e(()=>{const i=new K(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _M extends Z1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=Dk(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Vn(o.readTime):te.min()}(e);return this.listener.a_(n,r)}u_(e){const n={};n.database=hd(this.serializer),n.addTarget=function(s,o){let u;const a=o.target;if(u=od(a)?{documents:Vk(s,a)}:{query:Lk(s,a)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=H1(s,o.resumeToken);const l=ud(s,o.expectedCount);l!==null&&(u.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){u.readTime=tl(s,o.snapshotVersion.toTimestamp());const l=ud(s,o.expectedCount);l!==null&&(u.expectedCount=l)}return u}(this.serializer,e);const r=Fk(this.serializer,e);r&&(n.labels=r),this.e_(n)}c_(e){const n={};n.database=hd(this.serializer),n.removeTarget=e,this.e_(n)}}class bM extends Z1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Pe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=Mk(e.writeResults,e.commitTime),r=Vn(e.commitTime);return this.listener.I_(r,n)}return Pe(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=hd(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>kk(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(D.UNKNOWN,i.toString())})}Co(e,n,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(D.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class wM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(tr(n),this.f_=!1):j("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(o=>{r.enqueueAndForget(async()=>{wi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=se(a);l.C_.add(4),await Va(l),l.M_.set("Unknown"),l.C_.delete(4),await pc(l)}(this))})}),this.M_=new wM(r,i)}}async function pc(t){if(wi(t))for(const e of t.v_)await e(!0)}async function Va(t){for(const e of t.v_)await e(!1)}function eE(t,e){const n=se(t);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),gp(n)?mp(n):$s(n).Ho()&&pp(n,e))}function tE(t,e){const n=se(t),r=$s(n);n.D_.delete(e),r.Ho()&&nE(n,e),n.D_.size===0&&(r.Ho()?r.Zo():wi(n)&&n.M_.set("Unknown"))}function pp(t,e){if(t.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$s(t).u_(e)}function nE(t,e){t.x_.Oe(e),$s(t).c_(e)}function mp(t){t.x_=new Sk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.D_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),$s(t).start(),t.M_.g_()}function gp(t){return wi(t)&&!$s(t).jo()&&t.D_.size>0}function wi(t){return se(t).C_.size===0}function rE(t){t.x_=void 0}async function IM(t){t.D_.forEach((e,n)=>{pp(t,e)})}async function SM(t,e){rE(t),gp(t)?(t.M_.w_(e),mp(t)):t.M_.set("Unknown")}async function CM(t,e,n){if(t.M_.set("Online"),e instanceof B1&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const u of s.targetIds)i.D_.has(u)&&(await i.remoteSyncer.rejectListen(u,o),i.D_.delete(u),i.x_.removeTarget(u))}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nl(t,r)}else if(e instanceof Tu?t.x_.$e(e):e instanceof j1?t.x_.Je(e):t.x_.Ge(e),!n.isEqual(te.min()))try{const r=await X1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const u=s.x_.it(o);return u.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.D_.get(l);c&&s.D_.set(l,c.withResumeToken(a.resumeToken,o))}}),u.targetMismatches.forEach((a,l)=>{const c=s.D_.get(a);if(!c)return;s.D_.set(a,c.withResumeToken(Mt.EMPTY_BYTE_STRING,c.snapshotVersion)),nE(s,a);const h=new Cr(c.target,a,l,c.sequenceNumber);pp(s,h)}),s.remoteSyncer.applyRemoteEvent(u)}(t,n)}catch(r){j("RemoteStore","Failed to raise snapshot:",r),await nl(t,r)}}async function nl(t,e,n){if(!Da(e))throw e;t.C_.add(1),await Va(t),t.M_.set("Offline"),n||(n=()=>X1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await pc(t)})}function iE(t,e){return e().catch(n=>nl(t,n,e))}async function mc(t){const e=se(t),n=Mr(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;AM(e);)try{const i=await hM(e.localStore,r);if(i===null){e.b_.length===0&&n.Zo();break}r=i.batchId,RM(e,i)}catch(i){await nl(e,i)}sE(e)&&oE(e)}function AM(t){return wi(t)&&t.b_.length<10}function RM(t,e){t.b_.push(e);const n=Mr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function sE(t){return wi(t)&&!Mr(t).jo()&&t.b_.length>0}function oE(t){Mr(t).start()}async function PM(t){Mr(t).E_()}async function xM(t){const e=Mr(t);for(const n of t.b_)e.P_(n.mutations)}async function OM(t,e,n){const r=t.b_.shift(),i=up.from(r,e,n);await iE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mc(t)}async function DM(t,e){e&&Mr(t).h_&&await async function(r,i){if(function(o){return wk(o)&&o!==D.ABORTED}(i.code)){const s=r.b_.shift();Mr(r).Yo(),await iE(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mc(r)}}(t,e),sE(t)&&oE(t)}async function xv(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");const r=wi(n);n.C_.add(3),await Va(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await pc(n)}async function kM(t,e){const n=se(t);e?(n.C_.delete(2),await pc(n)):e||(n.C_.add(2),await Va(n),n.M_.set("Unknown"))}function $s(t){return t.O_||(t.O_=function(n,r,i){const s=se(n);return s.A_(),new _M(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:IM.bind(null,t),Io:SM.bind(null,t),a_:CM.bind(null,t)}),t.v_.push(async e=>{e?(t.O_.Yo(),gp(t)?mp(t):t.M_.set("Unknown")):(await t.O_.stop(),rE(t))})),t.O_}function Mr(t){return t.N_||(t.N_=function(n,r,i){const s=se(n);return s.A_(),new bM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{ho:PM.bind(null,t),Io:DM.bind(null,t),T_:xM.bind(null,t),I_:OM.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await mc(t)):(await t.N_.stop(),t.b_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new vp(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(t,e){if(tr("AsyncQueue",`${e}: ${t}`),Da(t))return new K(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=so(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new Qi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(){this.B_=new Le(Y.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ee():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class As{constructor(e,n,r,i,s,o,u,a,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new As(e,n,Qi.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(){this.k_=void 0,this.listeners=[]}}class VM{constructor(){this.queries=new Fs(e=>A1(e),uc),this.onlineState="Unknown",this.q_=new Set}}async function LM(t,e){const n=se(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new MM),i)try{s.k_=await n.onListen(r)}catch(o){const u=yp(o,`Initialization of query '${Li(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.Q_(n.onlineState),s.k_&&e.K_(s.k_)&&_p(n)}async function NM(t,e){const n=se(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function FM(t,e){const n=se(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.K_(i)&&(r=!0);o.k_=i}}r&&_p(n)}function $M(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function _p(t){t.q_.forEach(e=>{e.next()})}class UM{constructor(e,n,r){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new As(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.J_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}z_(e){if(e.docChanges.length>0)return!0;const n=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}H_(e){e=As.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){this.key=e}}class uE{constructor(e){this.key=e}}class zM{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ce(),this.mutatedKeys=ce(),this._a=R1(e),this.aa=new Qi(this._a)}get ua(){return this.ia}ca(e,n){const r=n?n.la:new Ov,i=n?n.aa:this.aa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=lc(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let p=!1;f&&d?f.data.isEqual(d.data)?m!==g&&(r.track({type:3,doc:d}),p=!0):this.ha(f,d)||(r.track({type:2,doc:d}),p=!0,(a&&this._a(d,a)>0||l&&this._a(d,l)<0)&&(u=!0)):!f&&d?(r.track({type:0,doc:d}),p=!0):f&&!d&&(r.track({type:1,doc:f}),p=!0,(a||l)&&(u=!0)),p&&(d?(o=o.add(d),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{aa:o,la:r,Zi:u,mutatedKeys:s}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,h)=>function(d,m){const g=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return g(d)-g(m)}(c.type,h.type)||this._a(c.doc,h.doc)),this.Pa(r),i=i!=null&&i;const u=n&&!i?this.Ia():[],a=this.oa.size===0&&this.current&&!i?1:0,l=a!==this.sa;return this.sa=a,o.length!==0||l?{snapshot:new As(this.query,e.aa,s,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:u}:{Ta:u}}Q_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({aa:this.aa,la:new Ov,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ce(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const n=[];return e.forEach(r=>{this.oa.has(r)||n.push(new uE(r))}),this.oa.forEach(r=>{e.has(r)||n.push(new aE(r))}),n}da(e){this.ia=e.ls,this.oa=ce();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return As.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,this.sa===0,this.hasCachedResults)}}class jM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class BM{constructor(e){this.key=e,this.Ra=!1}}class HM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Fs(u=>A1(u),uc),this.fa=new Map,this.ga=new Set,this.pa=new Le(Y.comparator),this.ya=new Map,this.wa=new hp,this.Sa={},this.ba=new Map,this.Da=Cs.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function WM(t,e){const n=t4(t);let r,i;const s=n.ma.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=await dM(n.localStore,kn(e)),u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await qM(n,e,r,u==="current",o.resumeToken),n.isPrimaryClient&&eE(n.remoteStore,o)}return i}async function qM(t,e,n,r,i){t.va=(h,f,d)=>async function(g,p,y,_){let w=p.view.ca(y);w.Zi&&(w=await Av(g.localStore,p.query,!1).then(({documents:S})=>p.view.ca(S,w)));const T=_&&_.targetChanges.get(p.targetId),A=_&&_.targetMismatches.get(p.targetId)!=null,b=p.view.applyChanges(w,g.isPrimaryClient,T,A);return kv(g,p.targetId,b.Ta),b.snapshot}(t,h,f,d);const s=await Av(t.localStore,e,!0),o=new zM(e,s.ls),u=o.ca(s.documents),a=Ma.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(u,t.isPrimaryClient,a);kv(t,n,l.Ta);const c=new jM(e,n,o);return t.ma.set(e,c),t.fa.has(n)?t.fa.get(n).push(e):t.fa.set(n,[e]),l.snapshot}async function KM(t,e){const n=se(t),r=n.ma.get(e),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter(s=>!uc(s,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),tE(n.remoteStore,r.targetId),fd(n,r.targetId)}).catch(Oa)):(fd(n,r.targetId),await dd(n.localStore,r.targetId,!0))}async function GM(t,e,n){const r=n4(t);try{const i=await function(o,u){const a=se(o),l=rt.now(),c=u.reduce((d,m)=>d.add(m.key),ce());let h,f;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let m=nr(),g=ce();return a.ss.getEntries(d,c).next(p=>{m=p,m.forEach((y,_)=>{_.isValidDocument()||(g=g.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,m)).next(p=>{h=p;const y=[];for(const _ of u){const w=vk(_,h.get(_.key).overlayedDocument);w!=null&&y.push(new Nr(_.key,w,b1(w.value.mapValue),Mn.exists(!0)))}return a.mutationQueue.addMutationBatch(d,l,y,u)}).next(p=>{f=p;const y=p.applyToLocalDocumentSet(h,g);return a.documentOverlayCache.saveOverlays(d,p.batchId,y)})}).then(()=>({batchId:f.batchId,changes:x1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,u,a){let l=o.Sa[o.currentUser.toKey()];l||(l=new Le(_e)),l=l.insert(u,a),o.Sa[o.currentUser.toKey()]=l}(r,i.batchId,n),await La(r,i.changes),await mc(r.remoteStore)}catch(i){const s=yp(i,"Failed to persist write");n.reject(s)}}async function lE(t,e){const n=se(t);try{const r=await lM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ya.get(s);o&&(Pe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Pe(o.Ra):i.removedDocuments.size>0&&(Pe(o.Ra),o.Ra=!1))}),await La(n,r,e)}catch(r){await Oa(r)}}function Dv(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ma.forEach((s,o)=>{const u=o.view.Q_(e);u.snapshot&&i.push(u.snapshot)}),function(o,u){const a=se(o);a.onlineState=u;let l=!1;a.queries.forEach((c,h)=>{for(const f of h.listeners)f.Q_(u)&&(l=!0)}),l&&_p(a)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QM(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new Le(Y.comparator);o=o.insert(s,xt.newNoDocument(s,te.min()));const u=ce().add(s),a=new dc(te.min(),new Map,new Le(_e),o,u);await lE(r,a),r.pa=r.pa.remove(s),r.ya.delete(e),bp(r)}else await dd(r.localStore,e,!1).then(()=>fd(r,e,n)).catch(Oa)}async function YM(t,e){const n=se(t),r=e.batch.batchId;try{const i=await uM(n.localStore,e);hE(n,r,null),cE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await La(n,i)}catch(i){await Oa(i)}}async function XM(t,e,n){const r=se(t);try{const i=await function(o,u){const a=se(o);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,u).next(h=>(Pe(h!==null),c=h.keys(),a.mutationQueue.removeMutationBatch(l,h))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,u)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);hE(r,e,n),cE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await La(r,i)}catch(i){await Oa(i)}}function cE(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function hE(t,e,n){const r=se(t);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function fd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.fa.get(e))t.ma.delete(r),n&&t.Va.Fa(r,n);t.fa.delete(e),t.isPrimaryClient&&t.wa.Rr(e).forEach(r=>{t.wa.containsKey(r)||dE(t,r)})}function dE(t,e){t.ga.delete(e.path.canonicalString());const n=t.pa.get(e);n!==null&&(tE(t.remoteStore,n),t.pa=t.pa.remove(e),t.ya.delete(n),bp(t))}function kv(t,e,n){for(const r of n)r instanceof aE?(t.wa.addReference(r.key,e),JM(t,r)):r instanceof uE?(j("SyncEngine","Document no longer in limbo: "+r.key),t.wa.removeReference(r.key,e),t.wa.containsKey(r.key)||dE(t,r.key)):ee()}function JM(t,e){const n=e.key,r=n.path.canonicalString();t.pa.get(n)||t.ga.has(r)||(j("SyncEngine","New document in limbo: "+n),t.ga.add(r),bp(t))}function bp(t){for(;t.ga.size>0&&t.pa.size<t.maxConcurrentLimboResolutions;){const e=t.ga.values().next().value;t.ga.delete(e);const n=new Y(Me.fromString(e)),r=t.Da.next();t.ya.set(r,new BM(n)),t.pa=t.pa.insert(n,r),eE(t.remoteStore,new Cr(kn(ap(n.path)),r,"TargetPurposeLimboResolution",tp._e))}}async function La(t,e,n){const r=se(t),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach((u,a)=>{o.push(r.va(a,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,l!=null&&l.fromCache?"not-current":"current"),l){i.push(l);const c=fp.Qi(a.targetId,l);s.push(c)}}))}),await Promise.all(o),r.Va.a_(i),await async function(a,l){const c=se(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>O.forEach(l,f=>O.forEach(f.ki,d=>c.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>O.forEach(f.qi,d=>c.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!Da(h))throw h;j("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const d=c.ts.get(f),m=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(m);c.ts=c.ts.insert(f,g)}}}(r.localStore,s))}async function ZM(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());const r=await Y1(n.localStore,e);n.currentUser=e,function(s,o){s.ba.forEach(u=>{u.forEach(a=>{a.reject(new K(D.CANCELLED,o))})}),s.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await La(n,r._s)}}function e4(t,e){const n=se(t),r=n.ya.get(e);if(r&&r.Ra)return ce().add(r.key);{let i=ce();const s=n.fa.get(e);if(!s)return i;for(const o of s){const u=n.ma.get(o);i=i.unionWith(u.view.ua)}return i}}function t4(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QM.bind(null,e),e.Va.a_=FM.bind(null,e.eventManager),e.Va.Fa=$M.bind(null,e.eventManager),e}function n4(t){const e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XM.bind(null,e),e}class Mv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=fc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aM(this.persistence,new sM,e.initialUser,this.serializer)}createPersistence(e){return new nM(dp.jr,this.serializer)}createSharedClientState(e){return new pM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class r4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Dv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZM.bind(null,this.syncEngine),await kM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VM}()}createDatastore(e){const n=fc(e.databaseInfo.databaseId),r=function(s){return new yM(s)}(e.databaseInfo);return function(s,o,u,a){return new EM(s,o,u,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,u){return new TM(r,i,s,o,u)}(this.localStore,this.datastore,e.asyncQueue,n=>Dv(this.syncEngine,n,0),function(){return Pv.D()?new Pv:new mM}())}createSyncEngine(e,n){return function(i,s,o,u,a,l,c){const h=new HM(i,s,o,u,a,l);return c&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=se(n);j("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Va(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=v1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{j("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ch(t,e){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Y1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await a4(t);j("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>xv(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>xv(e.remoteStore,s)),t._onlineComponents=e}function o4(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function a4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{await ch(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!o4(n))throw n;ws("Error using user provided cache. Falling back to memory cache: "+n),await ch(t,new Mv)}}else j("FirestoreClient","Using default OfflineComponentProvider"),await ch(t,new Mv);return t._offlineComponents}async function fE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),await Vv(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),await Vv(t,new r4))),t._onlineComponents}function u4(t){return fE(t).then(e=>e.syncEngine)}async function l4(t){const e=await fE(t),n=e.eventManager;return n.onListen=WM.bind(null,e.syncEngine),n.onUnlisten=KM.bind(null,e.syncEngine),n}function c4(t,e,n={}){const r=new xr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,u,a,l){const c=new i4({next:f=>{o.enqueueAndForget(()=>NM(s,h));const d=f.docs.has(u);!d&&f.fromCache?l.reject(new K(D.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&a&&a.source==="server"?l.reject(new K(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new UM(ap(u.path),c,{includeMetadataChanges:!0,J_:!0});return LM(s,h)}(await l4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e,n){if(!n)throw new K(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h4(t,e,n,r){if(e===!0&&r===!0)throw new K(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nv(t){if(!Y.isDocumentKey(t))throw new K(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fv(t){if(Y.isDocumentKey(t))throw new K(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ep(t);throw new K(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(D.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AD;switch(r.type){case"firstParty":return new OD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Lv.get(n);r&&(j("ComponentProvider","Removing Datastore"),Lv.delete(n),r.terminate())}(this),Promise.resolve()}}function d4(t,e,n,r={}){var i;const s=(t=pi(t,gc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let u,a;if(typeof r.mockUserToken=="string")u=r.mockUserToken,a=Pt.MOCK_USER;else{u=HI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new K(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Pt(l)}t._authCredentials=new RD(new g1(u,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let f4=class gE{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gE(this.firestore,e,this._query)}};class Bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}}class Or extends f4{constructor(e,n,r){super(e,n,ap(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Y(e))}withConverter(e){return new Or(this.firestore,e,this._path)}}function p4(t,e,...n){if(t=Ft(t),mE("collection","path",e),t instanceof gc){const r=Me.fromString(e,...n);return Fv(r),new Or(t,null,r)}{if(!(t instanceof Bt||t instanceof Or))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Fv(r),new Or(t.firestore,null,r)}}function Wo(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=v1.newId()),mE("doc","path",e),t instanceof gc){const r=Me.fromString(e,...n);return Nv(r),new Bt(t,null,new Y(r))}{if(!(t instanceof Bt||t instanceof Or))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Nv(r),new Bt(t.firestore,t instanceof Or?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new J1(this,"async_queue_retry"),this.iu=()=>{const n=lh();n&&j("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=lh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=lh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new xr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Da(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const i=function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),u}(r);throw tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const i=vp.createAndSchedule(this,e,n,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ee()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class vc extends gc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new m4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||yE(this),this._firestoreClient.terminate()}}function g4(t,e){const n=typeof t=="object"?t:K_(),r=typeof t=="string"?t:e||"(default)",i=Xd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=jI("firestore");s&&d4(i,...s)}return i}function vE(t){return t._firestoreClient||yE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function yE(t){var e,n,r;const i=t._freezeSettings(),s=function(u,a,l,c){return new BD(u,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,pE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new s4(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rs(Mt.fromBase64String(e))}catch(n){throw new K(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rs(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=/^__.*__$/;class y4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ka(e,this.data,n,this.fieldTransforms)}}class _E{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function bE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}class Ip{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return rl(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(bE(this.Iu)&&v4.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class _4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||fc(e)}pu(e,n,r,i=!1){return new Ip({Iu:e,methodName:n,gu:r,path:wt.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function EE(t){const e=t._freezeSettings(),n=fc(t._databaseId);return new _4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function b4(t,e,n,r,i,s={}){const o=t.pu(s.merge||s.mergeFields?2:0,e,n,i);Sp("Data must be an object, but it was:",o,r);const u=wE(r,o);let a,l;if(s.merge)a=new Gt(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=pd(e,h,n);if(!o.contains(f))throw new K(D.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);IE(c,f)||c.push(f)}a=new Gt(c),l=o.fieldTransforms.filter(h=>a.covers(h.field))}else a=null,l=o.fieldTransforms;return new y4(new jt(u),a,l)}class _c extends wp{_toFieldTransform(e){if(e.Iu!==2)throw e.Iu===1?e.mu(`${this._methodName}() can only appear at the top level of your update data`):e.mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _c}}function E4(t,e,n,r){const i=t.pu(1,e,n);Sp("Data must be an object, but it was:",i,r);const s=[],o=jt.empty();Ei(r,(a,l)=>{const c=Cp(e,a,n);l=Ft(l);const h=i.Ru(c);if(l instanceof _c)s.push(c);else{const f=bc(l,h);f!=null&&(s.push(c),o.set(c,f))}});const u=new Gt(s);return new _E(o,u,i.fieldTransforms)}function w4(t,e,n,r,i,s){const o=t.pu(1,e,n),u=[pd(e,r,n)],a=[i];if(s.length%2!=0)throw new K(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)u.push(pd(e,s[f])),a.push(s[f+1]);const l=[],c=jt.empty();for(let f=u.length-1;f>=0;--f)if(!IE(l,u[f])){const d=u[f];let m=a[f];m=Ft(m);const g=o.Ru(d);if(m instanceof _c)l.push(d);else{const p=bc(m,g);p!=null&&(l.push(d),c.set(d,p))}}const h=new Gt(l);return new _E(c,h,o.fieldTransforms)}function bc(t,e){if(TE(t=Ft(t)))return Sp("Unsupported field value:",e,t),wE(t,e);if(t instanceof wp)return function(r,i){if(!bE(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const u of r){let a=bc(u,i.Vu(o));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return hk(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=rt.fromDate(r);return{timestampValue:tl(i.serializer,s)}}if(r instanceof rt){const s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tl(i.serializer,s)}}if(r instanceof Tp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rs)return{bytesValue:H1(i.serializer,r._byteString)};if(r instanceof Bt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:cp(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${Ep(r)}`)}(t,e)}function wE(t,e){const n={};return y1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,i)=>{const s=bc(i,e.Eu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function TE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rt||t instanceof Tp||t instanceof Rs||t instanceof Bt||t instanceof wp)}function Sp(t,e,n){if(!TE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ep(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function pd(t,e,n){if((e=Ft(e))instanceof yc)return e._internalPath;if(typeof e=="string")return Cp(t,e);throw rl("Field path arguments must be of type string or ",t,!1,void 0,n)}const T4=new RegExp("[~\\*/\\[\\]]");function Cp(t,e,n){if(e.search(T4)>=0)throw rl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yc(...e.split("."))._internalPath}catch{throw rl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rl(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new K(D.INVALID_ARGUMENT,u+t+a)}function IE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(CE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I4 extends SE{data(){return super.data()}}function CE(t,e){return typeof e=="string"?Cp(t,e):e instanceof yc?e._internalPath:e._delegate._internalPath}class S4{convertValue(e,n="none"){switch(fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ei(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Tp(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uo(e));default:return null}}convertTimestamp(e){const n=kr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Pe(Q1(r));const i=new zo(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class AE extends SE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new R4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(CE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class R4 extends AE{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(t){t=pi(t,Bt);const e=pi(t.firestore,vc);return c4(vE(e),t._key).then(n=>D4(e,t,n))}class P4 extends S4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}}function x4(t,e,n){t=pi(t,Bt);const r=pi(t.firestore,vc),i=C4(t.converter,e,n);return RE(r,[b4(EE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Mn.none())])}function O4(t,e,n,...r){t=pi(t,Bt);const i=pi(t.firestore,vc),s=EE(i);let o;return o=typeof(e=Ft(e))=="string"||e instanceof yc?w4(s,"updateDoc",t._key,e,n,r):E4(s,"updateDoc",t._key,e),RE(i,[o.toMutation(t._key,Mn.exists(!0))])}function RE(t,e){return function(r,i){const s=new xr;return r.asyncQueue.enqueueAndForget(async()=>GM(await u4(r),i,s)),s.promise}(vE(t),e)}function D4(t,e,n){const r=n.docs.get(e._key),i=new P4(t);return new AE(t,i,e._key,r,new A4(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ns=i})(Os),gs(new ui("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),u=new vc(new PD(r.getProvider("auth-internal")),new kD(r.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(l.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),u._setSettings(s),u},"PUBLIC").setMultipleInstances(!0)),ri(av,"4.4.0",e),ri(av,"4.4.0","esm2017")})();var Us=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ps=typeof window>"u"||"Deno"in window;function sn(){}function k4(t,e){return typeof t=="function"?t(e):t}function md(t){return typeof t=="number"&&t>=0&&t!==1/0}function PE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Uv(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:u}=t;if(o){if(r){if(e.queryHash!==Rp(o,e.options))return!1}else if(!qo(e.queryKey,o))return!1}if(n!=="all"){const a=e.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i<"u"&&i!==e.state.fetchStatus||s&&!s(e))}function zv(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(mi(e.options.mutationKey)!==mi(s))return!1}else if(!qo(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Rp(t,e){return((e==null?void 0:e.queryKeyHashFn)||mi)(t)}function mi(t){return JSON.stringify(t,(e,n)=>gd(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function qo(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!qo(t[n],e[n])):!1}function xE(t,e){if(t===e)return t;const n=jv(t)&&jv(e);if(n||gd(t)&&gd(e)){const r=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),s=i.length,o=n?[]:{};let u=0;for(let a=0;a<s;a++){const l=n?a:i[a];o[l]=xE(t[l],e[l]),o[l]===t[l]&&t[l]!==void 0&&u++}return r===s&&u===r?t:o}return e}function il(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function jv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gd(t){if(!Bv(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Bv(n)||!n.hasOwnProperty("isPrototypeOf"))}function Bv(t){return Object.prototype.toString.call(t)==="[object Object]"}function M4(t){return new Promise(e=>{setTimeout(e,t)})}function vd(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?xE(t,e):e}function V4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function L4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Qr,yr,Yi,Ay,N4=(Ay=class extends Us{constructor(){super();z(this,Qr,void 0);z(this,yr,void 0);z(this,Yi,void 0);$(this,Yi,e=>{if(!Ps&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,yr)||this.setEventListener(E(this,Yi))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,yr))==null||e.call(this),$(this,yr,void 0))}setEventListener(e){var n;$(this,Yi,e),(n=E(this,yr))==null||n.call(this),$(this,yr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){E(this,Qr)!==e&&($(this,Qr,e),this.onFocus())}onFocus(){this.listeners.forEach(e=>{e()})}isFocused(){var e;return typeof E(this,Qr)=="boolean"?E(this,Qr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qr=new WeakMap,yr=new WeakMap,Yi=new WeakMap,Ay),sl=new N4,Xi,_r,Ji,Ry,F4=(Ry=class extends Us{constructor(){super();z(this,Xi,!0);z(this,_r,void 0);z(this,Ji,void 0);$(this,Ji,e=>{if(!Ps&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,_r)||this.setEventListener(E(this,Ji))}onUnsubscribe(){var e;this.hasListeners()||((e=E(this,_r))==null||e.call(this),$(this,_r,void 0))}setEventListener(e){var n;$(this,Ji,e),(n=E(this,_r))==null||n.call(this),$(this,_r,e(this.setOnline.bind(this)))}setOnline(e){E(this,Xi)!==e&&($(this,Xi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return E(this,Xi)}},Xi=new WeakMap,_r=new WeakMap,Ji=new WeakMap,Ry),ol=new F4;function $4(t){return Math.min(1e3*2**t,3e4)}function Ec(t){return(t??"online")==="online"?ol.isOnline():!0}var OE=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function hh(t){return t instanceof OE}function DE(t){let e=!1,n=0,r=!1,i,s,o;const u=new Promise((p,y)=>{s=p,o=y}),a=p=>{var y;r||(d(new OE(p)),(y=t.abort)==null||y.call(t))},l=()=>{e=!0},c=()=>{e=!1},h=()=>!sl.isFocused()||t.networkMode!=="always"&&!ol.isOnline(),f=p=>{var y;r||(r=!0,(y=t.onSuccess)==null||y.call(t,p),i==null||i(),s(p))},d=p=>{var y;r||(r=!0,(y=t.onError)==null||y.call(t,p),i==null||i(),o(p))},m=()=>new Promise(p=>{var y;i=_=>{const w=r||!h();return w&&p(_),w},(y=t.onPause)==null||y.call(t)}).then(()=>{var p;i=void 0,r||(p=t.onContinue)==null||p.call(t)}),g=()=>{if(r)return;let p;try{p=t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var b;if(r)return;const _=t.retry??(Ps?0:3),w=t.retryDelay??$4,T=typeof w=="function"?w(n,y):w,A=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,y);if(e||!A){d(y);return}n++,(b=t.onFail)==null||b.call(t,n,y),M4(T).then(()=>{if(h())return m()}).then(()=>{e?d(y):g()})})};return Ec(t.networkMode)?g():m().then(g),{promise:u,cancel:a,continue:()=>(i==null?void 0:i())?u:Promise.resolve(),cancelRetry:l,continueRetry:c}}function U4(){let t=[],e=0,n=f=>{f()},r=f=>{f()},i=f=>setTimeout(f,0);const s=f=>{i=f},o=f=>{let d;e++;try{d=f()}finally{e--,e||l()}return d},u=f=>{e?t.push(f):i(()=>{n(f)})},a=f=>(...d)=>{u(()=>{f(...d)})},l=()=>{const f=t;t=[],f.length&&i(()=>{r(()=>{f.forEach(d=>{n(d)})})})};return{batch:o,batchCalls:a,schedule:u,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{r=f},setScheduler:s}}var tt=U4(),Yr,Py,kE=(Py=class{constructor(){z(this,Yr,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),md(this.gcTime)&&$(this,Yr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ps?1/0:5*60*1e3))}clearGcTimeout(){E(this,Yr)&&(clearTimeout(E(this,Yr)),$(this,Yr,void 0))}},Yr=new WeakMap,Py),Zi,es,en,br,tn,ut,Qo,Xr,ts,Iu,hn,zn,xy,z4=(xy=class extends kE{constructor(e){super();z(this,ts);z(this,hn);z(this,Zi,void 0);z(this,es,void 0);z(this,en,void 0);z(this,br,void 0);z(this,tn,void 0);z(this,ut,void 0);z(this,Qo,void 0);z(this,Xr,void 0);$(this,Xr,!1),$(this,Qo,e.defaultOptions),re(this,ts,Iu).call(this,e.options),$(this,ut,[]),$(this,en,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,$(this,Zi,e.state||j4(this.options)),this.state=E(this,Zi),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!E(this,ut).length&&this.state.fetchStatus==="idle"&&E(this,en).remove(this)}setData(e,n){const r=vd(this.state.data,e,this.options);return re(this,hn,zn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){re(this,hn,zn).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r;const n=E(this,br);return(r=E(this,tn))==null||r.cancel(e),n?n.then(sn).catch(sn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Zi))}isActive(){return E(this,ut).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||E(this,ut).some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!PE(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=E(this,ut).find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,tn))==null||n.continue()}onOnline(){var n;const e=E(this,ut).find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=E(this,tn))==null||n.continue()}addObserver(e){E(this,ut).includes(e)||(E(this,ut).push(e),this.clearGcTimeout(),E(this,en).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){E(this,ut).includes(e)&&($(this,ut,E(this,ut).filter(n=>n!==e)),E(this,ut).length||(E(this,tn)&&(E(this,Xr)?E(this,tn).cancel({revert:!0}):E(this,tn).cancelRetry()),this.scheduleGc()),E(this,en).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return E(this,ut).length}invalidate(){this.state.isInvalidated||re(this,hn,zn).call(this,{type:"invalidate"})}fetch(e,n){var l,c,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,br))return(l=E(this,tn))==null||l.continueRetry(),E(this,br)}if(e&&re(this,ts,Iu).call(this,e),!this.options.queryFn){const d=E(this,ut).find(m=>m.options.queryFn);d&&re(this,ts,Iu).call(this,d.options)}const r=new AbortController,i={queryKey:this.queryKey,meta:this.meta},s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>($(this,Xr,!0),r.signal)})};s(i);const o=()=>this.options.queryFn?($(this,Xr,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)),u={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(u),(c=this.options.behavior)==null||c.onFetch(u,this),$(this,es,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=u.fetchOptions)==null?void 0:h.meta))&&re(this,hn,zn).call(this,{type:"fetch",meta:(f=u.fetchOptions)==null?void 0:f.meta});const a=d=>{var m,g,p,y;hh(d)&&d.silent||re(this,hn,zn).call(this,{type:"error",error:d}),hh(d)||((g=(m=E(this,en).config).onError)==null||g.call(m,d,this),(y=(p=E(this,en).config).onSettled)==null||y.call(p,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return $(this,tn,DE({fn:u.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var m,g,p,y;if(typeof d>"u"){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(g=(m=E(this,en).config).onSuccess)==null||g.call(m,d,this),(y=(p=E(this,en).config).onSettled)==null||y.call(p,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(d,m)=>{re(this,hn,zn).call(this,{type:"failed",failureCount:d,error:m})},onPause:()=>{re(this,hn,zn).call(this,{type:"pause"})},onContinue:()=>{re(this,hn,zn).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode})),$(this,br,E(this,tn).promise),E(this,br)}},Zi=new WeakMap,es=new WeakMap,en=new WeakMap,br=new WeakMap,tn=new WeakMap,ut=new WeakMap,Qo=new WeakMap,Xr=new WeakMap,ts=new WeakSet,Iu=function(e){this.options={...E(this,Qo),...e},this.updateGcTime(this.options.gcTime)},hn=new WeakSet,zn=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:e.meta??null,fetchStatus:Ec(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"pending"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return hh(i)&&i.revert&&E(this,es)?{...E(this,es),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),tt.batch(()=>{E(this,ut).forEach(r=>{r.onQueryUpdate()}),E(this,en).notify({query:this,type:"updated",action:e})})},xy);function j4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var bn,Oy,B4=(Oy=class extends Us{constructor(e={}){super();z(this,bn,void 0);this.config=e,$(this,bn,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Rp(i,n);let o=this.get(s);return o||(o=new z4({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){E(this,bn).has(e.queryHash)||(E(this,bn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=E(this,bn).get(e.queryHash);n&&(e.destroy(),n===e&&E(this,bn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return E(this,bn).get(e)}getAll(){return[...E(this,bn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Uv(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Uv(e,r)):n}notify(e){tt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bn=new WeakMap,Oy),En,Yo,Wt,ns,wn,fr,Dy,H4=(Dy=class extends kE{constructor(e){super();z(this,wn);z(this,En,void 0);z(this,Yo,void 0);z(this,Wt,void 0);z(this,ns,void 0);this.mutationId=e.mutationId,$(this,Yo,e.defaultOptions),$(this,Wt,e.mutationCache),$(this,En,[]),this.state=e.state||ME(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...E(this,Yo),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){E(this,En).includes(e)||(E(this,En).push(e),this.clearGcTimeout(),E(this,Wt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){$(this,En,E(this,En).filter(n=>n!==e)),this.scheduleGc(),E(this,Wt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){E(this,En).length||(this.state.status==="pending"?this.scheduleGc():E(this,Wt).remove(this))}continue(){var e;return((e=E(this,ns))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,u,a,l,c,h,f,d,m,g,p,y,_,w,T,A,b,S;const n=()=>($(this,ns,DE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,x)=>{re(this,wn,fr).call(this,{type:"failed",failureCount:P,error:x})},onPause:()=>{re(this,wn,fr).call(this,{type:"pause"})},onContinue:()=>{re(this,wn,fr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),E(this,ns).promise),r=this.state.status==="pending";try{if(!r){re(this,wn,fr).call(this,{type:"pending",variables:e}),await((s=(i=E(this,Wt).config).onMutate)==null?void 0:s.call(i,e,this));const x=await((u=(o=this.options).onMutate)==null?void 0:u.call(o,e));x!==this.state.context&&re(this,wn,fr).call(this,{type:"pending",context:x,variables:e})}const P=await n();return await((l=(a=E(this,Wt).config).onSuccess)==null?void 0:l.call(a,P,e,this.state.context,this)),await((h=(c=this.options).onSuccess)==null?void 0:h.call(c,P,e,this.state.context)),await((d=(f=E(this,Wt).config).onSettled)==null?void 0:d.call(f,P,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,P,null,e,this.state.context)),re(this,wn,fr).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(p=E(this,Wt).config).onError)==null?void 0:y.call(p,P,e,this.state.context,this)),await((w=(_=this.options).onError)==null?void 0:w.call(_,P,e,this.state.context)),await((A=(T=E(this,Wt).config).onSettled)==null?void 0:A.call(T,void 0,P,this.state.variables,this.state.context,this)),await((S=(b=this.options).onSettled)==null?void 0:S.call(b,void 0,P,e,this.state.context)),P}finally{re(this,wn,fr).call(this,{type:"error",error:P})}}}},En=new WeakMap,Yo=new WeakMap,Wt=new WeakMap,ns=new WeakMap,wn=new WeakSet,fr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Ec(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),tt.batch(()=>{E(this,En).forEach(r=>{r.onMutationUpdate(e)}),E(this,Wt).notify({mutation:this,type:"updated",action:e})})},Dy);function ME(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nn,Xo,Jr,ky,W4=(ky=class extends Us{constructor(e={}){super();z(this,nn,void 0);z(this,Xo,void 0);z(this,Jr,void 0);this.config=e,$(this,nn,[]),$(this,Xo,0)}build(e,n,r){const i=new H4({mutationCache:this,mutationId:++Ba(this,Xo)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){E(this,nn).push(e),this.notify({type:"added",mutation:e})}remove(e){$(this,nn,E(this,nn).filter(n=>n!==e)),this.notify({type:"removed",mutation:e})}clear(){tt.batch(()=>{E(this,nn).forEach(e=>{this.remove(e)})})}getAll(){return E(this,nn)}find(e){const n={exact:!0,...e};return E(this,nn).find(r=>zv(n,r))}findAll(e={}){return E(this,nn).filter(n=>zv(e,n))}notify(e){tt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){return $(this,Jr,(E(this,Jr)??Promise.resolve()).then(()=>{const e=E(this,nn).filter(n=>n.state.isPaused);return tt.batch(()=>e.reduce((n,r)=>n.then(()=>r.continue().catch(sn)),Promise.resolve()))}).then(()=>{$(this,Jr,void 0)})),E(this,Jr)}},nn=new WeakMap,Xo=new WeakMap,Jr=new WeakMap,ky);function q4(t){return{onFetch:(e,n)=>{const r=async()=>{var m,g,p,y,_;const i=e.options,s=(p=(g=(m=e.fetchOptions)==null?void 0:m.meta)==null?void 0:g.fetchMore)==null?void 0:p.direction,o=((y=e.state.data)==null?void 0:y.pages)||[],u=((_=e.state.data)==null?void 0:_.pageParams)||[],a={pages:[],pageParams:[]};let l=!1;const c=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?l=!0:e.signal.addEventListener("abort",()=>{l=!0}),e.signal)})},h=e.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),f=async(w,T,A)=>{if(l)return Promise.reject();if(T==null&&w.pages.length)return Promise.resolve(w);const b={queryKey:e.queryKey,pageParam:T,direction:A?"backward":"forward",meta:e.options.meta};c(b);const S=await h(b),{maxPages:P}=e.options,x=A?L4:V4;return{pages:x(w.pages,S,P),pageParams:x(w.pageParams,T,P)}};let d;if(s&&o.length){const w=s==="backward",T=w?K4:Hv,A={pages:o,pageParams:u},b=T(i,A);d=await f(A,b,w)}else{d=await f(a,u[0]??i.initialPageParam);const w=t??o.length;for(let T=1;T<w;T++){const A=Hv(i,d);d=await f(d,A)}}return d};e.options.persister?e.fetchFn=()=>{var i,s;return(s=(i=e.options).persister)==null?void 0:s.call(i,r,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=r}}}function Hv(t,{pages:e,pageParams:n}){const r=e.length-1;return t.getNextPageParam(e[r],e,n[r],n)}function K4(t,{pages:e,pageParams:n}){var r;return(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n)}var et,Er,wr,rs,is,Tr,ss,os,My,G4=(My=class{constructor(t={}){z(this,et,void 0);z(this,Er,void 0);z(this,wr,void 0);z(this,rs,void 0);z(this,is,void 0);z(this,Tr,void 0);z(this,ss,void 0);z(this,os,void 0);$(this,et,t.queryCache||new B4),$(this,Er,t.mutationCache||new W4),$(this,wr,t.defaultOptions||{}),$(this,rs,new Map),$(this,is,new Map),$(this,Tr,0)}mount(){Ba(this,Tr)._++,E(this,Tr)===1&&($(this,ss,sl.subscribe(()=>{sl.isFocused()&&(this.resumePausedMutations(),E(this,et).onFocus())})),$(this,os,ol.subscribe(()=>{ol.isOnline()&&(this.resumePausedMutations(),E(this,et).onOnline())})))}unmount(){var t,e;Ba(this,Tr)._--,E(this,Tr)===0&&((t=E(this,ss))==null||t.call(this),$(this,ss,void 0),(e=E(this,os))==null||e.call(this),$(this,os,void 0))}isFetching(t){return E(this,et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return E(this,Er).findAll({...t,status:"pending"}).length}getQueryData(t){var e;return(e=E(this,et).find({queryKey:t}))==null?void 0:e.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);return e!==void 0?Promise.resolve(e):this.fetchQuery(t)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=E(this,et).find({queryKey:t}),i=r==null?void 0:r.state.data,s=k4(e,i);if(typeof s>"u")return;const o=this.defaultQueryOptions({queryKey:t});return E(this,et).build(this,o).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return tt.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var e;return(e=E(this,et).find({queryKey:t}))==null?void 0:e.state}removeQueries(t){const e=E(this,et);tt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=E(this,et),r={type:"active",...t};return tt.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=tt.batch(()=>E(this,et).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(sn).catch(sn)}invalidateQueries(t={},e={}){return tt.batch(()=>{if(E(this,et).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=tt.batch(()=>E(this,et).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(sn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(sn)}fetchQuery(t){const e=this.defaultQueryOptions(t);typeof e.retry>"u"&&(e.retry=!1);const n=E(this,et).build(this,e);return n.isStaleByTime(e.staleTime)?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(sn).catch(sn)}fetchInfiniteQuery(t){return t.behavior=q4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(sn).catch(sn)}resumePausedMutations(){return E(this,Er).resumePausedMutations()}getQueryCache(){return E(this,et)}getMutationCache(){return E(this,Er)}getDefaultOptions(){return E(this,wr)}setDefaultOptions(t){$(this,wr,t)}setQueryDefaults(t,e){E(this,rs).set(mi(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...E(this,rs).values()];let n={};return e.forEach(r=>{qo(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){E(this,is).set(mi(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...E(this,is).values()];let n={};return e.forEach(r=>{qo(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const e={...E(this,wr).queries,...(t==null?void 0:t.queryKey)&&this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Rp(e.queryKey,e)),typeof e.refetchOnReconnect>"u"&&(e.refetchOnReconnect=e.networkMode!=="always"),typeof e.throwOnError>"u"&&(e.throwOnError=!!e.suspense),typeof e.networkMode>"u"&&e.persister&&(e.networkMode="offlineFirst"),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...E(this,wr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){E(this,et).clear(),E(this,Er).clear()}},et=new WeakMap,Er=new WeakMap,wr=new WeakMap,rs=new WeakMap,is=new WeakMap,Tr=new WeakMap,ss=new WeakMap,os=new WeakMap,My),zt,xe,Jo,Lt,Zr,as,Tn,Zo,us,ls,ei,ti,Ir,cs,ni,ao,ea,yd,ta,_d,na,bd,ra,Ed,ia,wd,sa,Td,oa,Id,pl,VE,Vy,Q4=(Vy=class extends Us{constructor(e,n){super();z(this,ni);z(this,ea);z(this,ta);z(this,na);z(this,ra);z(this,ia);z(this,sa);z(this,oa);z(this,pl);z(this,zt,void 0);z(this,xe,void 0);z(this,Jo,void 0);z(this,Lt,void 0);z(this,Zr,void 0);z(this,as,void 0);z(this,Tn,void 0);z(this,Zo,void 0);z(this,us,void 0);z(this,ls,void 0);z(this,ei,void 0);z(this,ti,void 0);z(this,Ir,void 0);z(this,cs,new Set);this.options=n,$(this,zt,e),$(this,Tn,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,xe).addObserver(this),Wv(E(this,xe),this.options)?re(this,ni,ao).call(this):this.updateResult(),re(this,ra,Ed).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sd(E(this,xe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sd(E(this,xe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,re(this,ia,wd).call(this),re(this,sa,Td).call(this),E(this,xe).removeObserver(this)}setOptions(e,n){const r=this.options,i=E(this,xe);if(this.options=E(this,zt).defaultQueryOptions(e),il(r,this.options)||E(this,zt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,xe),observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),re(this,oa,Id).call(this);const s=this.hasListeners();s&&qv(E(this,xe),i,this.options,r)&&re(this,ni,ao).call(this),this.updateResult(n),s&&(E(this,xe)!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&re(this,ea,yd).call(this);const o=re(this,ta,_d).call(this);s&&(E(this,xe)!==i||this.options.enabled!==r.enabled||o!==E(this,Ir))&&re(this,na,bd).call(this,o)}getOptimisticResult(e){const n=E(this,zt).getQueryCache().build(E(this,zt),e),r=this.createResult(n,e);return X4(this,r)&&($(this,Lt,r),$(this,as,this.options),$(this,Zr,E(this,xe).state)),r}getCurrentResult(){return E(this,Lt)}trackResult(e){const n={};return Object.keys(e).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(E(this,cs).add(r),e[r])})}),n}getCurrentQuery(){return E(this,xe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=E(this,zt).defaultQueryOptions(e),r=E(this,zt).getQueryCache().build(E(this,zt),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return re(this,ni,ao).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,Lt)))}createResult(e,n){var b;const r=E(this,xe),i=this.options,s=E(this,Lt),o=E(this,Zr),u=E(this,as),l=e!==r?e.state:E(this,Jo),{state:c}=e;let{error:h,errorUpdatedAt:f,fetchStatus:d,status:m}=c,g=!1,p;if(n._optimisticResults){const S=this.hasListeners(),P=!S&&Wv(e,n),x=S&&qv(e,r,n,i);(P||x)&&(d=Ec(e.options.networkMode)?"fetching":"paused",c.dataUpdatedAt||(m="pending")),n._optimisticResults==="isRestoring"&&(d="idle")}if(n.select&&typeof c.data<"u")if(s&&c.data===(o==null?void 0:o.data)&&n.select===E(this,Zo))p=E(this,us);else try{$(this,Zo,n.select),p=n.select(c.data),p=vd(s==null?void 0:s.data,p,n),$(this,us,p),$(this,Tn,null)}catch(S){$(this,Tn,S)}else p=c.data;if(typeof n.placeholderData<"u"&&typeof p>"u"&&m==="pending"){let S;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData))S=s.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData((b=E(this,ls))==null?void 0:b.state.data,E(this,ls)):n.placeholderData,n.select&&typeof S<"u")try{S=n.select(S),$(this,Tn,null)}catch(P){$(this,Tn,P)}typeof S<"u"&&(m="success",p=vd(s==null?void 0:s.data,S,n),g=!0)}E(this,Tn)&&(h=E(this,Tn),p=E(this,us),f=Date.now(),m="error");const y=d==="fetching",_=m==="pending",w=m==="error",T=_&&y;return{status:m,fetchStatus:d,isPending:_,isSuccess:m==="success",isError:w,isInitialLoading:T,isLoading:T,data:p,dataUpdatedAt:c.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!_,isLoadingError:w&&c.dataUpdatedAt===0,isPaused:d==="paused",isPlaceholderData:g,isRefetchError:w&&c.dataUpdatedAt!==0,isStale:Pp(e,n),refetch:this.refetch}}updateResult(e){const n=E(this,Lt),r=this.createResult(E(this,xe),this.options);if($(this,Zr,E(this,xe).state),$(this,as,this.options),E(this,Zr).data!==void 0&&$(this,ls,E(this,xe)),il(r,n))return;$(this,Lt,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,u=typeof o=="function"?o():o;if(u==="all"||!u&&!E(this,cs).size)return!0;const a=new Set(u??E(this,cs));return this.options.throwOnError&&a.add("error"),Object.keys(E(this,Lt)).some(l=>{const c=l;return E(this,Lt)[c]!==n[c]&&a.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),re(this,pl,VE).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&re(this,ra,Ed).call(this)}},zt=new WeakMap,xe=new WeakMap,Jo=new WeakMap,Lt=new WeakMap,Zr=new WeakMap,as=new WeakMap,Tn=new WeakMap,Zo=new WeakMap,us=new WeakMap,ls=new WeakMap,ei=new WeakMap,ti=new WeakMap,Ir=new WeakMap,cs=new WeakMap,ni=new WeakSet,ao=function(e){re(this,oa,Id).call(this);let n=E(this,xe).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(sn)),n},ea=new WeakSet,yd=function(){if(re(this,ia,wd).call(this),Ps||E(this,Lt).isStale||!md(this.options.staleTime))return;const n=PE(E(this,Lt).dataUpdatedAt,this.options.staleTime)+1;$(this,ei,setTimeout(()=>{E(this,Lt).isStale||this.updateResult()},n))},ta=new WeakSet,_d=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,xe)):this.options.refetchInterval)??!1},na=new WeakSet,bd=function(e){re(this,sa,Td).call(this),$(this,Ir,e),!(Ps||this.options.enabled===!1||!md(E(this,Ir))||E(this,Ir)===0)&&$(this,ti,setInterval(()=>{(this.options.refetchIntervalInBackground||sl.isFocused())&&re(this,ni,ao).call(this)},E(this,Ir)))},ra=new WeakSet,Ed=function(){re(this,ea,yd).call(this),re(this,na,bd).call(this,re(this,ta,_d).call(this))},ia=new WeakSet,wd=function(){E(this,ei)&&(clearTimeout(E(this,ei)),$(this,ei,void 0))},sa=new WeakSet,Td=function(){E(this,ti)&&(clearInterval(E(this,ti)),$(this,ti,void 0))},oa=new WeakSet,Id=function(){const e=E(this,zt).getQueryCache().build(E(this,zt),this.options);if(e===E(this,xe))return;const n=E(this,xe);$(this,xe,e),$(this,Jo,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},pl=new WeakSet,VE=function(e){tt.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(E(this,Lt))}),E(this,zt).getQueryCache().notify({query:E(this,xe),type:"observerResultsUpdated"})})},Vy);function Y4(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Wv(t,e){return Y4(t,e)||t.state.dataUpdatedAt>0&&Sd(t,e,e.refetchOnMount)}function Sd(t,e,n){if(e.enabled!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Pp(t,e)}return!1}function qv(t,e,n,r){return n.enabled!==!1&&(t!==e||r.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Pp(t,n)}function Pp(t,e){return t.isStaleByTime(e.staleTime)}function X4(t,e){return!il(t.getCurrentResult(),e)}var Sr,Bn,qt,Hn,hs,Su,aa,Cd,Ly,J4=(Ly=class extends Us{constructor(n,r){super();z(this,hs);z(this,aa);z(this,Sr,void 0);z(this,Bn,void 0);z(this,qt,void 0);z(this,Hn,void 0);$(this,Bn,void 0),$(this,Sr,n),this.setOptions(r),this.bindMethods(),re(this,hs,Su).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=E(this,Sr).defaultMutationOptions(n),il(r,this.options)||E(this,Sr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,qt),observer:this}),(i=E(this,qt))==null||i.setOptions(this.options),r!=null&&r.mutationKey&&this.options.mutationKey&&mi(r.mutationKey)!==mi(this.options.mutationKey)&&this.reset()}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,qt))==null||n.removeObserver(this)}onMutationUpdate(n){re(this,hs,Su).call(this),re(this,aa,Cd).call(this,n)}getCurrentResult(){return E(this,Bn)}reset(){var n;(n=E(this,qt))==null||n.removeObserver(this),$(this,qt,void 0),re(this,hs,Su).call(this),re(this,aa,Cd).call(this)}mutate(n,r){var i;return $(this,Hn,r),(i=E(this,qt))==null||i.removeObserver(this),$(this,qt,E(this,Sr).getMutationCache().build(E(this,Sr),this.options)),E(this,qt).addObserver(this),E(this,qt).execute(n)}},Sr=new WeakMap,Bn=new WeakMap,qt=new WeakMap,Hn=new WeakMap,hs=new WeakSet,Su=function(){var r;const n=((r=E(this,qt))==null?void 0:r.state)??ME();$(this,Bn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},aa=new WeakSet,Cd=function(n){tt.batch(()=>{var r,i,s,o,u,a,l,c;if(E(this,Hn)&&this.hasListeners()){const h=E(this,Bn).variables,f=E(this,Bn).context;(n==null?void 0:n.type)==="success"?((i=(r=E(this,Hn)).onSuccess)==null||i.call(r,n.data,h,f),(o=(s=E(this,Hn)).onSettled)==null||o.call(s,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((a=(u=E(this,Hn)).onError)==null||a.call(u,n.error,h,f),(c=(l=E(this,Hn)).onSettled)==null||c.call(l,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(E(this,Bn))})})},Ly),LE=ft(void 0),wc=t=>{const e=me(LE);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Z4=({client:t,children:e})=>(Ve(()=>(t.mount(),()=>{t.unmount()}),[t]),L(LE.Provider,{value:t},e)),NE=ft(!1),eV=()=>me(NE);NE.Provider;function tV(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var nV=ft(tV()),rV=()=>me(nV);function FE(t,e){return typeof t=="function"?t(...e):!!t}var iV=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},sV=t=>{Ve(()=>{t.clearReset()},[t])},oV=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&FE(n,[t.error,r]),aV=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},uV=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,lV=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function cV(t,e,n){const r=wc(n),i=eV(),s=rV(),o=r.defaultQueryOptions(t);o._optimisticResults=i?"isRestoring":"optimistic",aV(o),iV(o,s),sV(s);const[u]=ie(()=>new e(r,o)),a=u.getOptimisticResult(o);if(gl(Re(l=>{const c=i?()=>{}:u.subscribe(tt.batchCalls(l));return u.updateResult(),c},[u,i]),()=>u.getCurrentResult()),Ve(()=>{u.setOptions(o,{listeners:!1})},[o,u]),uV(o,a))throw lV(o,u,s);if(oV({result:a,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw a.error;return o.notifyOnChangeProps?a:u.trackResult(a)}function hV(t,e){return cV(t,Q4,e)}function dV(t,e){const n=wc(e),[r]=ie(()=>new J4(n,t));Ve(()=>{r.setOptions(t)},[r,t]);const i=gl(Re(o=>r.subscribe(tt.batchCalls(o)),[r]),()=>r.getCurrentResult()),s=Re((o,u)=>{r.mutate(o,u).catch(fV)},[r]);if(i.error&&FE(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function fV(){}const pV={apiKey:"AIzaSyC7YQuc9HDbKdCgEOQ3GguyPZKWwbhjAaE",authDomain:"blade-heart.firebaseapp.com",projectId:"blade-heart",storageBucket:"blade-heart.appspot.com",messagingSenderId:"678675071896",appId:"1:678675071896:web:4ab410e224e65b2be521ed",measurementId:"G-NSL1K6G6ME"},mV=q_(pV),gV=new fn,Tc=ks(),Kv=Tc.useDeviceLanguage();Tc.languageCode=Kv??"en";async function vV(){const t={credential:null,token:void 0,user:void 0},e={error:!1,errorCode:void 0,errorMessage:void 0,credential:null};return await yA(Tc,gV).then(n=>{var r;t.credential=fn.credentialFromResult(n),t.token=(r=t.credential)==null?void 0:r.accessToken,t.user=n.user,yV(n.user.uid)}).catch(n=>{e.error=!0,e.errorCode=n.code,e.errorMessage=n.message,e.credential=fn.credentialFromError(n)}),{res:t,err:e}}const Ko=g4(mV);async function yV(t){const e=Wo(Ko,"userdata",t);if((await Ap(e)).exists())console.log("Found userfile for user.");else{console.log("Creating userfile for user.");const r=p4(Ko,"userdata");await x4(Wo(r,t),{meta:{v:1},prefs:{},prefsets:{}})}}function $E(){var e;const t=(e=Tc.currentUser)==null?void 0:e.uid;if(t){const n=Wo(Ko,"userdata",t),{status:r,data:i}=hV({queryKey:[t],queryFn:()=>Ap(n),staleTime:3e5});return{status:r,data:i==null?void 0:i.data()}}return{status:void 0,data:void 0}}function Gv({icon:t,children:e}){return v(N,{children:v("div",{class:"icontext",children:[t,v("div",{class:"text",children:e})]})})}function Cu({primary:t,left:e,right:n}){return Qe(()=>v(N,{children:v("div",{class:"multiicon",children:[v("div",{class:"bg primary",children:t}),v("div",{class:"fg primary",children:t}),v("div",{class:"bg left",children:e}),v("div",{class:"fg left",children:e}),n?v(N,{children:[v("div",{class:"bg right",children:n}),v("div",{class:"fg right",children:n})]}):v(N,{})]})}),[t,e,n])}var xp={},_V=it;Object.defineProperty(xp,"__esModule",{value:!0});var UE=xp.default=void 0,bV=_V(st()),EV=Ye(),wV=(0,bV.default)((0,EV.jsx)("path",{d:"M16.5 3c-.96 0-1.9.25-2.73.69L12 9h3l-3 10 1-9h-3l1.54-5.39C10.47 3.61 9.01 3 7.5 3 4.42 3 2 5.42 2 8.5c0 4.13 4.16 7.18 10 12.5 5.47-4.94 10-8.26 10-12.5C22 5.42 19.58 3 16.5 3z"}),"HeartBroken");UE=xp.default=wV;function Ic(){return v(N,{children:v(UE,{})})}function TV({onExit:t}){async function e(){const{err:r}=await vV();r.error==!0&&console.warn(r),t()}function n(){var r;t((r=ks().currentUser)==null?void 0:r.uid)}return v(N,{children:v("div",{class:"loginmodal",children:[v("div",{class:"modalbg",onClick:n}),v("div",{class:"modalcard",children:[v("div",{class:"info",children:[v(Ic,{}),v("h1",{children:"Welcome to Blade Heart!"}),v(Gv,{icon:v(lb,{}),children:"Signing in allows Blade Heart to retain your preferences between visits."}),v(Gv,{icon:v(Cu,{primary:v(db,{}),left:v(cb,{})}),children:"Clicking the button below will pop-up another window listing your Google accounts."})]}),v("button",{class:"loginpopup",onClick:e,children:"Login with Google"})]})]})})}function IV({text:t}){const[,e]=ie(!1);function n(r){var s;e(!0);const i=(s=document.getElementById("app"))==null?void 0:s.appendChild(document.createElement("div"));oi(v(N,{children:v(TV,{onExit:()=>{e(!1),i==null||i.remove()}})}),i)}return v(N,{children:v("button",{class:"loginbtn",onClick:n,children:t||"LOGIN"})})}function SV({text:t}){function e(n){ks().signOut()}return v(N,{children:v("button",{class:"signoutbtn",onClick:e,children:t||"LOG OUT"})})}function zE({onAuthEvent:t}){const[e,n]=ie(null);return Ve(()=>{const r=ks();of(r,i=>{i?(n({...i}),t&&t({type:"login",user:e})):(n(null),t&&t({type:"signout",user:e}))})},[]),v(N,{children:v("div",{class:"accountarea",children:[v(aO,{src:e==null?void 0:e.photoURL}),v("div",{class:"account",children:[v("div",{class:"accName",children:(e==null?void 0:e.displayName)||"Account"}),e?v(SV,{}):v(IV,{})]})]})})}function CV({text:t}){return v("div",{class:"pageheader",children:[v("div",{class:"maintitle",children:[v(Ic,{}),v("div",{class:"titlewords bh-wordmark",children:[v("h1",{children:"BLADE"}),v("h1",{children:"HEART"})]})]}),v("p",{children:t}),v(zE,{})]})}function Go(t){if(t){for(var e=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],n=0;n<e.length;n++)t=t.replace(e[n].letters,e[n].base);return t.toLowerCase().replace(/\W/g,"-")}}const AV={"second-eruption":{title:"Second Eruption",author:"miHoYo",languages:{en:{name:"English (Source)",translator:"alloy_bron",sourcecredit:"https://mangadex.org/title/b82bc828-0f22-43d9-835d-d5ff1cb0d680/honkai-impact-3rd",sourceurl:"/blade-heart/src/assets/manhua/second-eruption/en/",chapters:{1:{authornumber:"00",name:"Prelude to War",pagemethod:"local",pagedata:[1,24],imageext:"jpg",suggestzoom:!1},2:{authornumber:"01",name:"The Ghost",pagemethod:"local",pagedata:[1,16],imageext:"jpg",suggestzoom:!1},3:{authornumber:"02",name:"The Girl",pagemethod:"local",pagedata:[1,16],imageext:"jpg",suggestzoom:!1},4:{authornumber:"03",name:"The War Begins",pagemethod:"local",pagedata:[1,14],imageext:"jpg",suggestzoom:!1},5:{authornumber:"04",name:"The Alliance",pagemethod:"local",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},6:{authornumber:"05",name:"The Tear",pagemethod:"local",pagedata:[1,19],imageext:"jpg",suggestzoom:!1},7:{authornumber:"06",name:"The Awakening",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},8:{authornumber:"07",name:"The Void",pagemethod:"local",pagedata:[1,24],imageext:"jpg",suggestzoom:!1},9:{authornumber:"08",name:"The Herrscher",pagemethod:"local",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},10:{authornumber:"09",name:"Welt of Humanity",pagemethod:"local",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},11:{authornumber:"10",name:"Void Against Reason",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},12:{authornumber:"11",name:"The Clown",pagemethod:"local",pagedata:[1,26],imageext:"jpg",suggestzoom:!1},13:{authornumber:"12",name:"Young Ziggy",pagemethod:"local",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},14:{authornumber:"13",name:"The Ride",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},15:{authornumber:"14",name:"The Game",pagemethod:"local",pagedata:[1,19],imageext:"jpg",suggestzoom:!1},16:{authornumber:"15",name:"The Present",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},17:{authornumber:"16",name:"The Promise",pagemethod:"local",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},18:{authornumber:"17",name:"Undying Dreams",pagemethod:"local",pagedata:[1,25],imageext:"jpg",suggestzoom:!1},19:{authornumber:"18",name:"The Revelation",pagemethod:"local",pagedata:[1,42],imageext:"jpg",suggestzoom:!1},20:{authornumber:"19",name:"Throne of Sin",pagemethod:"local",pagedata:[1,19],imageext:"jpg",suggestzoom:!1},21:{authornumber:"20",name:"The Kings",pagemethod:"local",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},22:{authornumber:"21",name:"The Plan",pagemethod:"local",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},23:{authornumber:"22",name:"The Launch",pagemethod:"local",pagedata:[1,22],imageext:"jpg",suggestzoom:!1},24:{authornumber:"23",name:"Moonflight",pagemethod:"local",pagedata:[1,16],imageext:"jpg",suggestzoom:!1},25:{authornumber:"24",name:"The Herrschers",pagemethod:"local",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},26:{authornumber:"25",name:"Their Battle",pagemethod:"local",pagedata:[1,17],imageext:"jpg",suggestzoom:!1},27:{authornumber:"26",name:"The Ninja",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},28:{authornumber:"27",name:"Event Horizon",pagemethod:"local",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},29:{authornumber:"28",name:"Chandrasekhar",pagemethod:"local",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},30:{authornumber:"29",name:"Her Return",pagemethod:"local",pagedata:[1,30],imageext:"jpg",suggestzoom:!1},31:{authornumber:"30",name:"Her Angels",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},32:{authornumber:"31",name:"Counter-Offensive",pagemethod:"local",pagedata:[1,17],imageext:"jpg",suggestzoom:!1},33:{authornumber:"32",name:"Eve of War",pagemethod:"local",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},34:{authornumber:"33",name:"The Soulium",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},35:{authornumber:"34",name:"Blade Heart",pagemethod:"local",pagedata:[1,17],imageext:"jpg",suggestzoom:!1},36:{authornumber:"35",name:"Blown Away",pagemethod:"local",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},37:{authornumber:"36",name:"Fenghuang Down",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},38:{authornumber:"37",name:"Obsession",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},39:{authornumber:"38",name:"The Progeny",pagemethod:"local",pagedata:[1,22],imageext:"jpg",suggestzoom:!1},40:{authornumber:"39",name:"Price to Pay",pagemethod:"local",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},41:{authornumber:"40",name:"Cocolia",pagemethod:"local",pagedata:[1,19],imageext:"jpg",suggestzoom:!1},42:{authornumber:"41",name:"Field of Megiddo",pagemethod:"local",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},43:{authornumber:"42",name:"Fire and Ice",pagemethod:"local",pagedata:[1,17],imageext:"jpg",suggestzoom:!1},44:{authornumber:"43",name:"Fists of Taixuan",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},45:{authornumber:"44",name:"The Soul",pagemethod:"local",pagedata:[1,24],imageext:"jpg",suggestzoom:!1},46:{authornumber:"45",name:"Deus",pagemethod:"local",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},47:{authornumber:"46",name:"Edge of Taixuan",pagemethod:"local",pagedata:[1,17],imageext:"jpg",suggestzoom:!1},48:{authornumber:"47",name:"Broken Link",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},49:{authornumber:"48",name:"The New Toy",pagemethod:"local",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},50:{authornumber:"49",name:"It's a Dream",pagemethod:"local",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},51:{authornumber:"50",name:"Happy Family",pagemethod:"local",pagedata:[1,24],imageext:"jpg",suggestzoom:!1},52:{authornumber:"51",name:"The Hug",pagemethod:"local",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},53:{authornumber:"52",name:"Final Gambit",pagemethod:"local",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},54:{authornumber:"53",name:"Benares",pagemethod:"local",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},55:{authornumber:"54",name:"Féond Gefyldan",pagemethod:"local",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},56:{authornumber:"55",name:"Wake Up Call",pagemethod:"local",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},57:{authornumber:"56",name:"Ālea Iacta Est",pagemethod:"local",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},58:{authornumber:"57",name:"The Gathering",pagemethod:"local",pagedata:[1,22],imageext:"jpg",suggestzoom:!1},59:{authornumber:"58",name:"The Pain",pagemethod:"local",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},60:{authornumber:"59",name:"Infinity Corridor",pagemethod:"local",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},61:{authornumber:"60",name:"The Mantis",pagemethod:"local",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},62:{authornumber:"61",name:"The Berserk",pagemethod:"local",pagedata:[1,22],imageext:"jpg",suggestzoom:!1},63:{authornumber:"62",name:"Core Cascade",pagemethod:"local",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},64:{authornumber:"62-2",name:"Guardian Angel",pagemethod:"local",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},65:{authornumber:"62-3",name:"Ich líebe dích",pagemethod:"local",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},66:{authornumber:"63",name:"Epilogue",pagemethod:"local",pagedata:[1,22],imageext:"jpg",suggestzoom:!1}}},en_lq:{name:"English (Low Quality)",translator:"alloy_bron",sourcecredit:"manga.honkaiimpact3.com",sourceurl:"https://d2tpbmzklky1cl.cloudfront.net/manga/static/comic/book/1005/",chapters:{1:{authornumber:"00",name:"Prelude to War",pagemethod:"fetch-source",pagedata:[1,24],imageext:"jpg",suggestzoom:!1},2:{authornumber:"01",name:"The Ghost",pagemethod:"fetch-source",pagedata:[1,16],imageext:"jpg",suggestzoom:!1},3:{authornumber:"02",name:"The Girl",pagemethod:"fetch-source",pagedata:[1,16],imageext:"jpg",suggestzoom:!1},4:{authornumber:"03",name:"The War Begins",pagemethod:"fetch-source",pagedata:[1,14],imageext:"jpg",suggestzoom:!1},5:{authornumber:"04",name:"The Alliance",pagemethod:"fetch-source",pagedata:[1,28],imageext:"jpg",suggestzoom:!1},6:{authornumber:"05",name:"The Tear",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},7:{authornumber:"06",name:"The Awakening",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},8:{authornumber:"07",name:"The Void",pagemethod:"fetch-source",pagedata:[1,24],imageext:"jpg",suggestzoom:!1},9:{authornumber:"08",name:"The Herrscher",pagemethod:"fetch-source",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},10:{authornumber:"09",name:"Welt of Humanity",pagemethod:"fetch-source",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},11:{authornumber:"10",name:"Void Against Reason",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},12:{authornumber:"11",name:"The Clown",pagemethod:"fetch-source",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},13:{authornumber:"12",name:"Young Ziggy",pagemethod:"fetch-source",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},14:{authornumber:"13",name:"The Ride",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},15:{authornumber:"14",name:"The Game",pagemethod:"fetch-source",pagedata:[1,19],imageext:"jpg",suggestzoom:!1},16:{authornumber:"15",name:"The Present",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},17:{authornumber:"16",name:"The Promise",pagemethod:"fetch-source",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},18:{authornumber:"17",name:"Undying Dreams",pagemethod:"fetch-source",pagedata:[1,25],imageext:"jpg",suggestzoom:!1},19:{authornumber:"18",name:"The Revelation",pagemethod:"fetch-source",pagedata:[1,42],imageext:"jpg",suggestzoom:!1},20:{authornumber:"19",name:"Throne of Sin",pagemethod:"fetch-source",pagedata:[1,19],imageext:"jpg",suggestzoom:!1},21:{authornumber:"20",name:"The Kings",pagemethod:"fetch-source",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},22:{authornumber:"21",name:"The Plan",pagemethod:"fetch-source",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},23:{authornumber:"22",name:"The Launch",pagemethod:"fetch-source",pagedata:[1,22],imageext:"jpg",suggestzoom:!1},24:{authornumber:"23",name:"Moonflight",pagemethod:"fetch-source",pagedata:[1,16],imageext:"jpg",suggestzoom:!1},25:{authornumber:"24",name:"The Herrschers",pagemethod:"fetch-source",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},26:{authornumber:"25",name:"Their Battle",pagemethod:"patch-source",pagedata:["https://upload.wikimedia.org/wikipedia/commons/b/b1/Missing-image-232x150.png",[2,10],[12,19]],imageext:"jpg",suggestzoom:!1},27:{authornumber:"26",name:"The Ninja",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},28:{authornumber:"27",name:"Event Horizon",pagemethod:"fetch-source",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},29:{authornumber:"28",name:"Chandrasekhar",pagemethod:"fetch-source",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},30:{authornumber:"29",name:"Her Return",pagemethod:"fetch-source",pagedata:[1,30],imageext:"jpg",suggestzoom:!1},31:{authornumber:"30",name:"Her Angels",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},32:{authornumber:"31",name:"Counter-Offensive",pagemethod:"fetch-source",pagedata:[1,17],imageext:"jpg",suggestzoom:!1},33:{authornumber:"32",name:"Eve of War",pagemethod:"fetch-source",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},34:{authornumber:"33",name:"The Soulium",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},35:{authornumber:"34",name:"Blade Heart",pagemethod:"fetch-source",pagedata:[1,17],imageext:"jpg",suggestzoom:!1},36:{authornumber:"35",name:"Blown Away",pagemethod:"fetch-source",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},37:{authornumber:"36",name:"Fenghuang Down",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},38:{authornumber:"37",name:"Obsession",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},39:{authornumber:"38",name:"The Progeny",pagemethod:"fetch-source",pagedata:[1,22],imageext:"jpg",suggestzoom:!1},40:{authornumber:"39",name:"Price to Pay",pagemethod:"fetch-source",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},41:{authornumber:"40",name:"Cocolia",pagemethod:"fetch-source",pagedata:[1,19],imageext:"jpg",suggestzoom:!1},42:{authornumber:"41",name:"Field of Megiddo",pagemethod:"fetch-source",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},43:{authornumber:"42",name:"Fire and Ice",pagemethod:"fetch-source",pagedata:[1,17],imageext:"jpg",suggestzoom:!1},44:{authornumber:"43",name:"Fists of Taixuan",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},45:{authornumber:"44",name:"The Soul",pagemethod:"fetch-source",pagedata:[1,24],imageext:"jpg",suggestzoom:!1},46:{authornumber:"45",name:"Deus",pagemethod:"fetch-source",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},47:{authornumber:"46",name:"Edge of Taixuan",pagemethod:"fetch-source",pagedata:[1,17],imageext:"jpg",suggestzoom:!1},48:{authornumber:"47",name:"Broken Link",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},49:{authornumber:"48",name:"The New Toy",pagemethod:"fetch-source",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},50:{authornumber:"49",name:"It's a Dream",pagemethod:"fetch-source",pagedata:[1,20],imageext:"jpg",suggestzoom:!1},51:{authornumber:"50",name:"Happy Family",pagemethod:"fetch-source",pagedata:[1,24],imageext:"jpg",suggestzoom:!1},52:{authornumber:"51",name:"The Hug",pagemethod:"fetch-source",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},53:{authornumber:"52",name:"Final Gambit",pagemethod:"fetch-source",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},54:{authornumber:"53",name:"Benares",pagemethod:"fetch-source",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},55:{authornumber:"54",name:"Féond Gefyldan",pagemethod:"fetch-source",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},56:{authornumber:"55",name:"Wake Up Call",pagemethod:"fetch-source",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},57:{authornumber:"56",name:"Ālea Iacta Est",pagemethod:"fetch-source",pagedata:[1,21],imageext:"jpg",suggestzoom:!1},58:{authornumber:"57",name:"The Gathering",pagemethod:"fetch-source",pagedata:[1,22],imageext:"jpg",suggestzoom:!1},59:{authornumber:"58",name:"The Pain",pagemethod:"fetch-source",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},60:{authornumber:"59",name:"Infinity Corridor",pagemethod:"fetch-source",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},61:{authornumber:"60",name:"The Mantis",pagemethod:"fetch-source",pagedata:[1,18],imageext:"jpg",suggestzoom:!1},62:{authornumber:"61",name:"The Berserk",pagemethod:"fetch-source",pagedata:[1,22],imageext:"jpg",suggestzoom:!1},63:{authornumber:"62",name:"Core Cascade",pagemethod:"fetch-source",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},64:{authornumber:"62-2",name:"Guardian Angel",pagemethod:"fetch-source",pagedata:[1,23],imageext:"jpg",suggestzoom:!1},65:{authornumber:"62-3",name:"Ich líebe dích",pagemethod:"fetch-source",pagedata:[1,27],imageext:"jpg",suggestzoom:!1},66:{authornumber:"63",name:"Epilogue",pagemethod:"fetch-source",pagedata:[1,22],imageext:"jpg",suggestzoom:!1},67:{authornumber:"EX",name:"[Extra: Wallpapers]",pagemethod:"fetch-source",pagedata:[1,34],imageext:"jpg",suggestzoom:!1}}}}}};function Op(t){const e=AV[t];e||console.warn("incorrect manga id: "+t);function n(i){i||(i=Ad(e.languages));const s=e.languages[i];s||console.warn("incorrect language id: "+i);function o(a){a||(a=Ad(s.chapters));const l=s.chapters[a];l||console.warn("incorrect chapter id: "+a);function c(){switch(l.pagemethod){case"local":case"fetch-source":return l.pagedata[1]-l.pagedata[0]+1;case"page-source":{var f=0;for(const d of l.pagedata)typeof d=="string"?f++:f+=d[1]-d[0]+1;return f}default:return NaN}}return{...l,getPageCount:c}}return{...s,chap:o}}return{...e,lang:n}}function Sc(t){const e=Op(t.mangaid),n=e.lang(t.langid),r=jE(t),i=n.chap(r);return{mangaMeta:e,langMeta:n,chapMeta:i,chapNumeral:r}}function Ad(t){return Object.keys(t)[0]}function jE(t){return RV(t.mangaid,t.langid,t.chapid)}function RV(t,e,n){const i=Op(t).lang(e),s=Object.entries(i.chapters).find(([o,u])=>Go(u.name)==n);return Number(s==null?void 0:s[0])}function Qv(t,e,n,r,i){const s=[];for(let o=t;o<=e;o++)s.push(r+o.toString().padStart(n,"0")+"."+i);return s}function Yv(t){const e=[],{langMeta:n,chapMeta:r,chapNumeral:i}=Sc(t);let s=[];switch(r.pagemethod){case"local":case"fetch-source":{const o=r.pagemethod==="local",u=r.pagedata[0]+(o?-1:0),a=r.pagedata[1]+(o?-1:0),l=n.sourceurl+i+"/";s=Qv(u,a,o?2:4,l,r.imageext)}break;case"patch-source":for(const o of r.pagedata)if(typeof o=="string")s.push(o);else if(Array.isArray(o)){const u=o[0],a=o[1],l=n.sourceurl+i+"/";s.concat(Qv(u,a,4,l,r.imageext))}break}for(let o=0;o<r.getPageCount();o++){let u=function(){const l=new Image;return l.id="page"+a.numeral,l.src=a.src,l};const a={numeral:o+1,src:s[o],origSize:{height:0,width:0},viewHeight:NaN,suggestZoom:r.suggestzoom,getImg:u,loaded:!1};e.push(a)}return e}function PV({children:t,type:e,title:n,id:r,desc:i}){const s=pa(),[o,u]=ie(!1),a=Op(r),l=a.lang(),c=Ad(a.languages),h=Go(l.chap().name||"");h||u(!0);function f(){s("/blade-heart/"+e+"/"+r+"/"+c+"/"+h)}function d(){console.warn("user trying to go to broken link rippp")}return v(N,{children:v("div",{class:"bh-mediacard "+(o?"linkbroken":""),onClick:o?d:f,children:[t,v("div",{class:"details",children:[v("p",{class:"title",children:n}),v("p",{class:"type",children:e}),v("p",{class:"desc",children:i})]})]})})}function xV({id:t,onChange:e,offText:n,onText:r,defaultValue:i}){const[s,o]=ie(i);function u(){o(a=>!a),e&&e(!s)}return v(N,{children:v("div",{class:"sliderwrapper",children:[v("div",{class:"bh-slider-left "+(s?"active":""),children:n}),v("button",{id:t,class:"bh-slider "+(s?"active":""),onClick:u,children:v("div",{class:"bar"})}),v("div",{class:"bh-slider-right "+(s?"active":""),children:r})]})})}const BE={"second-eruption":{type:"manhua",title:"Second Eruption",id:"second-eruption",subtitle:"A Honkai Impact 3rd manhua.",desc:"literal peak manga",cover:"https://d2tpbmzklky1cl.cloudfront.net/manga/static/comic/book/1005/35/0001.jpg"}};function OV(){function t(e){console.log(e)}return v(N,{children:[v("div",{class:"bh-contenttitle",children:[v("h1",{children:"media projects"}),v("div",{class:"sort",children:v(xV,{id:"contentlist/sort",onChange:t,offText:"reccomended",onText:"chronological"})})]}),v("div",{class:"bh-contentlist",children:Object.entries(BE).map(([e,n])=>v(PV,{...n,children:v("img",{src:n.cover})}))})]})}function dh({children:t,site:e,handle:n,href:r}){return v(N,{children:v("div",{class:"sociallink",children:[t,v("div",{class:"text",children:[v("p",{class:"site",children:e}),v("a",{href:r,children:n})]})]})})}var Dp={},DV=it;Object.defineProperty(Dp,"__esModule",{value:!0});var HE=Dp.default=void 0;VV(Z0);var kV=DV(st()),MV=Ye();function WE(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(WE=function(r){return r?n:e})(t)}function VV(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=WE(e);if(n&&n.has(t))return n.get(t);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var o=i?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=t[s]}return r.default=t,n&&n.set(t,r),r}var LV=(0,kV.default)((0,MV.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter");HE=Dp.default=LV;var kp={},NV=it;Object.defineProperty(kp,"__esModule",{value:!0});var qE=kp.default=void 0,FV=NV(st()),$V=Ye(),UV=(0,FV.default)((0,$V.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96z"}),"Cloud");qE=kp.default=UV;var Mp={},zV=it;Object.defineProperty(Mp,"__esModule",{value:!0});var KE=Mp.default=void 0,jV=zV(st()),BV=Ye(),HV=(0,jV.default)((0,BV.jsx)("path",{d:"m21.58 16.09-1.09-7.66C20.21 6.46 18.52 5 16.53 5H7.47C5.48 5 3.79 6.46 3.51 8.43l-1.09 7.66C2.2 17.63 3.39 19 4.94 19c.68 0 1.32-.27 1.8-.75L9 16h6l2.25 2.25c.48.48 1.13.75 1.8.75 1.56 0 2.75-1.37 2.53-2.91zM11 11H9v2H8v-2H6v-1h2V8h1v2h2v1zm4-1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm2 3c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"SportsEsports");KE=Mp.default=HV;function WV(){return v(N,{children:v("div",{class:"bh-pagefooter",children:[v("p",{children:"a web app by Ayrlin Renata. "}),v("div",{class:"socials",children:[v(dh,{site:"Xwitter",handle:"@ayrlinrenata",href:"https://twitter.com/ayrlinrenata",children:v(HE,{})}),v(dh,{site:"BlueSky",handle:"ayrlin.bsky.app",href:"https://bsky.app/profile/ayrlin.bsky.social",children:v(qE,{})}),v(dh,{site:"Discord",handle:"ayrlin",href:"#",children:v(KE,{})})]}),v("p",{children:"if you somehow stumbled onto this site and think i am doing a good, you can support me by yelling at me on social media occationally, which makes me feel appreciated and needed. :3 "}),v("p",{children:"Images on this site may bear resemblance to, or be official works depicting Hoyoverse / Cognosphere's copyrighted characters, images, comics, and IP, which belong to Hoyoverse / Cognosphere Ltd."})]})})}function qV(){return v("div",{class:"fullpage",children:[v(CV,{text:"a fan-project to make an improved supplemental media experience for Honkai Impact 3rd"}),v(OV,{}),v(WV,{})]})}function Xv(){const t=N_();return console.error(t),v("div",{id:"errorpage",children:[v(Ic,{}),v("h1",{children:"there has been a mistake"}),v("p",{children:"lol mb... well anyway, it's telling me the problem is "}),v("h1",{children:v("i",{children:t.status+": "+(t.statusText||t.message)})}),v("p",{children:"but i won't know about it unless you tell me"})]})}var KV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),qe=function(){return qe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qe.apply(this,arguments)},Jv={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Zv={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},tu={width:"20px",height:"20px",position:"absolute"},GV={top:qe(qe({},Jv),{top:"-5px"}),right:qe(qe({},Zv),{left:void 0,right:"-5px"}),bottom:qe(qe({},Jv),{top:void 0,bottom:"-5px"}),left:qe(qe({},Zv),{left:"-5px"}),topRight:qe(qe({},tu),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:qe(qe({},tu),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:qe(qe({},tu),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:qe(qe({},tu),{left:"-10px",top:"-10px",cursor:"nw-resize"})},QV=function(t){KV(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.onMouseDown=function(r){n.props.onResizeStart(r,n.props.direction)},n.onTouchStart=function(r){n.props.onResizeStart(r,n.props.direction)},n}return e.prototype.render=function(){return L("div",{className:this.props.className||"",style:qe(qe({position:"absolute",userSelect:"none"},GV[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},e}(ps),YV=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_n=function(){return _n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_n.apply(this,arguments)},XV={width:"auto",height:"auto"},nu=function(t,e,n){return Math.max(Math.min(t,n),e)},ey=function(t,e){return Math.round(t/e)*e},Mi=function(t,e){return new RegExp(t,"i").test(e)},ru=function(t){return!!(t.touches&&t.touches.length)},JV=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},ty=function(t,e,n){n===void 0&&(n=0);var r=e.reduce(function(s,o,u){return Math.abs(o-t)<Math.abs(e[s]-t)?u:s},0),i=Math.abs(e[r]-t);return n===0||i<n?e[r]:t},fh=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:t+"px"},iu=function(t,e,n,r){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var i=Number(t.replace("%",""))/100;return e*i}if(t.endsWith("vw")){var i=Number(t.replace("vw",""))/100;return n*i}if(t.endsWith("vh")){var i=Number(t.replace("vh",""))/100;return r*i}}return t},ZV=function(t,e,n,r,i,s,o){return r=iu(r,t.width,e,n),i=iu(i,t.height,e,n),s=iu(s,t.width,e,n),o=iu(o,t.height,e,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof i>"u"?void 0:Number(i),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof o>"u"?void 0:Number(o)}},eL=["as","style","className","grid","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],ny="__resizable_base__",GE=function(t){YV(e,t);function e(n){var r=t.call(this,n)||this;return r.ratio=1,r.resizable=null,r.parentLeft=0,r.parentTop=0,r.resizableLeft=0,r.resizableRight=0,r.resizableTop=0,r.resizableBottom=0,r.targetLeft=0,r.targetTop=0,r.appendBase=function(){if(!r.resizable||!r.window)return null;var i=r.parentNode;if(!i)return null;var s=r.window.document.createElement("div");return s.style.width="100%",s.style.height="100%",s.style.position="absolute",s.style.transform="scale(0, 0)",s.style.left="0",s.style.flex="0 0 100%",s.classList?s.classList.add(ny):s.className+=ny,i.appendChild(s),s},r.removeBase=function(i){var s=r.parentNode;s&&s.removeChild(i)},r.ref=function(i){i&&(r.resizable=i)},r.state={isResizing:!1,width:typeof(r.propsSize&&r.propsSize.width)>"u"?"auto":r.propsSize&&r.propsSize.width,height:typeof(r.propsSize&&r.propsSize.height)>"u"?"auto":r.propsSize&&r.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},r.onResizeStart=r.onResizeStart.bind(r),r.onMouseMove=r.onMouseMove.bind(r),r.onMouseUp=r.onMouseUp.bind(r),r}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||XV},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var i=this.resizable.offsetWidth,s=this.resizable.offsetHeight,o=this.resizable.style.position;o!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:i,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=o}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,i=function(u){if(typeof n.state[u]>"u"||n.state[u]==="auto")return"auto";if(n.propsSize&&n.propsSize[u]&&n.propsSize[u].toString().endsWith("%")){if(n.state[u].toString().endsWith("%"))return n.state[u].toString();var a=n.getParentSize(),l=Number(n.state[u].toString().replace("px","")),c=l/a[u]*100;return c+"%"}return fh(n.state[u])},s=r&&typeof r.width<"u"&&!this.state.isResizing?fh(r.width):i("width"),o=r&&typeof r.height<"u"&&!this.state.isResizing?fh(r.height):i("height");return{width:s,height:o}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,i=this.parentNode.style.flexWrap;i!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=i),this.removeBase(n),s},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(n,r){var i=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof i>"u"||i==="auto")?"auto":n},e.prototype.calculateNewMaxFromBoundary=function(n,r){var i=this.props.boundsByDirection,s=this.state.direction,o=i&&Mi("left",s),u=i&&Mi("top",s),a,l;if(this.props.bounds==="parent"){var c=this.parentNode;c&&(a=o?this.resizableRight-this.parentLeft:c.offsetWidth+(this.parentLeft-this.resizableLeft),l=u?this.resizableBottom-this.parentTop:c.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(a=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,l=u?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(a=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),l=u?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return a&&Number.isFinite(a)&&(n=n&&n<a?n:a),l&&Number.isFinite(l)&&(r=r&&r<l?r:l),{maxWidth:n,maxHeight:r}},e.prototype.calculateNewSizeFromDirection=function(n,r){var i=this.props.scale||1,s=this.props.resizeRatio||1,o=this.state,u=o.direction,a=o.original,l=this.props,c=l.lockAspectRatio,h=l.lockAspectRatioExtraHeight,f=l.lockAspectRatioExtraWidth,d=a.width,m=a.height,g=h||0,p=f||0;return Mi("right",u)&&(d=a.width+(n-a.x)*s/i,c&&(m=(d-p)/this.ratio+g)),Mi("left",u)&&(d=a.width-(n-a.x)*s/i,c&&(m=(d-p)/this.ratio+g)),Mi("bottom",u)&&(m=a.height+(r-a.y)*s/i,c&&(d=(m-g)*this.ratio+p)),Mi("top",u)&&(m=a.height-(r-a.y)*s/i,c&&(d=(m-g)*this.ratio+p)),{newWidth:d,newHeight:m}},e.prototype.calculateNewSizeFromAspectRatio=function(n,r,i,s){var o=this.props,u=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,l=o.lockAspectRatioExtraWidth,c=typeof s.width>"u"?10:s.width,h=typeof i.width>"u"||i.width<0?n:i.width,f=typeof s.height>"u"?10:s.height,d=typeof i.height>"u"||i.height<0?r:i.height,m=a||0,g=l||0;if(u){var p=(f-m)*this.ratio+g,y=(d-m)*this.ratio+g,_=(c-g)/this.ratio+m,w=(h-g)/this.ratio+m,T=Math.max(c,p),A=Math.min(h,y),b=Math.max(f,_),S=Math.min(d,w);n=nu(n,T,A),r=nu(r,b,S)}else n=nu(n,c,h),r=nu(r,f,d);return{newWidth:n,newHeight:r}},e.prototype.setBoundingClientRect=function(){if(this.props.bounds==="parent"){var n=this.parentNode;if(n){var r=n.getBoundingClientRect();this.parentLeft=r.left,this.parentTop=r.top}}if(this.props.bounds&&typeof this.props.bounds!="string"){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left,this.targetTop=i.top}if(this.resizable){var s=this.resizable.getBoundingClientRect(),o=s.left,u=s.top,a=s.right,l=s.bottom;this.resizableLeft=o,this.resizableRight=a,this.resizableTop=u,this.resizableBottom=l}},e.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var i=0,s=0;if(n.nativeEvent&&JV(n.nativeEvent)?(i=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&ru(n.nativeEvent)&&(i=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var o=this.props.onResizeStart(n,r,this.resizable);if(o===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var u,a=this.window.getComputedStyle(this.resizable);if(a.flexBasis!=="auto"){var l=this.parentNode;if(l){var c=this.window.getComputedStyle(l).flexDirection;this.flexDir=c.startsWith("row")?"row":"column",u=a.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var h={original:{x:i,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:_n(_n({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:u};this.setState(h)}},e.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&ru(n))try{n.preventDefault(),n.stopPropagation()}catch{}var i=this.props,s=i.maxWidth,o=i.maxHeight,u=i.minWidth,a=i.minHeight,l=ru(n)?n.touches[0].clientX:n.clientX,c=ru(n)?n.touches[0].clientY:n.clientY,h=this.state,f=h.direction,d=h.original,m=h.width,g=h.height,p=this.getParentSize(),y=ZV(p,this.window.innerWidth,this.window.innerHeight,s,o,u,a);s=y.maxWidth,o=y.maxHeight,u=y.minWidth,a=y.minHeight;var _=this.calculateNewSizeFromDirection(l,c),w=_.newHeight,T=_.newWidth,A=this.calculateNewMaxFromBoundary(s,o);this.props.snap&&this.props.snap.x&&(T=ty(T,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(w=ty(w,this.props.snap.y,this.props.snapGap));var b=this.calculateNewSizeFromAspectRatio(T,w,{width:A.maxWidth,height:A.maxHeight},{width:u,height:a});if(T=b.newWidth,w=b.newHeight,this.props.grid){var S=ey(T,this.props.grid[0]),P=ey(w,this.props.grid[1]),x=this.props.snapGap||0;T=x===0||Math.abs(S-T)<=x?S:T,w=x===0||Math.abs(P-w)<=x?P:w}var V={width:T-d.width,height:w-d.height};if(m&&typeof m=="string"){if(m.endsWith("%")){var H=T/p.width*100;T=H+"%"}else if(m.endsWith("vw")){var G=T/this.window.innerWidth*100;T=G+"vw"}else if(m.endsWith("vh")){var le=T/this.window.innerHeight*100;T=le+"vh"}}if(g&&typeof g=="string"){if(g.endsWith("%")){var H=w/p.height*100;w=H+"%"}else if(g.endsWith("vw")){var G=w/this.window.innerWidth*100;w=G+"vw"}else if(g.endsWith("vh")){var le=w/this.window.innerHeight*100;w=le+"vh"}}var pe={width:this.createSizeForCssProperty(T,"width"),height:this.createSizeForCssProperty(w,"height")};this.flexDir==="row"?pe.flexBasis=pe.width:this.flexDir==="column"&&(pe.flexBasis=pe.height),jd(function(){r.setState(pe)}),this.props.onResize&&this.props.onResize(n,f,this.resizable,V)}},e.prototype.onMouseUp=function(n){var r=this.state,i=r.isResizing,s=r.direction,o=r.original;if(!(!i||!this.resizable)){var u={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(n,s,this.resizable,u),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:_n(_n({},this.state.backgroundStyle),{cursor:"auto"})})}},e.prototype.updateSize=function(n){this.setState({width:n.width,height:n.height})},e.prototype.renderResizer=function(){var n=this,r=this.props,i=r.enable,s=r.handleStyles,o=r.handleClasses,u=r.handleWrapperStyle,a=r.handleWrapperClass,l=r.handleComponent;if(!i)return null;var c=Object.keys(i).map(function(h){return i[h]!==!1?L(QV,{key:h,direction:h,onResizeStart:n.onResizeStart,replaceStyles:s&&s[h],className:o&&o[h]},l&&l[h]?l[h]:null):null});return L("div",{className:a,style:u},c)},e.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(o,u){return eL.indexOf(u)!==-1||(o[u]=n.props[u]),o},{}),i=_n(_n(_n({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(i.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return L(s,_n({ref:this.ref,style:i,className:this.props.className},r),this.state.isResizing&&L("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(ps);function tL(){const e=me(zs).mangaid+"/readerplaybar/width",[n]=ie(localStorage.getItem(e)||"50px"),r={display:"flex",justifyContent:"center",background:"#000000"},i={height:"100%",width:"15px",marginTop:"-1px",borderRadius:"2px",transition:"background-color 0.2s ease-in-out"};function s(o,u,a,l){localStorage.setItem(e,a.offsetWidth.toString()+"px")}return v(N,{children:v(GE,{className:"resizable re-readerplaybar",style:r,defaultSize:{width:n,height:"fit-content"},minWidth:"64px",maxWidth:"20vw",enable:{top:!1,right:!0,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},handleClasses:{right:"righthandle"},handleStyles:{right:i},onResizeStop:s,children:v("div",{class:"readerplaybar",children:v("div",{children:"PLAY BAR"})})})})}function nL(){const t=me(zs),e=t.mangaid+"/readerpagearea/width",[n]=ie(localStorage.getItem(e)||"50vw"),r={display:"flex",justifyContent:"center",height:"fit-content",background:"#000000"},i={height:"100%",width:"15px",marginTop:"-1px",borderRadius:"2px",transition:"background-color 0.2s ease-in-out"};function s(m,g,p,y){localStorage.setItem(e,p.offsetWidth.toString()+"px"),u.update(u)}const{langMeta:o}=Sc(t),u=me(em),a=gn();Ve(()=>{if(a.current){const m=a.current;new ResizeObserver(()=>{u.viewWidth=m.offsetWidth}).observe(m)}},[]);const[,l]=ie(0);function c(m){l(g=>(g==m.pages.length-1&&m.isLoaded()&&m.update(m),g+1))}const h=Qe(()=>u.pages?(l(0),u.pages.map(m=>{const g=m.getImg(),p=gn();function y(){const _=p.current;if(!_||!_.naturalHeight||!_.naturalWidth||!_.offsetHeight||_.offsetHeight==0){setTimeout(()=>y(),100);return}m.origSize.height=_.naturalHeight,m.origSize.width=_.naturalWidth,m.viewHeight=_.offsetHeight;const w=new ResizeObserver(()=>{m.viewHeight=_.offsetHeight});m.loaded=!0,w.observe(_),u.viewWidth=_.offsetWidth,c(u)}return v("img",{ref:p,id:g.id,src:g.src,onLoad:y},g.src)})):v("div",{children:"Loading..."}),[t.chapid,t.langid,t.mangaid]),f=pa(),d=fa();return v(N,{children:v(GE,{className:"resizable re-readerpagearea",style:r,defaultSize:{width:n,height:"fit-content"},minWidth:"200px",maxWidth:"80vw",enable:{top:!1,right:!0,bottom:!1,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},handleClasses:{right:"righthandle"},handleStyles:{right:i},onResizeStop:s,children:v("div",{class:"readerpagearea",children:[v("div",{class:"pagecontainer",ref:a,children:h}),v("div",{class:"pagebottom",children:v("button",{class:"nextchap",onClick:()=>{u.scrollTo("px",0);const m=d.pathname.split("/").slice(0,-1).join("/")+"/"+Go(o.chap(jE(t)+1).name);f(m)},children:"NEXT CHAPTER"})})]})})})}const rL={"second-eruption":{chapters:[{numeral:1,notes:[{type:"text",category:"extra",position:50,content:{title:"TEST TITLE",text:"this is a regular text note that has a bunch of text. i want it to be at least a couple sentences long so that I can figure out what is a good size even for a larger amount of text lmao. "}}]},{numeral:35,notes:[{type:"text",category:"extra",position:50,content:{title:"TEST TITLE",text:"this is a regular text note that has a bunch of text. i want it to be at least a couple sentences long so that I can figure out what is a good size even for a larger amount of text lmao. "},credit:["ayrlin"]},{type:"text",category:"language",position:150,content:{title:"TEST LANG",text:"this is a regular text note that has a bunch of text. i want it to be at least a couple sentences long so that I can figure out what is a good size even for a larger amount of text lmao. "},credit:["ayrlin"]},{type:"definition",category:"language",position:120,content:{title:"TEST DEFINITION",text:"definition label/comment",search:"oblique"},credit:["ayrlin"]},{type:"definition",category:"language",position:230,content:{title:"TEST DEFINITION",text:"",search:"credit"},credit:["ayrlin"]},{type:"definition",category:"language",position:450,content:{title:"TEST DEFINITION",text:"",search:"yuri"},credit:["ayrlin"]},{type:"embed",category:"language",position:170,content:{title:"TEST EMBED",text:"wiki article on poinsettias",link:"https://en.m.wikipedia.org/wiki/Poinsettia"},credit:["ayrlin"]},{type:"embed",category:"language",position:210,content:{title:"TEST EMBED",text:"",link:"https://en.m.wikipedia.org/wiki/Poinsettia"},credit:["ayrlin"]},{type:"text",category:"extra",position:60,content:{title:"A SECOND TEST LOL",text:`222 this is a regular text note that has a bunch of text. i want it to be at least a couple sentences long so that I can figure out what is a good size even for a larger amount of text lmao. \r
 so how do i add linebreaks does this work lololololol`},credit:["ayrlin","ayrlin2"],tags:["tagtest"]},{type:"text",category:"extra",position:85,content:{title:"ehehehe",text:"efsafeefs a regular text note that has a bunch of text. i want it to be at least a couple sentences long so that I can figure out what is a good size even for a larger amount of text lmao. "}},{type:"text",category:"extra",position:90,content:{title:"test threee",text:"333 this is a regular text note that has a bunch of text. i want it to be at least a couple sentences long so that I can figure out what is a good size even for a larger amount of text lmao. "}},{type:"text",category:"extra",position:310,content:{title:"page24",text:"222 thiwlar text note that has a bunch of text. i want it to be at least a couple sentences long so that I can figure out what is a good size even for a larger amount of text lmao. "}},{type:"text",category:"extra",position:390,content:{title:"page23",text:"t. i want it to be at least a couple sentences long so that I can figure out what is a good size even for a larger amount of text lmao. "}}]}]}};var Vp={},iL=it;Object.defineProperty(Vp,"__esModule",{value:!0});var Lp=Vp.default=void 0,sL=iL(st()),oL=Ye(),aL=(0,sL.default)((0,oL.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),"VolumeUp");Lp=Vp.default=aL;function uL({src:t,icon:e}){const n=t.split(".").pop(),r=gn();function i(){r.current&&r.current.play()}return v(N,{children:v("div",{class:"audioplayer",children:[v("div",{class:"icon",children:v("button",{class:"audioplay",onClick:i,children:e===!0?v(Lp,{}):e})}),v("audio",{ref:r,children:v("source",{src:t,type:"audio/"+n})})]})})}function QE({term:t}){const[e,n]=ie(null);Ve(()=>{(async()=>{try{const s=await fetch("https://api.dictionaryapi.dev/api/v2/entries/en/"+t);if(!s.ok)throw new Error("Network response was not ok");n(null);const o=await s.json();n(o)}catch(s){console.warn("Error while fetching dictionary result for: "+t),console.warn(s)}})()},[t]);var r;if(e){const i=e[0];r=v(N,{children:[v("div",{class:"emcard phonetics",children:i.phonetics&&i.phonetics[0]&&i.phonetics[0].audio?v(N,{children:[v(uL,{src:i.phonetics[0].audio,icon:!0}),v("div",{children:[v("a",{href:i.phonetics[0].sourceUrl,class:"source",target:"_blank",children:"Source"}),i.phonetics[0].license?v("a",{href:i.phonetics[0].license.url?i.phonetics[0].license.url:"",class:"license",target:"_blank",children:i.phonetics[0].license.name?i.phonetics[0].license.name:""}):""]})]}):""}),v("div",{class:"emcard term",children:[v("div",{class:"word",children:i.word}),v("div",{class:"phonetic",children:i.phonetic})]}),i.meanings.map(s=>v("div",{class:"emcard meaning",children:[v("div",{class:"partofspeech",children:s.partOfSpeech}),v("div",{class:"definitions",children:s.definitions.map(o=>v("div",{children:[v("div",{class:"text",children:[v("div",{class:"label",children:"definition"}),v("div",{class:"value",children:o.definition})]}),o.synonyms.length>0?v("div",{class:"synonyms",children:[v("div",{class:"label",children:"synonyms"}),v("div",{class:"value",children:o.synonyms.join(", ")})]}):v(N,{}),o.antonyms.length>0?v("div",{class:"antonyms",children:[v("div",{class:"label",children:"antonyms"}),v("div",{class:"value",children:o.antonyms.join(", ")})]}):v(N,{})]}))})]})),v("div",{class:"emcard licensecard",children:v("a",{href:i.license.url,class:"license",target:"_blank",children:i.license.name})}),v("div",{class:"emcard sources",children:i.sourceUrls.map(s=>v("a",{href:s,class:"sourceUrl",target:"_blank",children:s}))})]})}return v(N,{children:v("div",{class:"dictionaryembed",children:e?v("div",{children:r}):v("div",{class:"error",children:t?"Error looking up '"+t+"', google it ok? :3":""})})})}var Np={},lL=it;Object.defineProperty(Np,"__esModule",{value:!0});var Fp=Np.default=void 0,cL=lL(st()),hL=Ye(),dL=(0,cL.default)((0,hL.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 9h12v2H6V9zm8 5H6v-2h8v2zm4-6H6V6h12v2z"}),"Chat");Fp=Np.default=dL;var $p={},fL=it;Object.defineProperty($p,"__esModule",{value:!0});var YE=$p.default=void 0,pL=fL(st()),mL=Ye(),gL=(0,pL.default)((0,mL.jsx)("path",{d:"M20 3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h3l-1 1v2h12v-2l-1-1h3c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 13H4V5h16v11z"}),"Monitor");YE=$p.default=gL;var Up={},vL=it;Object.defineProperty(Up,"__esModule",{value:!0});var XE=Up.default=void 0,yL=vL(st()),_L=Ye(),bL=(0,yL.default)((0,_L.jsx)("path",{d:"M21 11h-1.5v-.5h-2v3h2V13H21v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1v1zM8 10v5H6.5v-1.5h-2V15H3v-5c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zm-1.5.5h-2V12h2v-1.5zm7 1.5c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1h-4V9h4c.55 0 1 .45 1 1v1c0 .55-.45 1-1 1zM11 10.5v.75h2v-.75h-2zm2 2.25h-2v.75h2v-.75z"}),"Abc");XE=Up.default=bL;function EL({type:t,note:e,expanded:n,transitioning:r,onClick:i}){const s=Qe(()=>{var o=v(N,{children:"??"}),u=v("div",{class:"ntext",children:"invalid note type!"});switch(t){case"text":o=v(Fp,{}),u=v(N,{children:v("div",{class:"ntext",children:e.content.text})});break;case"embed":o=v(YE,{}),u=v(N,{children:[e.content.text?v("div",{class:"ntext",children:[" ",e.content.text," "]}):v(N,{}),v("div",{class:"embedframe",children:v("iframe",{src:e.content.link,frameborder:"0"})})]});break;case"definition":o=v(XE,{}),u=v(N,{children:[e.content.text?v("div",{class:"ntext",children:[" ",e.content.text," "]}):v(N,{}),v("div",{class:"embedframe",children:v(QE,{term:e.content.search})})]});break}return{btnIcon:o,noteContent:u}},[t,e]);return v(N,{children:[v("div",{class:"noteicon notetype"+t,onClick:o=>i(o,n),children:v("button",{tabindex:-1,children:s.btnIcon})}),v("div",{class:"notecardwrapper",children:!n&&!r?"":Qe(()=>{var o;return v(N,{children:[v("div",{class:"notecard notetype"+t,children:[v("h3",{class:"ntitle",children:[" ",e.content.title," "]}),s.noteContent]}),v("div",{class:"credit",style:e.credit?"":"display: none",children:[" ","- "+(((o=e.credit)==null?void 0:o.join(", "))||"")," "]})]})},[s.noteContent])})]})}function wL({type:t,pos:e,note:n}){const[r,i]=ie(!1),[s,o]=ie(!1),u=gn();function a(g,p){l(),i(!p)}function l(){var g=300;o(!0),setTimeout(()=>{o(!1)},g)}Ve(()=>{of(ks(),()=>{l()})},[]);const h=me(zs).mangaid+"|pnl|notes|sld|ctg|"+n.category;let f=!1;const{status:d,data:m}=$E();return d==null||d==="success"&&(f=m.prefs[h]),v(N,{children:v("div",{class:"readernote"+(f?"":" hidden")+(r?" noteexp":""),style:"top:"+e+"px;",ref:u,children:v(EL,{type:t,note:n,expanded:r,transitioning:s,onClick:a})})})}function su({id:t,icon:e,onClick:n,onMouseOver:r,onMouseOut:i,toClipboardText:s,toClipboardImageSrc:o,toClipboardCallback:u,tab:a}){function l(p){s&&m(),o&&g(),n&&n(p)}function c(p){r&&r(p)}const h=gn();function f(p){h.current.classList.remove("active"),i&&i(p)}function d(p,y){h.current&&(y?h.current.classList.add("active"):h.current.classList.remove("active"))}function m(){navigator.clipboard.writeText(s||"")}async function g(){if(o){var p=!1;try{const _=await(await fetch(o.src)).blob(),w=o.type;console.log(_),navigator.clipboard.write([new ClipboardItem({[w]:_})]),p=!0}catch(y){console.error(y)}u&&u(p)}}return v(N,{children:v("button",{id:t,class:"sharebutton",tabindex:a==!0?NaN:-1,onClick:p=>l(p),onMouseOver:p=>c(p),onMouseOut:p=>f(p),onMouseDown:p=>d(p,!0),onMouseUp:p=>d(p,!1),ref:h,children:e})})}var zp={},TL=it;Object.defineProperty(zp,"__esModule",{value:!0});var Au=zp.default=void 0,IL=TL(st()),SL=Ye(),CL=(0,IL.default)((0,SL.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");Au=zp.default=CL;var jp={},AL=it;Object.defineProperty(jp,"__esModule",{value:!0});var Rd=jp.default=void 0,RL=AL(st()),PL=Ye(),xL=(0,RL.default)((0,PL.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"}),"Link");Rd=jp.default=xL;var Bp={},OL=it;Object.defineProperty(Bp,"__esModule",{value:!0});var JE=Bp.default=void 0,DL=OL(st()),kL=Ye(),ML=(0,DL.default)((0,kL.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}),"FileDownloadOutlined");JE=Bp.default=ML;var Hp={},VL=it;Object.defineProperty(Hp,"__esModule",{value:!0});var Pd=Hp.default=void 0,LL=VL(st()),NL=Ye(),FL=(0,LL.default)((0,NL.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image");Pd=Hp.default=FL;function $L({pos:t,index:e}){const n=location.hostname=="localhost"?`${location.hostname}:${location.port}`:location.hostname,i=`${location.protocol}//${n}${location.pathname}`+"#page"+e,[s,o]=ie(""),[u,a]=ie(!1);var l=void 0,c=!1;function h(w){c=!0,o(w),a(!0),setTimeout(()=>a(!1),0),clearTimeout(l),l=setTimeout(()=>{o(""),c=!1},1e3)}function f(){h("Page Link Copied!")}function d(){h("Image Link Copied!")}function m(w){h(w?"Image Copied!":"Denied! Try right-click!")}function g(){h("Downloading!")}function p(w){c||o(w)}function y(){c||o("")}const _=Qe(()=>v(N,{children:[v(su,{id:"sharepagelink",icon:v(Cu,{primary:v(Au,{}),left:v(Rd,{})}),toClipboardText:i,onClick:f,onMouseOver:()=>p("Copy Page Link"),onMouseOut:y}),v(su,{id:"copyimagelink",icon:v(Cu,{primary:v(Au,{}),left:v(Pd,{}),right:v(Rd,{})}),onClick:d,onMouseOver:()=>p("Copy Image Link"),onMouseOut:y}),v(su,{id:"copyimage",icon:v(Cu,{primary:v(Au,{}),left:v(Pd,{})}),toClipboardCallback:w=>m(w),onMouseOver:()=>p("Copy Image"),onMouseOut:y}),v(su,{id:"dlimage",icon:v(JE,{}),onClick:g,onMouseOver:()=>p("Download Image"),onMouseOut:y})]}),[e]);return v(N,{children:v("div",{class:"pagelabel",style:"top:"+t.toString()+"px;",children:[v("div",{class:"pagenumber",children:[v("div",{class:"text",children:"page"}),v("div",{class:"number",children:e})]}),v("div",{class:"linkbox",children:[v("div",{class:"links",children:_}),v("div",{class:"feedback "+(u?"flash":""),children:s})]})]})})}function UL(){const t=me(em),e=me(zs),[n,r]=ie(1);if(n>0){if(!t.isLoaded()||t.viewWidth<=0)return setTimeout(()=>r(n+1),500),v("div",{children:["Loading...",v("div",{children:n})]});r(1)}const{chapMeta:i,chapNumeral:s}=Sc(e),o=i.getPageCount();if(!e.chapid||!s||!o)return console.warn({mNav_chapter:e.chapid}),v("div",{class:"notebarerror",children:"Loading..."});const a=rL[e.mangaid].chapters.find(d=>d.numeral===s);if(a!=null&&a==null)return console.warn("could not find notes for chapter",s),v("div",{class:"notebarerror",children:["Huh? Unable to load notes for ",i.name]});const l=()=>{const d=[];if(a){const m=Array.from({length:a.notes.length},(p,y)=>s+"."+y);a.notes.sort((p,y)=>p.position-y.position);let g=0;for(const p of a.notes)d.push(v(N,{children:v(wL,{type:p.type,pos:t.posToPx(t,p.position),note:p},m[g])})),g++}return d},c=gn(),h=gn();return v(N,{children:v("div",{class:"readernotebar",children:[v("div",{class:"pagelabelcontainer",ref:h,children:Array.from({length:o},(d,m)=>v($L,{pos:t.heightUpTo(t,m+1),index:m+1}))}),v("div",{class:"notecontainer",ref:c,children:l()})]})})}function zL(){const t=pa();return v(N,{children:v("div",{class:"readermenuheader",onClick:()=>t("/"),children:[v(Ic,{}),v("div",{class:"bh-wordmark",children:[v("div",{children:"BLADE"}),v("div",{children:"HEART"})]})]})})}function $r({id:t,content:e,subContent:n}){return v(N,{children:v("div",{class:"menuitem labelmenuitem",id:t,children:[v("div",{class:"content",children:[" ",e," "]}),v("div",{class:"subcontent",children:[" ",n," "]})]})})}function jL(){return v(N,{children:v("div",{class:"accountmenuitem menuitem",children:v(zE,{})})})}function gi(t){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(t)}function BL(t,e){if(gi(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZE(t){var e=BL(t,"string");return gi(e)=="symbol"?e:String(e)}function uo(t,e,n){return e=ZE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ry(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ry(Object(n),!0).forEach(function(r){uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ry(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HL(t){if(Array.isArray(t))return t}function WL(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,u=[],a=!0,l=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=s.call(n)).done)&&(u.push(r.value),u.length!==e);a=!0);}catch(c){l=!0,i=c}finally{try{if(!a&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return u}}function xd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ew(t,e){if(t){if(typeof t=="string")return xd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xd(t,e)}}function qL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yn(t,e){return HL(t)||WL(t,e)||ew(t,e)||qL()}function or(t,e){if(t==null)return{};var n=$n(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var KL=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function GL(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,u=t.inputValue,a=t.menuIsOpen,l=t.onChange,c=t.onInputChange,h=t.onMenuClose,f=t.onMenuOpen,d=t.value,m=or(t,KL),g=ie(u!==void 0?u:n),p=Yn(g,2),y=p[0],_=p[1],w=ie(a!==void 0?a:i),T=Yn(w,2),A=T[0],b=T[1],S=ie(d!==void 0?d:o),P=Yn(S,2),x=P[0],V=P[1],H=Re(function(gt,$t){typeof l=="function"&&l(gt,$t),V(gt)},[l]),G=Re(function(gt,$t){var Vt;typeof c=="function"&&(Vt=c(gt,$t)),_(Vt!==void 0?Vt:gt)},[c]),le=Re(function(){typeof f=="function"&&f(),b(!0)},[f]),pe=Re(function(){typeof h=="function"&&h(),b(!1)},[h]),be=u!==void 0?u:y,Se=a!==void 0?a:A,ge=d!==void 0?d:x;return Q(Q({},m),{},{inputValue:be,menuIsOpen:Se,onChange:H,onInputChange:G,onMenuClose:pe,onMenuOpen:le,value:ge})}function QL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZE(r.key),r)}}function YL(t,e,n){return e&&iy(t.prototype,e),n&&iy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Od(t,e){return Od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Od(t,e)}function XL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Od(t,e)}function al(t){return al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},al(t)}function tw(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tw=function(){return!!t})()}function JL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(t,e){if(e&&(gi(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JL(t)}function eN(t){var e=tw();return function(){var r=al(t),i;if(e){var s=al(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ZL(this,i)}}function tN(t){if(Array.isArray(t))return xd(t)}function nN(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wp(t){return tN(t)||nN(t)||ew(t)||rN()}function iN(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}const sN=Math.min,oN=Math.max,ul=Math.round,ou=Math.floor,ll=t=>({x:t,y:t});function aN(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function nw(t){return iw(t)?(t.nodeName||"").toLowerCase():"#document"}function mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rw(t){var e;return(e=(iw(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iw(t){return t instanceof Node||t instanceof mn(t).Node}function Dd(t){return t instanceof Element||t instanceof mn(t).Element}function qp(t){return t instanceof HTMLElement||t instanceof mn(t).HTMLElement}function sy(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof mn(t).ShadowRoot}function sw(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Kp(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function uN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lN(t){return["html","body","#document"].includes(nw(t))}function Kp(t){return mn(t).getComputedStyle(t)}function cN(t){if(nw(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sy(t)&&t.host||rw(t);return sy(e)?e.host:e}function ow(t){const e=cN(t);return lN(e)?t.ownerDocument?t.ownerDocument.body:t.body:qp(e)&&sw(e)?e:ow(e)}function cl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ow(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=mn(i);return s?e.concat(o,o.visualViewport||[],sw(i)?i:[],o.frameElement&&n?cl(o.frameElement):[]):e.concat(i,cl(i,[],n))}function hN(t){const e=Kp(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=qp(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,u=ul(n)!==s||ul(r)!==o;return u&&(n=s,r=o),{width:n,height:r,$:u}}function Gp(t){return Dd(t)?t:t.contextElement}function ph(t){const e=Gp(t);if(!qp(e))return ll(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=hN(e);let o=(s?ul(n.width):n.width)/r,u=(s?ul(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const dN=ll(0);function fN(t){const e=mn(t);return!uN()||!e.visualViewport?dN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==mn(t)?!1:e}function oy(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Gp(t);let o=ll(1);e&&(r?Dd(r)&&(o=ph(r)):o=ph(t));const u=pN(s,n,r)?fN(s):ll(0);let a=(i.left+u.x)/o.x,l=(i.top+u.y)/o.y,c=i.width/o.x,h=i.height/o.y;if(s){const f=mn(s),d=r&&Dd(r)?mn(r):r;let m=f.frameElement;for(;m&&r&&d!==f;){const g=ph(m),p=m.getBoundingClientRect(),y=Kp(m),_=p.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,w=p.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;a*=g.x,l*=g.y,c*=g.x,h*=g.y,a+=_,l+=w,m=mn(m).frameElement}}return aN({width:c,height:h,x:a,y:l})}function mN(t,e){let n=null,r;const i=rw(t);function s(){clearTimeout(r),n&&n.disconnect(),n=null}function o(u,a){u===void 0&&(u=!1),a===void 0&&(a=1),s();const{left:l,top:c,width:h,height:f}=t.getBoundingClientRect();if(u||e(),!h||!f)return;const d=ou(c),m=ou(i.clientWidth-(l+h)),g=ou(i.clientHeight-(c+f)),p=ou(l),_={rootMargin:-d+"px "+-m+"px "+-g+"px "+-p+"px",threshold:oN(0,sN(1,a))||1};let w=!0;function T(A){const b=A[0].intersectionRatio;if(b!==a){if(!w)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(T,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(T,_)}n.observe(t)}return o(!0),s}function gN(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,l=Gp(t),c=i||s?[...l?cl(l):[],...cl(e)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const h=l&&u?mN(l,n):null;let f=-1,d=null;o&&(d=new ResizeObserver(y=>{let[_]=y;_&&_.target===l&&d&&(d.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{d&&d.observe(e)})),n()}),l&&!a&&d.observe(l),d.observe(e));let m,g=a?oy(t):null;a&&p();function p(){const y=oy(t);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&n(),g=y,m=requestAnimationFrame(p)}return n(),()=>{c.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),h&&h(),d&&d.disconnect(),d=null,a&&cancelAnimationFrame(m)}}var kd=rr,vN=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],hl=function(){};function yN(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function _N(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(yN(t,o)));return s.filter(function(u){return u}).map(function(u){return String(u).trim()}).join(" ")}var ay=function(e){return RN(e)?e.filter(Boolean):gi(e)==="object"&&e!==null?[e]:[]},aw=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=or(e,vN);return Q({},n)},ze=function(e,n,r){var i=e.cx,s=e.getStyles,o=e.getClassNames,u=e.className;return{css:s(n,e),className:i(r??{},o(n,e),u)}};function Cc(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function bN(t){return Cc(t)?window.innerHeight:t.clientHeight}function uw(t){return Cc(t)?window.pageYOffset:t.scrollTop}function dl(t,e){if(Cc(t)){window.scrollTo(0,e);return}t.scrollTop=e}function EN(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function wN(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function au(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:hl,i=uw(t),s=e-i,o=10,u=0;function a(){u+=o;var l=wN(u,i,s,n);dl(t,l),u<n?window.requestAnimationFrame(a):r(t)}a()}function uy(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?dl(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&dl(t,Math.max(e.offsetTop-i,0))}function TN(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function ly(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function IN(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var lw=!1,SN={get passive(){return lw=!0}},uu=typeof window<"u"?window:{};uu.addEventListener&&uu.removeEventListener&&(uu.addEventListener("p",hl,SN),uu.removeEventListener("p",hl,!1));var CN=lw;function AN(t){return t!=null}function RN(t){return Array.isArray(t)}function lu(t,e,n){return t?e:n}var PN=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=Object.entries(e).filter(function(o){var u=Yn(o,1),a=u[0];return!r.includes(a)});return s.reduce(function(o,u){var a=Yn(u,2),l=a[0],c=a[1];return o[l]=c,o},{})},xN=["children","innerProps"],ON=["children","innerProps"];function DN(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,s=t.shouldScroll,o=t.isFixedPosition,u=t.controlHeight,a=EN(n),l={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return l;var c=a.getBoundingClientRect(),h=c.height,f=n.getBoundingClientRect(),d=f.bottom,m=f.height,g=f.top,p=n.offsetParent.getBoundingClientRect(),y=p.top,_=o?window.innerHeight:bN(a),w=uw(a),T=parseInt(getComputedStyle(n).marginBottom,10),A=parseInt(getComputedStyle(n).marginTop,10),b=y-A,S=_-g,P=b+w,x=h-w-g,V=d-_+w+T,H=w+g-A,G=160;switch(i){case"auto":case"bottom":if(S>=m)return{placement:"bottom",maxHeight:e};if(x>=m&&!o)return s&&au(a,V,G),{placement:"bottom",maxHeight:e};if(!o&&x>=r||o&&S>=r){s&&au(a,V,G);var le=o?S-T:x-T;return{placement:"bottom",maxHeight:le}}if(i==="auto"||o){var pe=e,be=o?b:P;return be>=r&&(pe=Math.min(be-T-u,e)),{placement:"top",maxHeight:pe}}if(i==="bottom")return s&&dl(a,V),{placement:"bottom",maxHeight:e};break;case"top":if(b>=m)return{placement:"top",maxHeight:e};if(P>=m&&!o)return s&&au(a,H,G),{placement:"top",maxHeight:e};if(!o&&P>=r||o&&b>=r){var Se=e;return(!o&&P>=r||o&&b>=r)&&(Se=o?b-A:P-A),s&&au(a,H,G),{placement:"top",maxHeight:Se}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return l}function kN(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var cw=function(e){return e==="auto"?"bottom":e},MN=function(e,n){var r,i=e.placement,s=e.theme,o=s.borderRadius,u=s.spacing,a=s.colors;return Q((r={label:"menu"},uo(r,kN(i),"100%"),uo(r,"position","absolute"),uo(r,"width","100%"),uo(r,"zIndex",1),r),n?{}:{backgroundColor:a.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:u.menuGutter,marginTop:u.menuGutter})},hw=ft(null),VN=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,u=e.menuShouldScrollIntoView,a=e.theme,l=me(hw)||{},c=l.setPortalPlacement,h=ct(null),f=ie(i),d=Yn(f,2),m=d[0],g=d[1],p=ie(null),y=Yn(p,2),_=y[0],w=y[1],T=a.spacing.controlHeight;return kd(function(){var A=h.current;if(A){var b=o==="fixed",S=u&&!b,P=DN({maxHeight:i,menuEl:A,minHeight:r,placement:s,shouldScroll:S,isFixedPosition:b,controlHeight:T});g(P.maxHeight),w(P.placement),c==null||c(P.placement)}},[i,s,o,u,r,c,T]),n({ref:h,placerProps:Q(Q({},e),{},{placement:_||cw(s),maxHeight:m})})},LN=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return q("div",M({},ze(e,"menu",{menu:!0}),{ref:r},i),n)},NN=LN,FN=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Q({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},$N=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,s=e.isMulti;return q("div",M({},ze(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:i},r),n)},dw=function(e,n){var r=e.theme,i=r.spacing.baseUnit,s=r.colors;return Q({textAlign:"center"},n?{}:{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},UN=dw,zN=dw,jN=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,s=or(e,xN);return q("div",M({},ze(Q(Q({},s),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},BN=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,s=or(e,ON);return q("div",M({},ze(Q(Q({},s),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},HN=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},WN=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,s=e.innerProps,o=e.menuPlacement,u=e.menuPosition,a=ct(null),l=ct(null),c=ie(cw(o)),h=Yn(c,2),f=h[0],d=h[1],m=Qe(function(){return{setPortalPlacement:d}},[]),g=ie(null),p=Yn(g,2),y=p[0],_=p[1],w=Re(function(){if(i){var S=TN(i),P=u==="fixed"?0:window.pageYOffset,x=S[f]+P;(x!==(y==null?void 0:y.offset)||S.left!==(y==null?void 0:y.rect.left)||S.width!==(y==null?void 0:y.rect.width))&&_({offset:x,rect:S})}},[i,u,f,y==null?void 0:y.offset,y==null?void 0:y.rect.left,y==null?void 0:y.rect.width]);kd(function(){w()},[w]);var T=Re(function(){typeof l.current=="function"&&(l.current(),l.current=null),i&&a.current&&(l.current=gN(i,a.current,w,{elementResize:"ResizeObserver"in window}))},[i,w]);kd(function(){T()},[T]);var A=Re(function(S){a.current=S,T()},[T]);if(!n&&u!=="fixed"||!y)return null;var b=q("div",M({ref:A},ze(Q(Q({},e),{},{offset:y.offset,position:u,rect:y.rect}),"menuPortal",{"menu-portal":!0}),s),r);return q(hw.Provider,{value:m},n?Ud(b,n):b)},qN=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},KN=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,s=e.isRtl;return q("div",M({},ze(e,"container",{"--is-disabled":i,"--is-rtl":s}),r),n)},GN=function(e,n){var r=e.theme.spacing,i=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Q({alignItems:"center",display:i&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},QN=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,s=e.hasValue;return q("div",M({},ze(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":s}),r),n)},YN=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},XN=function(e){var n=e.children,r=e.innerProps;return q("div",M({},ze(e,"indicatorsContainer",{indicators:!0}),r),n)},cy,JN=["size"],ZN=["innerProps","isRtl","size"],eF={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},fw=function(e){var n=e.size,r=or(e,JN);return q("svg",M({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:eF},r))},Qp=function(e){return q(fw,M({size:20},e),q("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},pw=function(e){return q(fw,M({size:20},e),q("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},mw=function(e,n){var r=e.isFocused,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Q({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},tF=mw,nF=function(e){var n=e.children,r=e.innerProps;return q("div",M({},ze(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||q(pw,null))},rF=mw,iF=function(e){var n=e.children,r=e.innerProps;return q("div",M({},ze(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||q(Qp,null))},sF=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing.baseUnit,o=i.colors;return Q({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},oF=function(e){var n=e.innerProps;return q("span",M({},n,ze(e,"indicatorSeparator",{"indicator-separator":!0})))},aF=OP(cy||(cy=iN([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),uF=function(e,n){var r=e.isFocused,i=e.size,s=e.theme,o=s.colors,u=s.spacing.baseUnit;return Q({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:u*2})},mh=function(e){var n=e.delay,r=e.offset;return q("span",{css:Ef({animation:"".concat(aF," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},lF=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,s=i===void 0?4:i,o=or(e,ZN);return q("div",M({},ze(Q(Q({},o),{},{innerProps:n,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),q(mh,{delay:0,offset:r}),q(mh,{delay:160,offset:!0}),q(mh,{delay:320,offset:!r}))},cF=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.theme,o=s.colors,u=s.borderRadius,a=s.spacing;return Q({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:u,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},hF=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.innerRef,o=e.innerProps,u=e.menuIsOpen;return q("div",M({ref:s},ze(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":u}),o,{"aria-disabled":r||void 0}),n)},dF=hF,fF=["data"],pF=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},mF=function(e){var n=e.children,r=e.cx,i=e.getStyles,s=e.getClassNames,o=e.Heading,u=e.headingProps,a=e.innerProps,l=e.label,c=e.theme,h=e.selectProps;return q("div",M({},ze(e,"group",{group:!0}),a),q(o,M({},u,{selectProps:h,theme:c,getStyles:i,getClassNames:s,cx:r}),l),q("div",null,n))},gF=function(e,n){var r=e.theme,i=r.colors,s=r.spacing;return Q({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},vF=function(e){var n=aw(e);n.data;var r=or(n,fF);return q("div",M({},ze(e,"groupHeading",{"group-heading":!0}),r))},yF=mF,_F=["innerRef","isDisabled","isHidden","inputClassName"],bF=function(e,n){var r=e.isDisabled,i=e.value,s=e.theme,o=s.spacing,u=s.colors;return Q(Q({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},EF),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:u.neutral80})},gw={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},EF={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Q({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},gw)},wF=function(e){return Q({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},gw)},TF=function(e){var n=e.cx,r=e.value,i=aw(e),s=i.innerRef,o=i.isDisabled,u=i.isHidden,a=i.inputClassName,l=or(i,_F);return q("div",M({},ze(e,"input",{"input-container":!0}),{"data-value":r||""}),q("input",M({className:n({input:!0},a),ref:s,style:wF(u),disabled:o},l)))},IF=TF,SF=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors;return Q({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:i.baseUnit/2})},CF=function(e,n){var r=e.theme,i=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Q({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},AF=function(e,n){var r=e.theme,i=r.spacing,s=r.borderRadius,o=r.colors,u=e.isFocused;return Q({alignItems:"center",display:"flex"},n?{}:{borderRadius:s/2,backgroundColor:u?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},vw=function(e){var n=e.children,r=e.innerProps;return q("div",r,n)},RF=vw,PF=vw;function xF(t){var e=t.children,n=t.innerProps;return q("div",M({role:"button"},n),e||q(Qp,{size:14}))}var OF=function(e){var n=e.children,r=e.components,i=e.data,s=e.innerProps,o=e.isDisabled,u=e.removeProps,a=e.selectProps,l=r.Container,c=r.Label,h=r.Remove;return q(l,{data:i,innerProps:Q(Q({},ze(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:a},q(c,{data:i,innerProps:Q({},ze(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:a},n),q(h,{data:i,innerProps:Q(Q({},ze(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},u),selectProps:a}))},DF=OF,kF=function(e,n){var r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.theme,u=o.spacing,a=o.colors;return Q({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:s?a.primary:i?a.primary25:"transparent",color:r?a.neutral20:s?a.neutral0:"inherit",padding:"".concat(u.baseUnit*2,"px ").concat(u.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?a.primary:a.primary50}})},MF=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,s=e.isSelected,o=e.innerRef,u=e.innerProps;return q("div",M({},ze(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":s}),{ref:o,"aria-disabled":r},u),n)},VF=MF,LF=function(e,n){var r=e.theme,i=r.spacing,s=r.colors;return Q({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},NF=function(e){var n=e.children,r=e.innerProps;return q("div",M({},ze(e,"placeholder",{placeholder:!0}),r),n)},FF=NF,$F=function(e,n){var r=e.isDisabled,i=e.theme,s=i.spacing,o=i.colors;return Q({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},UF=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return q("div",M({},ze(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},zF=UF,jF={ClearIndicator:iF,Control:dF,DropdownIndicator:nF,DownChevron:pw,CrossIcon:Qp,Group:yF,GroupHeading:vF,IndicatorsContainer:XN,IndicatorSeparator:oF,Input:IF,LoadingIndicator:lF,Menu:NN,MenuList:$N,MenuPortal:WN,LoadingMessage:BN,NoOptionsMessage:jN,MultiValue:DF,MultiValueContainer:RF,MultiValueLabel:PF,MultiValueRemove:xF,Option:VF,Placeholder:FF,SelectContainer:KN,SingleValue:zF,ValueContainer:QN},BF=function(e){return Q(Q({},jF),e.components)},hy=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function HF(t,e){return!!(t===e||hy(t)&&hy(e))}function WF(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!HF(t[n],e[n]))return!1;return!0}function qF(t,e){e===void 0&&(e=WF);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var KF={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},GF=function(e){return q("span",M({css:KF},e))},dy=GF,QF={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,s=e.label,o=s===void 0?"":s,u=e.selectValue,a=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,h=function(g,p){return g&&g.length?"".concat(g.indexOf(p)+1," of ").concat(g.length):""};if(n==="value"&&u)return"value ".concat(o," focused, ").concat(h(u,r),".");if(n==="menu"&&c){var f=a?" disabled":"",d="".concat(l?" selected":"").concat(f);return"".concat(o).concat(d,", ").concat(h(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},YF=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,s=e.focusableOptions,o=e.isFocused,u=e.selectValue,a=e.selectProps,l=e.id,c=e.isAppleDevice,h=a.ariaLiveMessages,f=a.getOptionLabel,d=a.inputValue,m=a.isMulti,g=a.isOptionDisabled,p=a.isSearchable,y=a.menuIsOpen,_=a.options,w=a.screenReaderStatus,T=a.tabSelectsValue,A=a.isLoading,b=a["aria-label"],S=a["aria-live"],P=Qe(function(){return Q(Q({},QF),h||{})},[h]),x=Qe(function(){var be="";if(n&&P.onChange){var Se=n.option,ge=n.options,gt=n.removedValue,$t=n.removedValues,Vt=n.value,Ut=function(ln){return Array.isArray(ln)?null:ln},Ce=gt||Se||Ut(Vt),Xe=Ce?f(Ce):"",Je=ge||$t||void 0,St=Je?Je.map(f):[],Ze=Q({isDisabled:Ce&&g(Ce,u),label:Xe,labels:St},n);be=P.onChange(Ze)}return be},[n,P,g,u,f]),V=Qe(function(){var be="",Se=r||i,ge=!!(r&&u&&u.includes(r));if(Se&&P.onFocus){var gt={focused:Se,label:f(Se),isDisabled:g(Se,u),isSelected:ge,options:s,context:Se===r?"menu":"value",selectValue:u,isAppleDevice:c};be=P.onFocus(gt)}return be},[r,i,f,g,P,s,u,c]),H=Qe(function(){var be="";if(y&&_.length&&!A&&P.onFilter){var Se=w({count:s.length});be=P.onFilter({inputValue:d,resultsMessage:Se})}return be},[s,d,y,P,_,w,A]),G=(n==null?void 0:n.action)==="initial-input-focus",le=Qe(function(){var be="";if(P.guidance){var Se=i?"value":y?"menu":"input";be=P.guidance({"aria-label":b,context:Se,isDisabled:r&&g(r,u),isMulti:m,isSearchable:p,tabSelectsValue:T,isInitialFocus:G})}return be},[b,r,i,m,g,p,y,P,u,T,G]),pe=q(N,null,q("span",{id:"aria-selection"},x),q("span",{id:"aria-focused"},V),q("span",{id:"aria-results"},H),q("span",{id:"aria-guidance"},le));return q(N,null,q(dy,{id:l},G&&pe),q(dy,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!G&&pe))},XF=YF,Md=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],JF=new RegExp("["+Md.map(function(t){return t.letters}).join("")+"]","g"),yw={};for(var gh=0;gh<Md.length;gh++)for(var vh=Md[gh],yh=0;yh<vh.letters.length;yh++)yw[vh.letters[yh]]=vh.base;var _w=function(e){return e.replace(JF,function(n){return yw[n]})},ZF=qF(_w),fy=function(e){return e.replace(/^\s+|\s+$/g,"")},e5=function(e){return"".concat(e.label," ").concat(e.value)},t5=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Q({ignoreCase:!0,ignoreAccents:!0,stringify:e5,trim:!0,matchFrom:"any"},e),s=i.ignoreCase,o=i.ignoreAccents,u=i.stringify,a=i.trim,l=i.matchFrom,c=a?fy(r):r,h=a?fy(u(n)):u(n);return s&&(c=c.toLowerCase(),h=h.toLowerCase()),o&&(c=ZF(c),h=_w(h)),l==="start"?h.substr(0,c.length)===c:h.indexOf(c)>-1}},n5=["innerRef"];function r5(t){var e=t.innerRef,n=or(t,n5),r=PN(n,"onExited","in","enter","exit","appear");return q("input",M({ref:e},r,{css:Ef({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var i5=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function s5(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,s=t.onTopLeave,o=ct(!1),u=ct(!1),a=ct(0),l=ct(null),c=Re(function(p,y){if(l.current!==null){var _=l.current,w=_.scrollTop,T=_.scrollHeight,A=_.clientHeight,b=l.current,S=y>0,P=T-A-w,x=!1;P>y&&o.current&&(r&&r(p),o.current=!1),S&&u.current&&(s&&s(p),u.current=!1),S&&y>P?(n&&!o.current&&n(p),b.scrollTop=T,x=!0,o.current=!0):!S&&-y>w&&(i&&!u.current&&i(p),b.scrollTop=0,x=!0,u.current=!0),x&&i5(p)}},[n,r,i,s]),h=Re(function(p){c(p,p.deltaY)},[c]),f=Re(function(p){a.current=p.changedTouches[0].clientY},[]),d=Re(function(p){var y=a.current-p.changedTouches[0].clientY;c(p,y)},[c]),m=Re(function(p){if(p){var y=CN?{passive:!1}:!1;p.addEventListener("wheel",h,y),p.addEventListener("touchstart",f,y),p.addEventListener("touchmove",d,y)}},[d,f,h]),g=Re(function(p){p&&(p.removeEventListener("wheel",h,!1),p.removeEventListener("touchstart",f,!1),p.removeEventListener("touchmove",d,!1))},[d,f,h]);return Ve(function(){if(e){var p=l.current;return m(p),function(){g(p)}}},[e,m,g]),function(p){l.current=p}}var py=["boxSizing","height","overflow","paddingRight","position"],my={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function gy(t){t.preventDefault()}function vy(t){t.stopPropagation()}function yy(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function _y(){return"ontouchstart"in window||navigator.maxTouchPoints}var by=!!(typeof window<"u"&&window.document&&window.document.createElement),eo=0,Vi={capture:!1,passive:!1};function o5(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=ct({}),s=ct(null),o=Re(function(a){if(by){var l=document.body,c=l&&l.style;if(r&&py.forEach(function(m){var g=c&&c[m];i.current[m]=g}),r&&eo<1){var h=parseInt(i.current.paddingRight,10)||0,f=document.body?document.body.clientWidth:0,d=window.innerWidth-f+h||0;Object.keys(my).forEach(function(m){var g=my[m];c&&(c[m]=g)}),c&&(c.paddingRight="".concat(d,"px"))}l&&_y()&&(l.addEventListener("touchmove",gy,Vi),a&&(a.addEventListener("touchstart",yy,Vi),a.addEventListener("touchmove",vy,Vi))),eo+=1}},[r]),u=Re(function(a){if(by){var l=document.body,c=l&&l.style;eo=Math.max(eo-1,0),r&&eo<1&&py.forEach(function(h){var f=i.current[h];c&&(c[h]=f)}),l&&_y()&&(l.removeEventListener("touchmove",gy,Vi),a&&(a.removeEventListener("touchstart",yy,Vi),a.removeEventListener("touchmove",vy,Vi)))}},[r]);return Ve(function(){if(e){var a=s.current;return o(a),function(){u(a)}}},[e,o,u]),function(a){s.current=a}}var a5=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},u5={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function l5(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,u=t.onTopArrive,a=t.onTopLeave,l=s5({isEnabled:i,onBottomArrive:s,onBottomLeave:o,onTopArrive:u,onTopLeave:a}),c=o5({isEnabled:n}),h=function(d){l(d),c(d)};return q(N,null,n&&q("div",{onClick:a5,css:u5}),e(h))}var c5={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},h5=function(e){var n=e.name,r=e.onFocus;return q("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:c5,value:"",onChange:function(){}})},d5=h5;function Yp(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function f5(){return Yp(/^iPhone/i)}function bw(){return Yp(/^Mac/i)}function p5(){return Yp(/^iPad/i)||bw()&&navigator.maxTouchPoints>1}function m5(){return f5()||p5()}function g5(){return bw()||m5()}var v5=function(e){return e.label},y5=function(e){return e.label},_5=function(e){return e.value},b5=function(e){return!!e.isDisabled},E5={clearIndicator:rF,container:qN,control:cF,dropdownIndicator:tF,group:pF,groupHeading:gF,indicatorsContainer:YN,indicatorSeparator:sF,input:bF,loadingIndicator:uF,loadingMessage:zN,menu:MN,menuList:FN,menuPortal:HN,multiValue:SF,multiValueLabel:CF,multiValueRemove:AF,noOptionsMessage:UN,option:kF,placeholder:LF,singleValue:$F,valueContainer:GN},w5={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},T5=4,Ew=4,I5=38,S5=Ew*2,C5={baseUnit:Ew,controlHeight:I5,menuGutter:S5},_h={borderRadius:T5,colors:w5,spacing:C5},A5={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ly(),captureMenuScroll:!ly(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:t5(),formatGroupLabel:v5,getOptionLabel:y5,getOptionValue:_5,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:b5,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!IN(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Ey(t,e,n,r){var i=Iw(t,e,n),s=Sw(t,e,n),o=Tw(t,e),u=fl(t,e);return{type:"option",data:e,isDisabled:i,isSelected:s,label:o,value:u,index:r}}function Ru(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,u){return Ey(t,o,e,u)}).filter(function(o){return Ty(t,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var s=Ey(t,n,e,r);return Ty(t,s)?s:void 0}).filter(AN)}function ww(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,Wp(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function wy(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,Wp(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function R5(t,e){return ww(Ru(t,e))}function Ty(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,s=e.isSelected,o=e.label,u=e.value;return(!Aw(t)||!s)&&Cw(t,{label:o,value:u,data:i},r)}function P5(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var s=e.indexOf(n);if(s>-1)return n;if(i<e.length)return e[i]}return null}function x5(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var bh=function(e,n){var r,i=(r=e.find(function(s){return s.data===n}))===null||r===void 0?void 0:r.id;return i||null},Tw=function(e,n){return e.getOptionLabel(n)},fl=function(e,n){return e.getOptionValue(n)};function Iw(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function Sw(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=fl(t,e);return n.some(function(i){return fl(t,i)===r})}function Cw(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var Aw=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},O5=1,Rw=function(t){XL(n,t);var e=eN(n);function n(r){var i;if(QL(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=g5(),i.controlRef=null,i.getControlRef=function(a){i.controlRef=a},i.focusedOptionRef=null,i.getFocusedOptionRef=function(a){i.focusedOptionRef=a},i.menuListRef=null,i.getMenuListRef=function(a){i.menuListRef=a},i.inputRef=null,i.getInputRef=function(a){i.inputRef=a},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(a,l){var c=i.props,h=c.onChange,f=c.name;l.name=f,i.ariaOnChange(a,l),h(a,l)},i.setValue=function(a,l,c){var h=i.props,f=h.closeMenuOnSelect,d=h.isMulti,m=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:m}),f&&(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(a,{action:l,option:c})},i.selectOption=function(a){var l=i.props,c=l.blurInputOnSelect,h=l.isMulti,f=l.name,d=i.state.selectValue,m=h&&i.isOptionSelected(a,d),g=i.isOptionDisabled(a,d);if(m){var p=i.getOptionValue(a);i.setValue(d.filter(function(y){return i.getOptionValue(y)!==p}),"deselect-option",a)}else if(!g)h?i.setValue([].concat(Wp(d),[a]),"select-option",a):i.setValue(a,"select-option");else{i.ariaOnChange(a,{action:"select-option",option:a,name:f});return}c&&i.blurInput()},i.removeValue=function(a){var l=i.props.isMulti,c=i.state.selectValue,h=i.getOptionValue(a),f=c.filter(function(m){return i.getOptionValue(m)!==h}),d=lu(l,f,f[0]||null);i.onChange(d,{action:"remove-value",removedValue:a}),i.focusInput()},i.clearValue=function(){var a=i.state.selectValue;i.onChange(lu(i.props.isMulti,[],null),{action:"clear",removedValues:a})},i.popValue=function(){var a=i.props.isMulti,l=i.state.selectValue,c=l[l.length-1],h=l.slice(0,l.length-1),f=lu(a,h,h[0]||null);i.onChange(f,{action:"pop-value",removedValue:c})},i.getFocusedOptionId=function(a){return bh(i.state.focusableOptionsWithIds,a)},i.getFocusableOptionsWithIds=function(){return wy(Ru(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return _N.apply(void 0,[i.props.classNamePrefix].concat(l))},i.getOptionLabel=function(a){return Tw(i.props,a)},i.getOptionValue=function(a){return fl(i.props,a)},i.getStyles=function(a,l){var c=i.props.unstyled,h=E5[a](l,c);h.boxSizing="border-box";var f=i.props.styles[a];return f?f(h,l):h},i.getClassNames=function(a,l){var c,h;return(c=(h=i.props.classNames)[a])===null||c===void 0?void 0:c.call(h,l)},i.getElementId=function(a){return"".concat(i.state.instancePrefix,"-").concat(a)},i.getComponents=function(){return BF(i.props)},i.buildCategorizedOptions=function(){return Ru(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return ww(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(a,l){i.setState({ariaSelection:Q({value:a},l)})},i.onMenuMouseDown=function(a){a.button===0&&(a.stopPropagation(),a.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(a){i.blockOptionHover=!1},i.onControlMouseDown=function(a){if(!a.defaultPrevented){var l=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&i.onMenuClose():l&&i.openMenu("first"):(l&&(i.openAfterFocus=!0),i.focusInput()),a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.preventDefault()}},i.onDropdownIndicatorMouseDown=function(a){if(!(a&&a.type==="mousedown"&&a.button!==0)&&!i.props.isDisabled){var l=i.props,c=l.isMulti,h=l.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!c}),i.onMenuClose()):i.openMenu("first"),a.preventDefault()}},i.onClearIndicatorMouseDown=function(a){a&&a.type==="mousedown"&&a.button!==0||(i.clearValue(),a.preventDefault(),i.openAfterFocus=!1,a.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(a){typeof i.props.closeMenuOnScroll=="boolean"?a.target instanceof HTMLElement&&Cc(a.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(a)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(a){var l=a.touches,c=l&&l.item(0);c&&(i.initialTouchX=c.clientX,i.initialTouchY=c.clientY,i.userIsDragging=!1)},i.onTouchMove=function(a){var l=a.touches,c=l&&l.item(0);if(c){var h=Math.abs(c.clientX-i.initialTouchX),f=Math.abs(c.clientY-i.initialTouchY),d=5;i.userIsDragging=h>d||f>d}},i.onTouchEnd=function(a){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(a.target)&&i.menuListRef&&!i.menuListRef.contains(a.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(a){i.userIsDragging||i.onControlMouseDown(a)},i.onClearIndicatorTouchEnd=function(a){i.userIsDragging||i.onClearIndicatorMouseDown(a)},i.onDropdownIndicatorTouchEnd=function(a){i.userIsDragging||i.onDropdownIndicatorMouseDown(a)},i.handleInputChange=function(a){var l=i.props.inputValue,c=a.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(c,{action:"input-change",prevInputValue:l}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(a){i.props.onFocus&&i.props.onFocus(a),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(a){var l=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(a),i.onInputChange("",{action:"input-blur",prevInputValue:l}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(a){if(!(i.blockOptionHover||i.state.focusedOption===a)){var l=i.getFocusableOptions(),c=l.indexOf(a);i.setState({focusedOption:a,focusedOptionId:c>-1?i.getFocusedOptionId(a):null})}},i.shouldHideSelectedOptions=function(){return Aw(i.props)},i.onValueInputFocus=function(a){a.preventDefault(),a.stopPropagation(),i.focus()},i.onKeyDown=function(a){var l=i.props,c=l.isMulti,h=l.backspaceRemovesValue,f=l.escapeClearsValue,d=l.inputValue,m=l.isClearable,g=l.isDisabled,p=l.menuIsOpen,y=l.onKeyDown,_=l.tabSelectsValue,w=l.openMenuOnFocus,T=i.state,A=T.focusedOption,b=T.focusedValue,S=T.selectValue;if(!g&&!(typeof y=="function"&&(y(a),a.defaultPrevented))){switch(i.blockOptionHover=!0,a.key){case"ArrowLeft":if(!c||d)return;i.focusValue("previous");break;case"ArrowRight":if(!c||d)return;i.focusValue("next");break;case"Delete":case"Backspace":if(d)return;if(b)i.removeValue(b);else{if(!h)return;c?i.popValue():m&&i.clearValue()}break;case"Tab":if(i.isComposing||a.shiftKey||!p||!_||!A||w&&i.isOptionSelected(A,S))return;i.selectOption(A);break;case"Enter":if(a.keyCode===229)break;if(p){if(!A||i.isComposing)return;i.selectOption(A);break}return;case"Escape":p?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:d}),i.onMenuClose()):m&&f&&i.clearValue();break;case" ":if(d)return;if(!p){i.openMenu("first");break}if(!A)return;i.selectOption(A);break;case"ArrowUp":p?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":p?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!p)return;i.focusOption("pageup");break;case"PageDown":if(!p)return;i.focusOption("pagedown");break;case"Home":if(!p)return;i.focusOption("first");break;case"End":if(!p)return;i.focusOption("last");break;default:return}a.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++O5),i.state.selectValue=ay(r.value),r.menuIsOpen&&i.state.selectValue.length){var s=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),u=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=s,i.state.focusedOption=o[u],i.state.focusedOptionId=bh(s,o[u])}return i}return YL(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&uy(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isDisabled,u=s.menuIsOpen,a=this.state.isFocused;(a&&!o&&i.isDisabled||a&&u&&!i.menuIsOpen)&&this.focusInput(),a&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!a&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(uy(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,s){this.props.onInputChange(i,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var s=this,o=this.state,u=o.selectValue,a=o.isFocused,l=this.buildFocusableOptions(),c=i==="first"?0:l.length-1;if(!this.props.isMulti){var h=l.indexOf(u[0]);h>-1&&(c=h)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:l[c],focusedOptionId:this.getFocusedOptionId(l[c])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(i){var s=this.state,o=s.selectValue,u=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=o.indexOf(u);u||(a=-1);var l=o.length-1,c=-1;if(o.length){switch(i){case"previous":a===0?c=0:a===-1?c=l:c=a-1;break;case"next":a>-1&&a<l&&(c=a+1);break}this.setState({inputIsHidden:c!==-1,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,u=this.getFocusableOptions();if(u.length){var a=0,l=u.indexOf(o);o||(l=-1),i==="up"?a=l>0?l-1:u.length-1:i==="down"?a=(l+1)%u.length:i==="pageup"?(a=l-s,a<0&&(a=0)):i==="pagedown"?(a=l+s,a>u.length-1&&(a=u.length-1)):i==="last"&&(a=u.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:u[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(u[a])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(_h):Q(Q({},_h),this.props.theme):_h}},{key:"getCommonProps",value:function(){var i=this.clearValue,s=this.cx,o=this.getStyles,u=this.getClassNames,a=this.getValue,l=this.selectOption,c=this.setValue,h=this.props,f=h.isMulti,d=h.isRtl,m=h.options,g=this.hasValue();return{clearValue:i,cx:s,getStyles:o,getClassNames:u,getValue:a,hasValue:g,isMulti:f,isRtl:d,options:m,selectOption:l,selectProps:h,setValue:c,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,s=i.isClearable,o=i.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(i,s){return Iw(this.props,i,s)}},{key:"isOptionSelected",value:function(i,s){return Sw(this.props,i,s)}},{key:"filterOption",value:function(i,s){return Cw(this.props,i,s)}},{key:"formatOptionLabel",value:function(i,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,u=this.state.selectValue;return this.props.formatOptionLabel(i,{context:s,inputValue:o,selectValue:u})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,s=i.isDisabled,o=i.isSearchable,u=i.inputId,a=i.inputValue,l=i.tabIndex,c=i.form,h=i.menuIsOpen,f=i.required,d=this.getComponents(),m=d.Input,g=this.state,p=g.inputIsHidden,y=g.ariaSelection,_=this.commonProps,w=u||this.getElementId("input"),T=Q(Q(Q({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":f,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(y==null?void 0:y.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?L(m,M({},_,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:w,innerRef:this.getInputRef,isDisabled:s,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:l,form:c,type:"text",value:a},T)):L(r5,M({id:w,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:hl,onFocus:this.onInputFocus,disabled:s,tabIndex:l,inputMode:"none",form:c,value:""},T))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,s=this.getComponents(),o=s.MultiValue,u=s.MultiValueContainer,a=s.MultiValueLabel,l=s.MultiValueRemove,c=s.SingleValue,h=s.Placeholder,f=this.commonProps,d=this.props,m=d.controlShouldRenderValue,g=d.isDisabled,p=d.isMulti,y=d.inputValue,_=d.placeholder,w=this.state,T=w.selectValue,A=w.focusedValue,b=w.isFocused;if(!this.hasValue()||!m)return y?null:L(h,M({},f,{key:"placeholder",isDisabled:g,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),_);if(p)return T.map(function(P,x){var V=P===A,H="".concat(i.getOptionLabel(P),"-").concat(i.getOptionValue(P));return L(o,M({},f,{components:{Container:u,Label:a,Remove:l},isFocused:V,isDisabled:g,key:H,index:x,removeProps:{onClick:function(){return i.removeValue(P)},onTouchEnd:function(){return i.removeValue(P)},onMouseDown:function(le){le.preventDefault()}},data:P}),i.formatOptionLabel(P,"value"))});if(y)return null;var S=T[0];return L(c,M({},f,{data:S,isDisabled:g}),this.formatOptionLabel(S,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),s=i.ClearIndicator,o=this.commonProps,u=this.props,a=u.isDisabled,l=u.isLoading,c=this.state.isFocused;if(!this.isClearable()||!s||a||!this.hasValue()||l)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return L(s,M({},o,{innerProps:h,isFocused:c}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),s=i.LoadingIndicator,o=this.commonProps,u=this.props,a=u.isDisabled,l=u.isLoading,c=this.state.isFocused;if(!s||!l)return null;var h={"aria-hidden":"true"};return L(s,M({},o,{innerProps:h,isDisabled:a,isFocused:c}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator,o=i.IndicatorSeparator;if(!s||!o)return null;var u=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused;return L(o,M({},u,{isDisabled:a,isFocused:l}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),s=i.DropdownIndicator;if(!s)return null;var o=this.commonProps,u=this.props.isDisabled,a=this.state.isFocused,l={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return L(s,M({},o,{innerProps:l,isDisabled:u,isFocused:a}))}},{key:"renderMenu",value:function(){var i=this,s=this.getComponents(),o=s.Group,u=s.GroupHeading,a=s.Menu,l=s.MenuList,c=s.MenuPortal,h=s.LoadingMessage,f=s.NoOptionsMessage,d=s.Option,m=this.commonProps,g=this.state.focusedOption,p=this.props,y=p.captureMenuScroll,_=p.inputValue,w=p.isLoading,T=p.loadingMessage,A=p.minMenuHeight,b=p.maxMenuHeight,S=p.menuIsOpen,P=p.menuPlacement,x=p.menuPosition,V=p.menuPortalTarget,H=p.menuShouldBlockScroll,G=p.menuShouldScrollIntoView,le=p.noOptionsMessage,pe=p.onMenuScrollToTop,be=p.onMenuScrollToBottom;if(!S)return null;var Se=function(Xe,Je){var St=Xe.type,Ze=Xe.data,Jt=Xe.isDisabled,ln=Xe.isSelected,Ti=Xe.label,Ac=Xe.value,Ct=g===Ze,ar=Jt?void 0:function(){return i.onOptionHover(Ze)},Na=Jt?void 0:function(){return i.selectOption(Ze)},Fa="".concat(i.getElementId("option"),"-").concat(Je),Un={id:Fa,onClick:Na,onMouseMove:ar,onMouseOver:ar,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:ln};return L(d,M({},m,{innerProps:Un,data:Ze,isDisabled:Jt,isSelected:ln,key:Fa,label:Ti,type:St,value:Ac,isFocused:Ct,innerRef:Ct?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Xe.data,"menu"))},ge;if(this.hasOptions())ge=this.getCategorizedOptions().map(function(Ce){if(Ce.type==="group"){var Xe=Ce.data,Je=Ce.options,St=Ce.index,Ze="".concat(i.getElementId("group"),"-").concat(St),Jt="".concat(Ze,"-heading");return L(o,M({},m,{key:Ze,data:Xe,options:Je,Heading:u,headingProps:{id:Jt,data:Ce.data},label:i.formatGroupLabel(Ce.data)}),Ce.options.map(function(ln){return Se(ln,"".concat(St,"-").concat(ln.index))}))}else if(Ce.type==="option")return Se(Ce,"".concat(Ce.index))});else if(w){var gt=T({inputValue:_});if(gt===null)return null;ge=L(h,m,gt)}else{var $t=le({inputValue:_});if($t===null)return null;ge=L(f,m,$t)}var Vt={minMenuHeight:A,maxMenuHeight:b,menuPlacement:P,menuPosition:x,menuShouldScrollIntoView:G},Ut=L(VN,M({},m,Vt),function(Ce){var Xe=Ce.ref,Je=Ce.placerProps,St=Je.placement,Ze=Je.maxHeight;return L(a,M({},m,Vt,{innerRef:Xe,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:w,placement:St}),L(l5,{captureEnabled:y,onTopArrive:pe,onBottomArrive:be,lockEnabled:H},function(Jt){return L(l,M({},m,{innerRef:function(Ti){i.getMenuListRef(Ti),Jt(Ti)},innerProps:{role:"listbox","aria-multiselectable":m.isMulti,id:i.getElementId("listbox")},isLoading:w,maxHeight:Ze,focusedOption:g}),ge)}))});return V||x==="fixed"?L(c,M({},m,{appendTo:V,controlElement:this.controlRef,menuPlacement:P,menuPosition:x}),Ut):Ut}},{key:"renderFormField",value:function(){var i=this,s=this.props,o=s.delimiter,u=s.isDisabled,a=s.isMulti,l=s.name,c=s.required,h=this.state.selectValue;if(c&&!this.hasValue()&&!u)return L(d5,{name:l,onFocus:this.onValueInputFocus});if(!(!l||u))if(a)if(o){var f=h.map(function(g){return i.getOptionValue(g)}).join(o);return L("input",{name:l,type:"hidden",value:f})}else{var d=h.length>0?h.map(function(g,p){return L("input",{key:"i-".concat(p),name:l,type:"hidden",value:i.getOptionValue(g)})}):L("input",{name:l,type:"hidden",value:""});return L("div",null,d)}else{var m=h[0]?this.getOptionValue(h[0]):"";return L("input",{name:l,type:"hidden",value:m})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,s=this.state,o=s.ariaSelection,u=s.focusedOption,a=s.focusedValue,l=s.isFocused,c=s.selectValue,h=this.getFocusableOptions();return L(XF,M({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:u,focusedValue:a,isFocused:l,selectValue:c,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),s=i.Control,o=i.IndicatorsContainer,u=i.SelectContainer,a=i.ValueContainer,l=this.props,c=l.className,h=l.id,f=l.isDisabled,d=l.menuIsOpen,m=this.state.isFocused,g=this.commonProps=this.getCommonProps();return L(u,M({},g,{className:c,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:f,isFocused:m}),this.renderLiveRegion(),L(s,M({},g,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:f,isFocused:m,menuIsOpen:d}),L(a,M({},g,{isDisabled:f}),this.renderPlaceholderOrValue(),this.renderInput()),L(o,M({},g,{isDisabled:f}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,s){var o=s.prevProps,u=s.clearFocusValueOnUpdate,a=s.inputIsHiddenAfterUpdate,l=s.ariaSelection,c=s.isFocused,h=s.prevWasFocused,f=s.instancePrefix,d=i.options,m=i.value,g=i.menuIsOpen,p=i.inputValue,y=i.isMulti,_=ay(m),w={};if(o&&(m!==o.value||d!==o.options||g!==o.menuIsOpen||p!==o.inputValue)){var T=g?R5(i,_):[],A=g?wy(Ru(i,_),"".concat(f,"-option")):[],b=u?P5(s,_):null,S=x5(s,T),P=bh(A,S);w={selectValue:_,focusedOption:S,focusedOptionId:P,focusableOptionsWithIds:A,focusedValue:b,clearFocusValueOnUpdate:!1}}var x=a!=null&&i!==o?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},V=l,H=c&&h;return c&&!H&&(V={value:lu(y,_,_[0]||null),options:_,action:"initial-input-focus"},H=!h),(l==null?void 0:l.action)==="initial-input-focus"&&(V=null),Q(Q(Q({},w),x),{},{prevProps:i,ariaSelection:V,prevWasFocused:H})}}]),n}(ht);Rw.defaultProps=A5;var D5=xs(function(t,e){var n=GL(t);return L(Rw,M({ref:e},n))}),Iy=D5;function Pw(t,e,n){const r=ks(),i="prefs."+t,[s,o]=ie({value:n,source:"auth",prev:{value:n,source:"auth"}});Ve(()=>{of(r,async l=>{if(l){const c=Wo(Ko,"userdata",l.uid),f=(await e.fetchQuery({queryKey:[l.uid],queryFn:()=>Ap(c),staleTime:3e5})).data();(f==null?void 0:f.prefs[t])==null?u("state",n):u("auth",f==null?void 0:f.prefs[t])}else console.log("guest user"),u("guest")})},[]);function u(l,c){c==null&&(c=s.value),l=="state"?r.currentUser?o({value:c,source:l,prev:{value:s.value,source:s.source}}):o({value:c,source:l,prev:{value:s.value,source:s.source}}):(l==="guest"||!(s.prev.source==="auth"&&s.prev.value===c||l==="force"&&s.prev.value===c))&&o({value:c,source:l,prev:{value:s.value,source:s.source}})}if(Ve(()=>{s.source=="state"&&r.currentUser&&a.mutate()},[s]),r.currentUser){const l=Wo(Ko,"userdata",r.currentUser.uid),{status:c}=$E(),h=r.currentUser.uid;var a=dV({mutationKey:[h],mutationFn:()=>O4(l,{[i]:s.value}),onSuccess:(f,d)=>{e.invalidateQueries({queryKey:[h]})}});return{accType:"auth",status:c??"error",pcState:s,updatePCState:u}}return{accType:"guest",status:"error",pcState:s,updatePCState:u}}function to({id:t,label:e,options:n,onChange:r,set:i,defaultValue:s,disabled:o}){s==null&&(s=n[0]);const u={control:f=>({...f,borderRadius:"5px",borderColor:"#00a0a0",background:"#000000",flexWrap:"nowrap",":hover":{borderColor:"#ffffff"}}),singleValue:f=>({...f,color:o?"#707070":"#ffffff"}),menu:f=>({...f,background:"#000000",border:"solid 2px #005050"}),option:(f,d)=>({...f,background:d.isFocused?"#005050":"#000000"})},{accType:a,status:l,updatePCState:c}=Pw(t,wc(),s);if(a==="auth"&&l!=="success")return v(N,{children:v("div",{class:"selectmenuitem menuitem disabled",children:[v("div",{children:e}),v(Iy,{className:"select",options:n,styles:u,defaultValue:s,isDisabled:!0,value:i})]})});function h(f){const d=f;c("state",d),r&&r(d)}return i&&c("force",i),v(N,{children:v("div",{class:"selectmenuitem menuitem"+(o?" disabled":""),children:[v("div",{children:e}),v(Iy,{className:"select",options:n,styles:u,defaultValue:s,onChange:h,maxMenuHeight:"50vh",onMenuOpen:()=>{setTimeout(()=>{var d;const f=document.querySelector('[aria-selected="true"]');f&&((d=f.parentElement)==null||d.scrollTo({top:f.offsetTop,behavior:"instant"}))},20)},isDisabled:o,value:i})]})})}function k5(){return v(N,{children:v("hr",{class:"menudivider"})})}function M5({children:t}){const[e,n]=ie("");e||r(t[0].props.id);function r(i){n(i)}return v(N,{children:[v("div",{class:"panelswitcher",children:v("div",{class:"tabs",children:t.map(i=>v(N,{children:v("button",{class:e===i.props.id?"selected":"",onClick:()=>r(i.props.id),children:i.props.icon})}))})}),t.find(i=>i.props.id==e)]})}function no({children:t}){return v("div",{class:"spanel",children:t})}var Xp={},V5=it;Object.defineProperty(Xp,"__esModule",{value:!0});var xw=Xp.default=void 0,L5=V5(st()),N5=Ye(),F5=(0,L5.default)((0,N5.jsx)("path",{d:"m14 4 2.29 2.29-2.88 2.88 1.42 1.42 2.88-2.88L20 10V4zm-4 0H4v6l2.29-2.29 4.71 4.7V20h2v-8.41l-5.29-5.3z"}),"CallSplit");xw=Xp.default=F5;var Jp={},$5=it;Object.defineProperty(Jp,"__esModule",{value:!0});var Ow=Jp.default=void 0,U5=$5(st()),z5=Ye(),j5=(0,U5.default)((0,z5.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");Ow=Jp.default=j5;var Zp={},B5=it;Object.defineProperty(Zp,"__esModule",{value:!0});var Dw=Zp.default=void 0,H5=B5(st()),Sy=Ye(),W5=(0,H5.default)([(0,Sy.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"},"0"),(0,Sy.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99zM13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83zm4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24z"},"1")],"MenuBook");Dw=Zp.default=W5;function q5({id:t,onChange:e,offText:n,onText:r,defaultValue:i}){i==null&&(i=!1);const{accType:s,status:o,pcState:u,updatePCState:a}=Pw(t,wc(),i);if(s==="auth"&&o!=="success")return v(N,{children:v("div",{class:"sliderwrapper disabled",children:[v("div",{class:"bh-slider-left "+(u.value?"active":""),children:n}),v("button",{id:t,class:"bh-slider "+(u.value?"active":""),onClick:l,children:v("div",{class:"bar"})}),v("div",{class:"bh-slider-right "+(u.value?"active":""),children:r})]})});function l(){a("state",!u.value),e&&e(!u.value)}return v(N,{children:v("div",{class:"sliderwrapper",children:[v("div",{class:"bh-slider-left "+(u.value?"active":""),children:n}),v("button",{id:t,class:"bh-slider "+(u.value?"active":""),onClick:l,children:v("div",{class:"bar"})}),v("div",{class:"bh-slider-right "+(u.value?"active":""),children:r})]})})}function Ur({id:t,label:e,offText:n,onText:r,defaultValue:i,onChange:s,disabled:o}){function u(a){s&&s(a)}return v(N,{children:v("div",{class:"slidermenuitem menuitem"+(o?" disabled":""),children:[v("div",{children:e}),v(q5,{id:t,offText:n,onText:r,onChange:u,defaultValue:i})]})})}function Cy({id:t,label:e,button:n,onClick:r}){function i(){r&&r()}return v(N,{children:v("div",{class:"buttonmenuitem menuitem",children:[v("div",{children:e}),v("button",{id:t,onClick:i,children:n})]})})}function K5({id:t,label:e,value:n,autoClear:r,onEnter:i}){const[s,o]=ie(()=>{const l=n||localStorage.getItem(t)||"";return l&&i&&i(JSON.parse(l)),l}),u=gn();function a(l){if(l.key==="Enter"){const c=JSON.stringify(u.current.value);localStorage.setItem(t,c),o(c),i(u.current.value),r&&(u.current.value="")}}return v(N,{children:v("div",{class:"inputmenuitem menuitem",children:[v("div",{children:e}),v("input",{ref:u,onKeyDown:a})]})})}function G5({isCollapsed:t,onCollapse:e}){const n=pa(),[r,i]=ie({});function s(T){const A=T.value;u({type:"lang",id:A})}function o(T){const A=JSON.parse(T.value).id;u({type:"chap",id:A})}function u(T){r!=T&&i(T)}Ve(()=>{if(r){const T=r.type==="lang"?r.id:a.langid,A=r.type==="chap"?r.id:a.chapid,b=["/blade-heart/manhua",a.mangaid,T,A].join("/");n(b)}},[r]);const a=me(zs);if(!a.mangaid||!a.langid||!a.chapid)return console.warn(a.mangaid,a.langid,a.chapid),v("div",{children:"Loading..."});const l=BE[a.mangaid],{mangaMeta:c,langMeta:h,chapMeta:f,chapNumeral:d}=Sc(a);if(!l||!c||!h)return console.warn("manga info not found!"),console.warn({mangaInfo:l,mangaMeta:c,langMeta:h}),v("div",{class:"readermenu",children:"manga info not found!"});const[m,g]=ie(""),p={language:a.mangaid+"|sct|language",chapter:a.mangaid+"|sct|chapter",notes:a.mangaid+"|pnl|notes",behaviours:a.mangaid+"|pnl|behaviours",audio:a.mangaid+"|pnl|audio",settings:a.mangaid+"|pnl|settings",dictionary:a.mangaid+"|pnl|dictionary"},y=["custom","recommended"],_=["English"],w=["ayrlin"];return v(N,{children:v("div",{class:"readermenu",children:[v("button",{class:t?"collapsebtn collapsed":"collapsebtn",onClick:()=>e(!t),children:t?"‹":"›"}),v("div",{class:t?"contentarea collapsed":"contentarea",children:[v(zL,{}),v(jL,{}),v(k5,{}),v($r,{id:"mangatitle",content:c.title,subContent:l.subtitle}),v(to,{id:p.language,label:"Language",options:Object.keys(c.languages).map(T=>({label:c.languages[T].name,value:T})),onChange:s,set:{label:h.name,value:a.langid}}),v(to,{id:p.chapter,label:"Chapter",options:Object.keys(h.chapters).map(T=>({key:T,chap:h.chapters[T]})).map(({key:T,chap:A})=>({label:A.authornumber+": "+A.name,value:JSON.stringify({id:Go(A.name)||"",numeral:Number(T)})})),onChange:o,set:{label:f.authornumber+": "+f.name,value:JSON.stringify({id:Go(f.name)||"",numeral:d})}}),v(M5,{children:[v(no,{id:p.notes,icon:v(Fp,{}),children:[v($r,{id:p.notes+"|lbl|ttl",content:"notes",subContent:"preferences panel"}),v(to,{id:p.notes+"|sct|notelang",label:"Note Language",options:_.map(T=>({label:T,value:T})),disabled:!0}),v(to,{id:p.notes+"|sct|notesrc",label:"Note Source",options:w.map(T=>({label:T,value:T})),disabled:!0}),v($r,{id:p.notes+"|lbl|ctg",content:"categories",subContent:"note visibility"}),v(Ur,{id:p.notes+"|sld|ctg|language",offText:"hide",onText:"show",label:"Language",defaultValue:!0},p.notes+"|sld|ctg|language"),v(Ur,{id:p.notes+"|sld|ctg|translation",offText:"hide",onText:"show",label:"Translation",defaultValue:!0},p.notes+"|sld|ctg|translation"),v(Ur,{id:p.notes+"|sld|ctg|pronunciation",offText:"hide",onText:"show",label:"Pronunciation",defaultValue:!0},p.notes+"|sld|ctg|pronunciation"),v(Ur,{id:p.notes+"|sld|ctg|context",offText:"hide",onText:"show",label:"Context",defaultValue:!0},p.notes+"|sld|ctg|context"),v(Ur,{id:p.notes+"|sld|ctg|extra",offText:"hide",onText:"show",label:"Extras",defaultValue:!1},p.notes+"|sld|ctg|extra")]}),v(no,{id:p.behaviours,icon:v(xw,{}),children:[v($r,{id:p.behaviours+"|lbl|ttl",content:"behaviours",subContent:"preferences panel"}),v(to,{id:p.behaviours+"|sct|test",label:"Presets",options:y.map(T=>({label:T,value:T})),disabled:!0})]}),v(no,{id:p.settings,icon:v(Ow,{}),children:[v($r,{id:p.settings+"|lbl|ttl",content:"settings",subContent:"preferences panel"}),v(Cy,{id:p.settings+"|btn|csl|localStorageList",label:"[DEV] localStorage",button:"LIST",onClick:function(){console.log(Array.from({length:localStorage.length},(A,b)=>b).map(A=>({key:localStorage.key(A),value:localStorage.getItem(localStorage.key(A)||"")})))}}),v(Cy,{id:p.settings+"|btn|csl|localStorageClear",label:"[DEV] localStorage",button:"CLEAR",onClick:()=>localStorage.clear()})]}),v(no,{id:p.audio,icon:v(Lp,{}),children:[v($r,{id:p.audio+"|lbl|ttl",content:"audio",subContent:"settings panel"}),v(Ur,{id:p.audio+"|sld|bgm",offText:"off",onText:"on",label:"Background Music",defaultValue:!1,disabled:!0},p.audio+"|sld|bgm"),v(Ur,{id:p.audio+"|sld|sfx",offText:"off",onText:"on",label:"Sound Effects",defaultValue:!1,disabled:!0},p.audio+"|sld|sfx")]}),v(no,{id:p.dictionary,icon:v(Dw,{}),children:[v($r,{id:p.dictionary+"|lbl|ttl",content:"dictionary",subContent:"lookup panel"}),v(K5,{id:p.dictionary+"|in|dictionary",label:"Search",onEnter:T=>{g(T)},autoClear:!0}),v(QE,{term:m})]})]})]})]})})}function Q5(t){const e=t.pathname.split("/"),n=e.slice(-3,-2).toString(),r=e.slice(-2,-1).toString(),i=e.slice(-1).toString();return{prepath:e.slice(0,-3).join("/"),mangaid:n,langid:r,chapid:i}}const zs=ft({}),em=ft({});var Eh={};function Y5(){const[t,e]=ie(1),[n,r]=ie(!1),i=fa(),o={...Q5(i)},u=gn(),[a,l]=ie({viewWidth:0,pages:Yv(o),heightUpTo:h,posToPx:f,scrollTo:c,isLoaded:d,update:m});Eh&&JSON.stringify(Eh)!=JSON.stringify(o)&&(a.pages=Yv(o),a.update(a)),Eh=o;function c(p,y){if(u.current){const w=u.current;var _;p==="px"?_=y:_=f(a,y),w.scrollTo({top:_,behavior:"smooth"})}}function h(p,y){if(y==0)return 0;y||(y=p.pages.length+1);let _=0;for(let w=0;w<y;w++){if(!p.pages[w])return NaN;_+=p.pages[w].viewHeight+3}return _}function f(p,y){const _=Math.floor(y/100),w=p.pages[_].viewHeight,T=Number(y.toString().padStart(2,"0").slice(-2));return h(p,_)+w/100*T}function d(){return a.pages.every(y=>y.loaded===!0)}function m(p){l({...p})}return(!o||!o.chapid)&&t>0?(setTimeout(()=>e(t+1),1e3),v(N,{children:v("div",{id:"mangareader",children:v("div",{class:"mangaloading",children:[v("div",{class:"loadingtext",children:"LOADING..."}),v("div",{class:"loadingtimer",children:t})]})})})):v(N,{children:v(zs.Provider,{value:o,children:v(em.Provider,{value:a,children:v("div",{id:"mangareader",children:[v("div",{class:"mainscreen",ref:u,children:v("div",{class:"maininner",children:[v(tL,{}),v(nL,{}),v(UL,{}),v("div",{class:n?"notespacer collapsed":"notespacer"})]})}),v(G5,{isCollapsed:n,onCollapse:r})]})})})})}const X5=II([{path:"/",element:v(EI,{to:"/blade-heart",replace:!0})},{path:"/blade-heart",element:v(qV,{}),errorElement:v(Xv,{})},{path:"/blade-heart/manhua/:manhuaId/:langId/:chapterId",element:v(Y5,{}),errorElement:v(Xv,{})}]);function J5(){return v(N,{children:v(kI,{router:X5})})}var Z5=function(){return null};const e3=new G4;oi(v(Z4,{client:e3,children:[v(J5,{}),v(Z5,{initialIsOpen:!1})]}),document.getElementById("app"));
